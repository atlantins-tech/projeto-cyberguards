(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function kE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vm={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function uA(){if(P0)return Bl;P0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Bl.Fragment=e,Bl.jsx=n,Bl.jsxs=n,Bl}var L0;function cA(){return L0||(L0=1,vm.exports=uA()),vm.exports}var T=cA(),_m={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function hA(){if(U0)return Ne;U0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function A(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,G={};function U(k,ee,le){this.props=k,this.context=ee,this.refs=G,this.updater=le||O}U.prototype.isReactComponent={},U.prototype.setState=function(k,ee){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ee,"setState")},U.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function q(){}q.prototype=U.prototype;function W(k,ee,le){this.props=k,this.context=ee,this.refs=G,this.updater=le||O}var $=W.prototype=new q;$.constructor=W,V($,U.prototype),$.isPureReactComponent=!0;var ae=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},pe=Object.prototype.hasOwnProperty;function I(k,ee,le,K,he,Ee){return le=Ee.ref,{$$typeof:r,type:k,key:ee,ref:le!==void 0?le:null,props:Ee}}function S(k,ee){return I(k.type,ee,void 0,void 0,void 0,k.props)}function R(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function M(k){var ee={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(le){return ee[le]})}var P=/\/+/g;function D(k,ee){return typeof k=="object"&&k!==null&&k.key!=null?M(""+k.key):ee.toString(36)}function C(){}function De(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(C,C):(k.status="pending",k.then(function(ee){k.status==="pending"&&(k.status="fulfilled",k.value=ee)},function(ee){k.status==="pending"&&(k.status="rejected",k.reason=ee)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Ie(k,ee,le,K,he){var Ee=typeof k;(Ee==="undefined"||Ee==="boolean")&&(k=null);var ge=!1;if(k===null)ge=!0;else switch(Ee){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(k.$$typeof){case r:case e:ge=!0;break;case _:return ge=k._init,Ie(ge(k._payload),ee,le,K,he)}}if(ge)return he=he(k),ge=K===""?"."+D(k,0):K,ae(he)?(le="",ge!=null&&(le=ge.replace(P,"$&/")+"/"),Ie(he,ee,le,"",function(Wn){return Wn})):he!=null&&(R(he)&&(he=S(he,le+(he.key==null||k&&k.key===he.key?"":(""+he.key).replace(P,"$&/")+"/")+ge)),ee.push(he)),1;ge=0;var Dt=K===""?".":K+":";if(ae(k))for(var tt=0;tt<k.length;tt++)K=k[tt],Ee=Dt+D(K,tt),ge+=Ie(K,ee,le,Ee,he);else if(tt=A(k),typeof tt=="function")for(k=tt.call(k),tt=0;!(K=k.next()).done;)K=K.value,Ee=Dt+D(K,tt++),ge+=Ie(K,ee,le,Ee,he);else if(Ee==="object"){if(typeof k.then=="function")return Ie(De(k),ee,le,K,he);throw ee=String(k),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ge}function j(k,ee,le){if(k==null)return k;var K=[],he=0;return Ie(k,K,"","",function(Ee){return ee.call(le,Ee,he++)}),K}function te(k){if(k._status===-1){var ee=k._result;ee=ee(),ee.then(function(le){(k._status===0||k._status===-1)&&(k._status=1,k._result=le)},function(le){(k._status===0||k._status===-1)&&(k._status=2,k._result=le)}),k._status===-1&&(k._status=0,k._result=ee)}if(k._status===1)return k._result.default;throw k._result}var ce=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Ae(){}return Ne.Children={map:j,forEach:function(k,ee,le){j(k,function(){ee.apply(this,arguments)},le)},count:function(k){var ee=0;return j(k,function(){ee++}),ee},toArray:function(k){return j(k,function(ee){return ee})||[]},only:function(k){if(!R(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ne.Component=U,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=W,Ne.StrictMode=s,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(k){return oe.H.useMemoCache(k)}},Ne.cache=function(k){return function(){return k.apply(null,arguments)}},Ne.cloneElement=function(k,ee,le){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var K=V({},k.props),he=k.key,Ee=void 0;if(ee!=null)for(ge in ee.ref!==void 0&&(Ee=void 0),ee.key!==void 0&&(he=""+ee.key),ee)!pe.call(ee,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&ee.ref===void 0||(K[ge]=ee[ge]);var ge=arguments.length-2;if(ge===1)K.children=le;else if(1<ge){for(var Dt=Array(ge),tt=0;tt<ge;tt++)Dt[tt]=arguments[tt+2];K.children=Dt}return I(k.type,he,void 0,void 0,Ee,K)},Ne.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ne.createElement=function(k,ee,le){var K,he={},Ee=null;if(ee!=null)for(K in ee.key!==void 0&&(Ee=""+ee.key),ee)pe.call(ee,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(he[K]=ee[K]);var ge=arguments.length-2;if(ge===1)he.children=le;else if(1<ge){for(var Dt=Array(ge),tt=0;tt<ge;tt++)Dt[tt]=arguments[tt+2];he.children=Dt}if(k&&k.defaultProps)for(K in ge=k.defaultProps,ge)he[K]===void 0&&(he[K]=ge[K]);return I(k,Ee,void 0,void 0,null,he)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(k){return{$$typeof:m,render:k}},Ne.isValidElement=R,Ne.lazy=function(k){return{$$typeof:_,_payload:{_status:-1,_result:k},_init:te}},Ne.memo=function(k,ee){return{$$typeof:g,type:k,compare:ee===void 0?null:ee}},Ne.startTransition=function(k){var ee=oe.T,le={};oe.T=le;try{var K=k(),he=oe.S;he!==null&&he(le,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(Ae,ce)}catch(Ee){ce(Ee)}finally{oe.T=ee}},Ne.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Ne.use=function(k){return oe.H.use(k)},Ne.useActionState=function(k,ee,le){return oe.H.useActionState(k,ee,le)},Ne.useCallback=function(k,ee){return oe.H.useCallback(k,ee)},Ne.useContext=function(k){return oe.H.useContext(k)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(k,ee){return oe.H.useDeferredValue(k,ee)},Ne.useEffect=function(k,ee,le){var K=oe.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(k,ee)},Ne.useId=function(){return oe.H.useId()},Ne.useImperativeHandle=function(k,ee,le){return oe.H.useImperativeHandle(k,ee,le)},Ne.useInsertionEffect=function(k,ee){return oe.H.useInsertionEffect(k,ee)},Ne.useLayoutEffect=function(k,ee){return oe.H.useLayoutEffect(k,ee)},Ne.useMemo=function(k,ee){return oe.H.useMemo(k,ee)},Ne.useOptimistic=function(k,ee){return oe.H.useOptimistic(k,ee)},Ne.useReducer=function(k,ee,le){return oe.H.useReducer(k,ee,le)},Ne.useRef=function(k){return oe.H.useRef(k)},Ne.useState=function(k){return oe.H.useState(k)},Ne.useSyncExternalStore=function(k,ee,le){return oe.H.useSyncExternalStore(k,ee,le)},Ne.useTransition=function(){return oe.H.useTransition()},Ne.version="19.1.0",Ne}var j0;function wp(){return j0||(j0=1,_m.exports=hA()),_m.exports}var z=wp();const rt=kE(z);var Em={exports:{}},ql={},Tm={exports:{}},bm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function fA(){return z0||(z0=1,function(r){function e(j,te){var ce=j.length;j.push(te);e:for(;0<ce;){var Ae=ce-1>>>1,k=j[Ae];if(0<o(k,te))j[Ae]=te,j[ce]=k,ce=Ae;else break e}}function n(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var te=j[0],ce=j.pop();if(ce!==te){j[0]=ce;e:for(var Ae=0,k=j.length,ee=k>>>1;Ae<ee;){var le=2*(Ae+1)-1,K=j[le],he=le+1,Ee=j[he];if(0>o(K,ce))he<k&&0>o(Ee,K)?(j[Ae]=Ee,j[he]=ce,Ae=he):(j[Ae]=K,j[le]=ce,Ae=le);else if(he<k&&0>o(Ee,ce))j[Ae]=Ee,j[he]=ce,Ae=he;else break e}}return te}function o(j,te){var ce=j.sortIndex-te.sortIndex;return ce!==0?ce:j.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],_=1,w=null,A=3,O=!1,V=!1,G=!1,U=!1,q=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function ae(j){for(var te=n(g);te!==null;){if(te.callback===null)s(g);else if(te.startTime<=j)s(g),te.sortIndex=te.expirationTime,e(p,te);else break;te=n(g)}}function oe(j){if(G=!1,ae(j),!V)if(n(p)!==null)V=!0,pe||(pe=!0,D());else{var te=n(g);te!==null&&Ie(oe,te.startTime-j)}}var pe=!1,I=-1,S=5,R=-1;function M(){return U?!0:!(r.unstable_now()-R<S)}function P(){if(U=!1,pe){var j=r.unstable_now();R=j;var te=!0;try{e:{V=!1,G&&(G=!1,W(I),I=-1),O=!0;var ce=A;try{t:{for(ae(j),w=n(p);w!==null&&!(w.expirationTime>j&&M());){var Ae=w.callback;if(typeof Ae=="function"){w.callback=null,A=w.priorityLevel;var k=Ae(w.expirationTime<=j);if(j=r.unstable_now(),typeof k=="function"){w.callback=k,ae(j),te=!0;break t}w===n(p)&&s(p),ae(j)}else s(p);w=n(p)}if(w!==null)te=!0;else{var ee=n(g);ee!==null&&Ie(oe,ee.startTime-j),te=!1}}break e}finally{w=null,A=ce,O=!1}te=void 0}}finally{te?D():pe=!1}}}var D;if(typeof $=="function")D=function(){$(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,De=C.port2;C.port1.onmessage=P,D=function(){De.postMessage(null)}}else D=function(){q(P,0)};function Ie(j,te){I=q(function(){j(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(j){switch(A){case 1:case 2:case 3:var te=3;break;default:te=A}var ce=A;A=te;try{return j()}finally{A=ce}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(j,te){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ce=A;A=j;try{return te()}finally{A=ce}},r.unstable_scheduleCallback=function(j,te,ce){var Ae=r.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ae+ce:Ae):ce=Ae,j){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ce+k,j={id:_++,callback:te,priorityLevel:j,startTime:ce,expirationTime:k,sortIndex:-1},ce>Ae?(j.sortIndex=ce,e(g,j),n(p)===null&&j===n(g)&&(G?(W(I),I=-1):G=!0,Ie(oe,ce-Ae))):(j.sortIndex=k,e(p,j),V||O||(V=!0,pe||(pe=!0,D()))),j},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(j){var te=A;return function(){var ce=A;A=te;try{return j.apply(this,arguments)}finally{A=ce}}}}(bm)),bm}var B0;function dA(){return B0||(B0=1,Tm.exports=fA()),Tm.exports}var wm={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function mA(){if(q0)return Kt;q0=1;var r=wp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:_}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},Kt.flushSync=function(p){var g=h.T,_=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=_,s.d.f()}},Kt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Kt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Kt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,w=m(_,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:O}):_==="script"&&s.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Kt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Kt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,w=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Kt.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Kt.requestFormReset=function(p){s.d.r(p)},Kt.unstable_batchedUpdates=function(p,g){return p(g)},Kt.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},Kt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Kt.version="19.1.0",Kt}var H0;function pA(){if(H0)return wm.exports;H0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wm.exports=mA(),wm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0;function gA(){if(F0)return ql;F0=1;var r=dA(),e=wp(),n=pA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),t;if(d===l)return m(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,b=f.child;b;){if(b===a){E=!0,a=f,l=d;break}if(b===l){E=!0,l=f,a=d;break}b=b.sibling}if(!E){for(b=d.child;b;){if(b===a){E=!0,a=d,l=f;break}if(b===l){E=!0,l=d,a=f;break}b=b.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),$=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function D(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function De(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case U:return"Profiler";case G:return"StrictMode";case oe:return"Suspense";case pe:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case $:return(t.displayName||"Context")+".Provider";case W:return(t._context.displayName||"Context")+".Consumer";case ae:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:De(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return De(t(i))}catch{}}return null}var Ie=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Ae=[],k=-1;function ee(t){return{current:t}}function le(t){0>k||(t.current=Ae[k],Ae[k]=null,k--)}function K(t,i){k++,Ae[k]=t.current,t.current=i}var he=ee(null),Ee=ee(null),ge=ee(null),Dt=ee(null);function tt(t,i){switch(K(ge,i),K(Ee,t),K(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?c0(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=c0(i),t=h0(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(he),K(he,t)}function Wn(){le(he),le(Ee),le(ge)}function si(t){t.memoizedState!==null&&K(Dt,t);var i=he.current,a=h0(i,t.type);i!==a&&(K(Ee,t),K(he,a))}function Er(t){Ee.current===t&&(le(he),le(Ee)),Dt.current===t&&(le(Dt),Pl._currentValue=ce)}var ls=Object.prototype.hasOwnProperty,us=r.unstable_scheduleCallback,cs=r.unstable_cancelCallback,Mo=r.unstable_shouldYield,Iu=r.unstable_requestPaint,wn=r.unstable_now,vf=r.unstable_getCurrentPriorityLevel,ko=r.unstable_ImmediatePriority,oa=r.unstable_UserBlockingPriority,hs=r.unstable_NormalPriority,_f=r.unstable_LowPriority,la=r.unstable_IdlePriority,Vo=r.log,Nu=r.unstable_setDisableYieldValue,ct=null,Qe=null;function fn(t){if(typeof Vo=="function"&&Nu(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ct,t)}catch{}}var $t=Math.clz32?Math.clz32:fs,Du=Math.log,Ef=Math.LN2;function fs(t){return t>>>=0,t===0?32:31-(Du(t)/Ef|0)|0}var ds=256,ms=4194304;function Ln(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ua(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=Ln(l):(E&=b,E!==0?f=Ln(E):a||(a=b&~t,a!==0&&(f=Ln(a))))):(b=l&~d,b!==0?f=Ln(b):E!==0?f=Ln(E):a||(a=l&~t,a!==0&&(f=Ln(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function ps(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Po(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lo(){var t=ds;return ds<<=1,(ds&4194048)===0&&(ds=256),t}function Uo(){var t=ms;return ms<<=1,(ms&62914560)===0&&(ms=4194304),t}function Tr(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function br(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jo(t,i,a,l,f,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,Q=t.hiddenUpdates;for(a=E&~a;0<a;){var J=31-$t(a),re=1<<J;b[J]=0,N[J]=-1;var Y=Q[J];if(Y!==null)for(Q[J]=null,J=0;J<Y.length;J++){var X=Y[J];X!==null&&(X.lane&=-536870913)}a&=~re}l!==0&&Zn(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function Zn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-$t(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function zo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-$t(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function ai(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ca(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function oi(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:N0(t.type))}function Ou(t,i){var a=te.p;try{return te.p=t,i()}finally{te.p=a}}var st=Math.random().toString(36).slice(2),At="__reactFiber$"+st,yt="__reactProps$"+st,An="__reactContainer$"+st,Bo="__reactEvents$"+st,Tf="__reactListeners$"+st,li="__reactHandles$"+st,Mu="__reactResources$"+st,gs="__reactMarker$"+st;function ui(t){delete t[At],delete t[yt],delete t[Bo],delete t[Tf],delete t[li]}function wr(t){var i=t[At];if(i)return i;for(var a=t.parentNode;a;){if(i=a[An]||a[At]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=p0(t);t!==null;){if(a=t[At])return a;t=p0(t)}return i}t=a,a=t.parentNode}return null}function Jn(t){if(t=t[At]||t[An]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function er(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function en(t){var i=t[Mu];return i||(i=t[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function dt(t){t[gs]=!0}var qo=new Set,ha={};function Un(t,i){Ar(t,i),Ar(t+"Capture",i)}function Ar(t,i){for(ha[t]=i,t=0;t<i.length;t++)qo.add(i[t])}var ku=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vu={},ys={};function Pu(t){return ls.call(ys,t)?!0:ls.call(Vu,t)?!1:ku.test(t)?ys[t]=!0:(Vu[t]=!0,!1)}function ci(t,i,a){if(Pu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function tr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ut(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var vs,Lu;function xr(t){if(vs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);vs=i&&i[1]||"",Lu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vs+t+Lu}var fa=!1;function da(t,i){if(!t||fa)return"";fa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(X){var Y=X}Reflect.construct(t,[],re)}else{try{re.call()}catch(X){Y=X}t.call(re.prototype)}}else{try{throw Error()}catch(X){Y=X}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],b=d[1];if(E&&b){var N=E.split(`
`),Q=b.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<Q.length&&!Q[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===Q.length)for(l=N.length-1,f=Q.length-1;1<=l&&0<=f&&N[l]!==Q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==Q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==Q[f]){var J=`
`+N[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=f);break}}}finally{fa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?xr(a):""}function Ho(t){switch(t.tag){case 26:case 27:case 5:return xr(t.type);case 16:return xr("Lazy");case 13:return xr("Suspense");case 19:return xr("SuspenseList");case 0:case 15:return da(t.type,!1);case 11:return da(t.type.render,!1);case 1:return da(t.type,!0);case 31:return xr("Activity");default:return""}}function ma(t){try{var i="";do i+=Ho(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function bf(t){var i=Fo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function pa(t){t._valueTracker||(t._valueTracker=bf(t))}function Go(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Fo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function _s(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var wf=/[\n"\\]/g;function vt(t){return t.replace(wf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function dn(t,i,a,l,f,d,E,b){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+tn(i)):t.value!==""+tn(i)&&(t.value=""+tn(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?hi(t,E,tn(i)):a!=null?hi(t,E,tn(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+tn(b):t.removeAttribute("name")}function Es(t,i,a,l,f,d,E,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function hi(t,i,a){i==="number"&&_s(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Sr(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Xe(t,i,a){if(i!=null&&(i=""+tn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+tn(a):""}function Ts(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=tn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function xn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var bs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||bs.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function $o(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Uu(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Uu(t,d,i[d])}function Qo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Af=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(t){return xf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Rr=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cr=null,Ir=null;function Ko(t){var i=Jn(t);if(i&&(t=i.stateNode)){var a=t[yt]||null;e:switch(t=i.stateNode,i.type){case"input":if(dn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[yt]||null;if(!f)throw Error(s(90));dn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Go(l)}break e;case"textarea":Xe(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Sr(t,!!a.multiple,i,!1)}}}var nr=!1;function ju(t,i,a){if(nr)return t(i,a);nr=!0;try{var l=t(i);return l}finally{if(nr=!1,(Cr!==null||Ir!==null)&&(Oc(),Cr&&(i=Cr,t=Ir,Ir=Cr=null,Ko(i),t)))for(i=0;i<t.length;i++)Ko(t[i])}}function ws(t,i){var a=t.stateNode;if(a===null)return null;var l=a[yt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rn=!1;if(jn)try{var As={};Object.defineProperty(As,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{Rn=!1}var rr=null,fi=null,Nr=null;function Yo(){if(Nr)return Nr;var t,i=fi,a=i.length,l,f="value"in rr?rr.value:rr.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===f[d-l];l++);return Nr=f.slice(t,1<l?1-l:void 0)}function ir(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function sr(){return!0}function Xo(){return!1}function Ot(t){function i(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?sr:Xo,this.isPropagationStopped=Xo,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),i}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ya=Ot(Ge),xs=_({},Ge,{view:0,detail:0}),zu=Ot(xs),va,_a,ar,Ss=_({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ar&&(ar&&t.type==="mousemove"?(va=t.screenX-ar.screenX,_a=t.screenY-ar.screenY):_a=va=0,ar=t),va)},movementY:function(t){return"movementY"in t?t.movementY:_a}}),Cn=Ot(Ss),Bu=_({},Ss,{dataTransfer:0}),Sf=Ot(Bu),Rs=_({},xs,{relatedTarget:0}),Ea=Ot(Rs),Wo=_({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Ta=Ot(Wo),qu=_({},Ge,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ba=Ot(qu),Rf=_({},Ge,{data:0}),Zo=Ot(Rf),Cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Fu[t])?!!i[t]:!1}function Is(){return Jo}var Gu=_({},xs,{key:function(t){if(t.key){var i=Cs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ir(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(t){return t.type==="keypress"?ir(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ir(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wa=Ot(Gu),$u=_({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=Ot($u),Dr=_({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),Qu=Ot(Dr),Ku=_({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yu=Ot(Ku),Xu=_({},Ss,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Aa=Ot(Xu),nn=_({},Ge,{newState:0,oldState:0}),Wu=Ot(nn),Zu=[9,13,27,32],or=jn&&"CompositionEvent"in window,c=null;jn&&"documentMode"in document&&(c=document.documentMode);var y=jn&&"TextEvent"in window&&!c,v=jn&&(!or||c&&8<c&&11>=c),x=" ",H=!1;function Z(t,i){switch(t){case"keyup":return Zu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var je=!1;function xt(t,i){switch(t){case"compositionend":return ue(i);case"keypress":return i.which!==32?null:(H=!0,x);case"textInput":return t=i.data,t===x&&H?null:t;default:return null}}function ze(t,i){if(je)return t==="compositionend"||!or&&Z(t,i)?(t=Yo(),Nr=fi=rr=null,je=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Mt[t.type]:i==="textarea"}function Or(t,i,a,l){Cr?Ir?Ir.push(l):Ir=[l]:Cr=l,i=Uc(i,"onChange"),0<i.length&&(a=new ya("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var jt=null,lr=null;function tl(t){s0(t,0)}function Ju(t){var i=er(t);if(Go(i))return t}function Sg(t,i){if(t==="change")return i}var Rg=!1;if(jn){var Cf;if(jn){var If="oninput"in document;if(!If){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),If=typeof Cg.oninput=="function"}Cf=If}else Cf=!1;Rg=Cf&&(!document.documentMode||9<document.documentMode)}function Ig(){jt&&(jt.detachEvent("onpropertychange",Ng),lr=jt=null)}function Ng(t){if(t.propertyName==="value"&&Ju(lr)){var i=[];Or(i,lr,t,Sn(t)),ju(tl,i)}}function j1(t,i,a){t==="focusin"?(Ig(),jt=i,lr=a,jt.attachEvent("onpropertychange",Ng)):t==="focusout"&&Ig()}function z1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ju(lr)}function B1(t,i){if(t==="click")return Ju(i)}function q1(t,i){if(t==="input"||t==="change")return Ju(i)}function H1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var mn=typeof Object.is=="function"?Object.is:H1;function nl(t,i){if(mn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ls.call(i,f)||!mn(t[f],i[f]))return!1}return!0}function Dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Og(t,i){var a=Dg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Dg(a)}}function Mg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Mg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function kg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=_s(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=_s(t.document)}return i}function Nf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var F1=jn&&"documentMode"in document&&11>=document.documentMode,xa=null,Df=null,rl=null,Of=!1;function Vg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Of||xa==null||xa!==_s(l)||(l=xa,"selectionStart"in l&&Nf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&nl(rl,l)||(rl=l,l=Uc(Df,"onSelect"),0<l.length&&(i=new ya("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=xa)))}function Ns(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Sa={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},Mf={},Pg={};jn&&(Pg=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Ds(t){if(Mf[t])return Mf[t];if(!Sa[t])return t;var i=Sa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Pg)return Mf[t]=i[a];return t}var Lg=Ds("animationend"),Ug=Ds("animationiteration"),jg=Ds("animationstart"),G1=Ds("transitionrun"),$1=Ds("transitionstart"),Q1=Ds("transitioncancel"),zg=Ds("transitionend"),Bg=new Map,kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kf.push("scrollEnd");function zn(t,i){Bg.set(t,i),Un(i,[t])}var qg=new WeakMap;function In(t,i){if(typeof t=="object"&&t!==null){var a=qg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ma(i)},qg.set(t,i),i)}return{value:t,source:i,stack:ma(i)}}var Nn=[],Ra=0,Vf=0;function ec(){for(var t=Ra,i=Vf=Ra=0;i<t;){var a=Nn[i];Nn[i++]=null;var l=Nn[i];Nn[i++]=null;var f=Nn[i];Nn[i++]=null;var d=Nn[i];if(Nn[i++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&Hg(a,f,d)}}function tc(t,i,a,l){Nn[Ra++]=t,Nn[Ra++]=i,Nn[Ra++]=a,Nn[Ra++]=l,Vf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Pf(t,i,a,l){return tc(t,i,a,l),nc(t)}function Ca(t,i){return tc(t,null,null,i),nc(t)}function Hg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-$t(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function nc(t){if(50<Cl)throw Cl=0,qd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ia={};function K1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,i,a,l){return new K1(t,i,a,l)}function Lf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mr(t,i){var a=t.alternate;return a===null?(a=pn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Fg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function rc(t,i,a,l,f,d){var E=0;if(l=t,typeof t=="function")Lf(t)&&(E=1);else if(typeof t=="string")E=Xw(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=pn(31,a,i,f),t.elementType=R,t.lanes=d,t;case V:return Os(a.children,f,d,i);case G:E=8,f|=24;break;case U:return t=pn(12,a,i,f|2),t.elementType=U,t.lanes=d,t;case oe:return t=pn(13,a,i,f),t.elementType=oe,t.lanes=d,t;case pe:return t=pn(19,a,i,f),t.elementType=pe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q:case $:E=10;break e;case W:E=9;break e;case ae:E=11;break e;case I:E=14;break e;case S:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=pn(E,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Os(t,i,a,l){return t=pn(7,t,l,i),t.lanes=a,t}function Uf(t,i,a){return t=pn(6,t,null,i),t.lanes=a,t}function jf(t,i,a){return i=pn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Na=[],Da=0,ic=null,sc=0,Dn=[],On=0,Ms=null,kr=1,Vr="";function ks(t,i){Na[Da++]=sc,Na[Da++]=ic,ic=t,sc=i}function Gg(t,i,a){Dn[On++]=kr,Dn[On++]=Vr,Dn[On++]=Ms,Ms=t;var l=kr;t=Vr;var f=32-$t(l)-1;l&=~(1<<f),a+=1;var d=32-$t(i)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,kr=1<<32-$t(i)+f|a<<f|l,Vr=d+t}else kr=1<<d|a<<f|l,Vr=t}function zf(t){t.return!==null&&(ks(t,1),Gg(t,1,0))}function Bf(t){for(;t===ic;)ic=Na[--Da],Na[Da]=null,sc=Na[--Da],Na[Da]=null;for(;t===Ms;)Ms=Dn[--On],Dn[On]=null,Vr=Dn[--On],Dn[On]=null,kr=Dn[--On],Dn[On]=null}var rn=null,ht=null,Fe=!1,Vs=null,ur=!1,qf=Error(s(519));function Ps(t){var i=Error(s(418,""));throw al(In(i,t)),qf}function $g(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[At]=t,i[yt]=l,a){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Pe(Nl[a],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),Es(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),pa(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),Ts(i,l.value,l.defaultValue,l.children),pa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||u0(i.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),l.onScroll!=null&&Pe("scroll",i),l.onScrollEnd!=null&&Pe("scrollend",i),l.onClick!=null&&(i.onclick=jc),i=!0):i=!1,i||Ps(t)}function Qg(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 13:ur=!1;return;case 27:case 3:ur=!0;return;default:rn=rn.return}}function il(t){if(t!==rn)return!1;if(!Fe)return Qg(t),Fe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||im(t.type,t.memoizedProps)),a=!a),a&&ht&&Ps(t),Qg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ht=qn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ht=null}}else i===27?(i=ht,Ci(t.type)?(t=lm,lm=null,ht=t):ht=i):ht=rn?qn(t.stateNode.nextSibling):null;return!0}function sl(){ht=rn=null,Fe=!1}function Kg(){var t=Vs;return t!==null&&(un===null?un=t:un.push.apply(un,t),Vs=null),t}function al(t){Vs===null?Vs=[t]:Vs.push(t)}var Hf=ee(null),Ls=null,Pr=null;function di(t,i,a){K(Hf,i._currentValue),i._currentValue=a}function Lr(t){t._currentValue=Hf.current,le(Hf)}function Ff(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Gf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var N=0;N<i.length;N++)if(b.context===i[N]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Ff(d.return,a,t),l||(E=null);break e}d=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Ff(E,a,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function ol(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=f.type;mn(f.pendingProps.value,E.value)||(t!==null?t.push(b):t=[b])}}else if(f===Dt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}f=f.return}t!==null&&Gf(i,t,a,l),i.flags|=262144}function ac(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Us(t){Ls=t,Pr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return Yg(Ls,t)}function oc(t,i){return Ls===null&&Us(t),Yg(t,i)}function Yg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Pr===null){if(t===null)throw Error(s(308));Pr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Pr=Pr.next=i;return a}var Y1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},X1=r.unstable_scheduleCallback,W1=r.unstable_NormalPriority,Rt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $f(){return{controller:new Y1,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&X1(W1,function(){t.controller.abort()})}var ul=null,Qf=0,Oa=0,Ma=null;function Z1(t,i){if(ul===null){var a=ul=[];Qf=0,Oa=Yd(),Ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Qf++,i.then(Xg,Xg),i}function Xg(){if(--Qf===0&&ul!==null){Ma!==null&&(Ma.status="fulfilled");var t=ul;ul=null,Oa=0,Ma=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function J1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Wg=j.S;j.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Z1(t,i),Wg!==null&&Wg(t,i)};var js=ee(null);function Kf(){var t=js.current;return t!==null?t:nt.pooledCache}function lc(t,i){i===null?K(js,js.current):K(js,i.pool)}function Zg(){var t=Kf();return t===null?null:{parent:Rt._currentValue,pool:t}}var cl=Error(s(460)),Jg=Error(s(474)),uc=Error(s(542)),Yf={then:function(){}};function ey(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cc(){}function ty(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(cc,cc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ry(t),t;default:if(typeof i.status=="string")i.then(cc,cc);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ry(t),t}throw hl=i,cl}}var hl=null;function ny(){if(hl===null)throw Error(s(459));var t=hl;return hl=null,t}function ry(t){if(t===cl||t===uc)throw Error(s(483))}var mi=!1;function Xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function pi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function gi(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=nc(t),Hg(t,null,a),i}return tc(t,l,i,a),nc(t)}function fl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,zo(t,a)}}function Zf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Jf=!1;function dl(){if(Jf){var t=Ma;if(t!==null)throw t}}function ml(t,i,a,l){Jf=!1;var f=t.updateQueue;mi=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var N=b,Q=N.next;N.next=null,E===null?d=Q:E.next=Q,E=N;var J=t.alternate;J!==null&&(J=J.updateQueue,b=J.lastBaseUpdate,b!==E&&(b===null?J.firstBaseUpdate=Q:b.next=Q,J.lastBaseUpdate=N))}if(d!==null){var re=f.baseState;E=0,J=Q=N=null,b=d;do{var Y=b.lane&-536870913,X=Y!==b.lane;if(X?(Be&Y)===Y:(l&Y)===Y){Y!==0&&Y===Oa&&(Jf=!0),J!==null&&(J=J.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var xe=t,_e=b;Y=i;var Je=a;switch(_e.tag){case 1:if(xe=_e.payload,typeof xe=="function"){re=xe.call(Je,re,Y);break e}re=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=_e.payload,Y=typeof xe=="function"?xe.call(Je,re,Y):xe,Y==null)break e;re=_({},re,Y);break e;case 2:mi=!0}}Y=b.callback,Y!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:b.tag,payload:b.payload,callback:b.callback,next:null},J===null?(Q=J=X,N=re):J=J.next=X,E|=Y;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;X=b,b=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);J===null&&(N=re),f.baseState=N,f.firstBaseUpdate=Q,f.lastBaseUpdate=J,d===null&&(f.shared.lanes=0),Ai|=E,t.lanes=E,t.memoizedState=re}}function iy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function sy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)iy(a[t],i)}var ka=ee(null),hc=ee(0);function ay(t,i){t=Fr,K(hc,t),K(ka,i),Fr=t|i.baseLanes}function ed(){K(hc,Fr),K(ka,ka.current)}function td(){Fr=hc.current,le(ka),le(hc)}var yi=0,Oe=null,We=null,_t=null,fc=!1,Va=!1,zs=!1,dc=0,pl=0,Pa=null,ew=0;function mt(){throw Error(s(321))}function nd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!mn(t[a],i[a]))return!1;return!0}function rd(t,i,a,l,f,d){return yi=d,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,j.H=t===null||t.memoizedState===null?Hy:Fy,zs=!1,d=a(l,f),zs=!1,Va&&(d=ly(i,a,l,f)),oy(t),d}function oy(t){j.H=_c;var i=We!==null&&We.next!==null;if(yi=0,_t=We=Oe=null,fc=!1,pl=0,Pa=null,i)throw Error(s(300));t===null||kt||(t=t.dependencies,t!==null&&ac(t)&&(kt=!0))}function ly(t,i,a,l){Oe=t;var f=0;do{if(Va&&(Pa=null),pl=0,Va=!1,25<=f)throw Error(s(301));if(f+=1,_t=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}j.H=ow,d=i(a,l)}while(Va);return d}function tw(){var t=j.H,i=t.useState()[0];return i=typeof i.then=="function"?gl(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Oe.flags|=1024),i}function id(){var t=dc!==0;return dc=0,t}function sd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function ad(t){if(fc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}fc=!1}yi=0,_t=We=Oe=null,Va=!1,pl=dc=0,Pa=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Oe.memoizedState=_t=t:_t=_t.next=t,_t}function Et(){if(We===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=_t===null?Oe.memoizedState:_t.next;if(i!==null)_t=i,We=t;else{if(t===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},_t===null?Oe.memoizedState=_t=t:_t=_t.next=t}return _t}function od(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var i=pl;return pl+=1,Pa===null&&(Pa=[]),t=ty(Pa,t,i),i=Oe,(_t===null?i.memoizedState:_t.next)===null&&(i=i.alternate,j.H=i===null||i.memoizedState===null?Hy:Fy),t}function mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===$)return Qt(t)}throw Error(s(438,String(t)))}function ld(t){var i=null,a=Oe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=od(),Oe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Ur(t,i){return typeof i=="function"?i(t):i}function pc(t){var i=Et();return ud(i,We,t)}function ud(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var b=E=null,N=null,Q=i,J=!1;do{var re=Q.lane&-536870913;if(re!==Q.lane?(Be&re)===re:(yi&re)===re){var Y=Q.revertLane;if(Y===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),re===Oa&&(J=!0);else if((yi&Y)===Y){Q=Q.next,Y===Oa&&(J=!0);continue}else re={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},N===null?(b=N=re,E=d):N=N.next=re,Oe.lanes|=Y,Ai|=Y;re=Q.action,zs&&a(d,re),d=Q.hasEagerState?Q.eagerState:a(d,re)}else Y={lane:re,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},N===null?(b=N=Y,E=d):N=N.next=Y,Oe.lanes|=re,Ai|=re;Q=Q.next}while(Q!==null&&Q!==i);if(N===null?E=d:N.next=b,!mn(d,t.memoizedState)&&(kt=!0,J&&(a=Ma,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function cd(t){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=t(d,E.action),E=E.next;while(E!==f);mn(d,i.memoizedState)||(kt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function uy(t,i,a){var l=Oe,f=Et(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!mn((We||f).memoizedState,a);E&&(f.memoizedState=a,kt=!0),f=f.queue;var b=fy.bind(null,l,f,t);if(yl(2048,8,b,[t]),f.getSnapshot!==i||E||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,La(9,gc(),hy.bind(null,l,f,a,i),null),nt===null)throw Error(s(349));d||(yi&124)!==0||cy(l,i,a)}return a}function cy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Oe.updateQueue,i===null?(i=od(),Oe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function hy(t,i,a,l){i.value=a,i.getSnapshot=l,dy(i)&&my(t)}function fy(t,i,a){return a(function(){dy(i)&&my(t)})}function dy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!mn(t,a)}catch{return!0}}function my(t){var i=Ca(t,2);i!==null&&En(i,t,2)}function hd(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),zs){fn(!0);try{a()}finally{fn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:t},i}function py(t,i,a,l){return t.baseState=a,ud(t,We,typeof l=="function"?l:Ur)}function nw(t,i,a,l,f){if(vc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};j.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,gy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function gy(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=j.T,E={};j.T=E;try{var b=a(f,l),N=j.S;N!==null&&N(E,b),yy(t,i,b)}catch(Q){fd(t,i,Q)}finally{j.T=d}}else try{d=a(f,l),yy(t,i,d)}catch(Q){fd(t,i,Q)}}function yy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){vy(t,i,l)},function(l){return fd(t,i,l)}):vy(t,i,a)}function vy(t,i,a){i.status="fulfilled",i.value=a,_y(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,gy(t,a)))}function fd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,_y(i),i=i.next;while(i!==l)}t.action=null}function _y(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ey(t,i){return i}function Ty(t,i){if(Fe){var a=nt.formState;if(a!==null){e:{var l=Oe;if(Fe){if(ht){t:{for(var f=ht,d=ur;f.nodeType!==8;){if(!d){f=null;break t}if(f=qn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ht=qn(f.nextSibling),l=f.data==="F!";break e}}Ps(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ey,lastRenderedState:i},a.queue=l,a=zy.bind(null,Oe,l),l.dispatch=a,l=hd(!1),d=yd.bind(null,Oe,!1,l.queue),l=on(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=nw.bind(null,Oe,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function by(t){var i=Et();return wy(i,We,t)}function wy(t,i,a){if(i=ud(t,i,Ey)[0],t=pc(Ur)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=gl(i)}catch(E){throw E===cl?uc:E}else l=i;i=Et();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Oe.flags|=2048,La(9,gc(),rw.bind(null,f,a),null)),[l,d,t]}function rw(t,i){t.action=i}function Ay(t){var i=Et(),a=We;if(a!==null)return wy(i,a,t);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function La(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Oe.updateQueue,i===null&&(i=od(),Oe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function gc(){return{destroy:void 0,resource:void 0}}function xy(){return Et().memoizedState}function yc(t,i,a,l){var f=on();l=l===void 0?null:l,Oe.flags|=t,f.memoizedState=La(1|i,gc(),a,l)}function yl(t,i,a,l){var f=Et();l=l===void 0?null:l;var d=f.memoizedState.inst;We!==null&&l!==null&&nd(l,We.memoizedState.deps)?f.memoizedState=La(i,d,a,l):(Oe.flags|=t,f.memoizedState=La(1|i,d,a,l))}function Sy(t,i){yc(8390656,8,t,i)}function Ry(t,i){yl(2048,8,t,i)}function Cy(t,i){return yl(4,2,t,i)}function Iy(t,i){return yl(4,4,t,i)}function Ny(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Dy(t,i,a){a=a!=null?a.concat([t]):null,yl(4,4,Ny.bind(null,i,t),a)}function dd(){}function Oy(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&nd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function My(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&nd(i,l[1]))return l[0];if(l=t(),zs){fn(!0);try{t()}finally{fn(!1)}}return a.memoizedState=[l,i],l}function md(t,i,a){return a===void 0||(yi&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Pv(),Oe.lanes|=t,Ai|=t,a)}function ky(t,i,a,l){return mn(a,i)?a:ka.current!==null?(t=md(t,a,l),mn(t,i)||(kt=!0),t):(yi&42)===0?(kt=!0,t.memoizedState=a):(t=Pv(),Oe.lanes|=t,Ai|=t,i)}function Vy(t,i,a,l,f){var d=te.p;te.p=d!==0&&8>d?d:8;var E=j.T,b={};j.T=b,yd(t,!1,i,a);try{var N=f(),Q=j.S;if(Q!==null&&Q(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var J=J1(N,l);vl(t,i,J,_n(t))}else vl(t,i,l,_n(t))}catch(re){vl(t,i,{then:function(){},status:"rejected",reason:re},_n())}finally{te.p=d,j.T=E}}function iw(){}function pd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=Py(t).queue;Vy(t,f,i,ce,a===null?iw:function(){return Ly(t),a(l)})}function Py(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:ce},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ly(t){var i=Py(t).next.queue;vl(t,i,{},_n())}function gd(){return Qt(Pl)}function Uy(){return Et().memoizedState}function jy(){return Et().memoizedState}function sw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=_n();t=pi(a);var l=gi(i,t,a);l!==null&&(En(l,i,a),fl(l,i,a)),i={cache:$f()},t.payload=i;return}i=i.return}}function aw(t,i,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},vc(t)?By(i,a):(a=Pf(t,i,a,l),a!==null&&(En(a,t,l),qy(a,i,l)))}function zy(t,i,a){var l=_n();vl(t,i,a,l)}function vl(t,i,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(vc(t))By(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,b=d(E,a);if(f.hasEagerState=!0,f.eagerState=b,mn(b,E))return tc(t,i,f,0),nt===null&&ec(),!1}catch{}finally{}if(a=Pf(t,i,f,l),a!==null)return En(a,t,l),qy(a,i,l),!0}return!1}function yd(t,i,a,l){if(l={lane:2,revertLane:Yd(),action:l,hasEagerState:!1,eagerState:null,next:null},vc(t)){if(i)throw Error(s(479))}else i=Pf(t,a,l,2),i!==null&&En(i,t,2)}function vc(t){var i=t.alternate;return t===Oe||i!==null&&i===Oe}function By(t,i){Va=fc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function qy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,zo(t,a)}}var _c={readContext:Qt,use:mc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},Hy={readContext:Qt,use:mc,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:Sy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,yc(4194308,4,Ny.bind(null,i,t),a)},useLayoutEffect:function(t,i){return yc(4194308,4,t,i)},useInsertionEffect:function(t,i){yc(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var l=t();if(zs){fn(!0);try{t()}finally{fn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=on();if(a!==void 0){var f=a(i);if(zs){fn(!0);try{a(i)}finally{fn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=aw.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=hd(t);var i=t.queue,a=zy.bind(null,Oe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:dd,useDeferredValue:function(t,i){var a=on();return md(a,t,i)},useTransition:function(){var t=hd(!1);return t=Vy.bind(null,Oe,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Oe,f=on();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(Be&124)!==0||cy(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Sy(fy.bind(null,l,d,t),[t]),l.flags|=2048,La(9,gc(),hy.bind(null,l,d,a,i),null),a},useId:function(){var t=on(),i=nt.identifierPrefix;if(Fe){var a=Vr,l=kr;a=(l&~(1<<32-$t(l)-1)).toString(32)+a,i=""+i+"R"+a,a=dc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=ew++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:gd,useFormState:Ty,useActionState:Ty,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=yd.bind(null,Oe,!0,a),a.dispatch=i,[t,i]},useMemoCache:ld,useCacheRefresh:function(){return on().memoizedState=sw.bind(null,Oe)}},Fy={readContext:Qt,use:mc,useCallback:Oy,useContext:Qt,useEffect:Ry,useImperativeHandle:Dy,useInsertionEffect:Cy,useLayoutEffect:Iy,useMemo:My,useReducer:pc,useRef:xy,useState:function(){return pc(Ur)},useDebugValue:dd,useDeferredValue:function(t,i){var a=Et();return ky(a,We.memoizedState,t,i)},useTransition:function(){var t=pc(Ur)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:gl(t),i]},useSyncExternalStore:uy,useId:Uy,useHostTransitionStatus:gd,useFormState:by,useActionState:by,useOptimistic:function(t,i){var a=Et();return py(a,We,t,i)},useMemoCache:ld,useCacheRefresh:jy},ow={readContext:Qt,use:mc,useCallback:Oy,useContext:Qt,useEffect:Ry,useImperativeHandle:Dy,useInsertionEffect:Cy,useLayoutEffect:Iy,useMemo:My,useReducer:cd,useRef:xy,useState:function(){return cd(Ur)},useDebugValue:dd,useDeferredValue:function(t,i){var a=Et();return We===null?md(a,t,i):ky(a,We.memoizedState,t,i)},useTransition:function(){var t=cd(Ur)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:gl(t),i]},useSyncExternalStore:uy,useId:Uy,useHostTransitionStatus:gd,useFormState:Ay,useActionState:Ay,useOptimistic:function(t,i){var a=Et();return We!==null?py(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ld,useCacheRefresh:jy},Ua=null,_l=0;function Ec(t){var i=_l;return _l+=1,Ua===null&&(Ua=[]),ty(Ua,t,i)}function El(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Tc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Gy(t){var i=t._init;return i(t._payload)}function $y(t){function i(B,L){if(t){var F=B.deletions;F===null?(B.deletions=[L],B.flags|=16):F.push(L)}}function a(B,L){if(!t)return null;for(;L!==null;)i(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function f(B,L){return B=Mr(B,L),B.index=0,B.sibling=null,B}function d(B,L,F){return B.index=F,t?(F=B.alternate,F!==null?(F=F.index,F<L?(B.flags|=67108866,L):F):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function E(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function b(B,L,F,ne){return L===null||L.tag!==6?(L=Uf(F,B.mode,ne),L.return=B,L):(L=f(L,F),L.return=B,L)}function N(B,L,F,ne){var me=F.type;return me===V?J(B,L,F.props.children,ne,F.key):L!==null&&(L.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&Gy(me)===L.type)?(L=f(L,F.props),El(L,F),L.return=B,L):(L=rc(F.type,F.key,F.props,null,B.mode,ne),El(L,F),L.return=B,L)}function Q(B,L,F,ne){return L===null||L.tag!==4||L.stateNode.containerInfo!==F.containerInfo||L.stateNode.implementation!==F.implementation?(L=jf(F,B.mode,ne),L.return=B,L):(L=f(L,F.children||[]),L.return=B,L)}function J(B,L,F,ne,me){return L===null||L.tag!==7?(L=Os(F,B.mode,ne,me),L.return=B,L):(L=f(L,F),L.return=B,L)}function re(B,L,F){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Uf(""+L,B.mode,F),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return F=rc(L.type,L.key,L.props,null,B.mode,F),El(F,L),F.return=B,F;case O:return L=jf(L,B.mode,F),L.return=B,L;case S:var ne=L._init;return L=ne(L._payload),re(B,L,F)}if(Ie(L)||D(L))return L=Os(L,B.mode,F,null),L.return=B,L;if(typeof L.then=="function")return re(B,Ec(L),F);if(L.$$typeof===$)return re(B,oc(B,L),F);Tc(B,L)}return null}function Y(B,L,F,ne){var me=L!==null?L.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return me!==null?null:b(B,L,""+F,ne);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case A:return F.key===me?N(B,L,F,ne):null;case O:return F.key===me?Q(B,L,F,ne):null;case S:return me=F._init,F=me(F._payload),Y(B,L,F,ne)}if(Ie(F)||D(F))return me!==null?null:J(B,L,F,ne,null);if(typeof F.then=="function")return Y(B,L,Ec(F),ne);if(F.$$typeof===$)return Y(B,L,oc(B,F),ne);Tc(B,F)}return null}function X(B,L,F,ne,me){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return B=B.get(F)||null,b(L,B,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case A:return B=B.get(ne.key===null?F:ne.key)||null,N(L,B,ne,me);case O:return B=B.get(ne.key===null?F:ne.key)||null,Q(L,B,ne,me);case S:var ke=ne._init;return ne=ke(ne._payload),X(B,L,F,ne,me)}if(Ie(ne)||D(ne))return B=B.get(F)||null,J(L,B,ne,me,null);if(typeof ne.then=="function")return X(B,L,F,Ec(ne),me);if(ne.$$typeof===$)return X(B,L,F,oc(L,ne),me);Tc(L,ne)}return null}function xe(B,L,F,ne){for(var me=null,ke=null,ye=L,Te=L=0,Pt=null;ye!==null&&Te<F.length;Te++){ye.index>Te?(Pt=ye,ye=null):Pt=ye.sibling;var He=Y(B,ye,F[Te],ne);if(He===null){ye===null&&(ye=Pt);break}t&&ye&&He.alternate===null&&i(B,ye),L=d(He,L,Te),ke===null?me=He:ke.sibling=He,ke=He,ye=Pt}if(Te===F.length)return a(B,ye),Fe&&ks(B,Te),me;if(ye===null){for(;Te<F.length;Te++)ye=re(B,F[Te],ne),ye!==null&&(L=d(ye,L,Te),ke===null?me=ye:ke.sibling=ye,ke=ye);return Fe&&ks(B,Te),me}for(ye=l(ye);Te<F.length;Te++)Pt=X(ye,B,Te,F[Te],ne),Pt!==null&&(t&&Pt.alternate!==null&&ye.delete(Pt.key===null?Te:Pt.key),L=d(Pt,L,Te),ke===null?me=Pt:ke.sibling=Pt,ke=Pt);return t&&ye.forEach(function(Mi){return i(B,Mi)}),Fe&&ks(B,Te),me}function _e(B,L,F,ne){if(F==null)throw Error(s(151));for(var me=null,ke=null,ye=L,Te=L=0,Pt=null,He=F.next();ye!==null&&!He.done;Te++,He=F.next()){ye.index>Te?(Pt=ye,ye=null):Pt=ye.sibling;var Mi=Y(B,ye,He.value,ne);if(Mi===null){ye===null&&(ye=Pt);break}t&&ye&&Mi.alternate===null&&i(B,ye),L=d(Mi,L,Te),ke===null?me=Mi:ke.sibling=Mi,ke=Mi,ye=Pt}if(He.done)return a(B,ye),Fe&&ks(B,Te),me;if(ye===null){for(;!He.done;Te++,He=F.next())He=re(B,He.value,ne),He!==null&&(L=d(He,L,Te),ke===null?me=He:ke.sibling=He,ke=He);return Fe&&ks(B,Te),me}for(ye=l(ye);!He.done;Te++,He=F.next())He=X(ye,B,Te,He.value,ne),He!==null&&(t&&He.alternate!==null&&ye.delete(He.key===null?Te:He.key),L=d(He,L,Te),ke===null?me=He:ke.sibling=He,ke=He);return t&&ye.forEach(function(lA){return i(B,lA)}),Fe&&ks(B,Te),me}function Je(B,L,F,ne){if(typeof F=="object"&&F!==null&&F.type===V&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case A:e:{for(var me=F.key;L!==null;){if(L.key===me){if(me=F.type,me===V){if(L.tag===7){a(B,L.sibling),ne=f(L,F.props.children),ne.return=B,B=ne;break e}}else if(L.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&Gy(me)===L.type){a(B,L.sibling),ne=f(L,F.props),El(ne,F),ne.return=B,B=ne;break e}a(B,L);break}else i(B,L);L=L.sibling}F.type===V?(ne=Os(F.props.children,B.mode,ne,F.key),ne.return=B,B=ne):(ne=rc(F.type,F.key,F.props,null,B.mode,ne),El(ne,F),ne.return=B,B=ne)}return E(B);case O:e:{for(me=F.key;L!==null;){if(L.key===me)if(L.tag===4&&L.stateNode.containerInfo===F.containerInfo&&L.stateNode.implementation===F.implementation){a(B,L.sibling),ne=f(L,F.children||[]),ne.return=B,B=ne;break e}else{a(B,L);break}else i(B,L);L=L.sibling}ne=jf(F,B.mode,ne),ne.return=B,B=ne}return E(B);case S:return me=F._init,F=me(F._payload),Je(B,L,F,ne)}if(Ie(F))return xe(B,L,F,ne);if(D(F)){if(me=D(F),typeof me!="function")throw Error(s(150));return F=me.call(F),_e(B,L,F,ne)}if(typeof F.then=="function")return Je(B,L,Ec(F),ne);if(F.$$typeof===$)return Je(B,L,oc(B,F),ne);Tc(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,L!==null&&L.tag===6?(a(B,L.sibling),ne=f(L,F),ne.return=B,B=ne):(a(B,L),ne=Uf(F,B.mode,ne),ne.return=B,B=ne),E(B)):a(B,L)}return function(B,L,F,ne){try{_l=0;var me=Je(B,L,F,ne);return Ua=null,me}catch(ye){if(ye===cl||ye===uc)throw ye;var ke=pn(29,ye,null,B.mode);return ke.lanes=ne,ke.return=B,ke}finally{}}}var ja=$y(!0),Qy=$y(!1),Mn=ee(null),cr=null;function vi(t){var i=t.alternate;K(Ct,Ct.current&1),K(Mn,t),cr===null&&(i===null||ka.current!==null||i.memoizedState!==null)&&(cr=t)}function Ky(t){if(t.tag===22){if(K(Ct,Ct.current),K(Mn,t),cr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(cr=t)}}else _i()}function _i(){K(Ct,Ct.current),K(Mn,Mn.current)}function jr(t){le(Mn),cr===t&&(cr=null),le(Ct)}var Ct=ee(0);function bc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||om(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function vd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:_({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var _d={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=_n(),f=pi(l);f.payload=i,a!=null&&(f.callback=a),i=gi(t,f,l),i!==null&&(En(i,t,l),fl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=_n(),f=pi(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=gi(t,f,l),i!==null&&(En(i,t,l),fl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=_n(),l=pi(a);l.tag=2,i!=null&&(l.callback=i),i=gi(t,l,a),i!==null&&(En(i,t,a),fl(i,t,a))}};function Yy(t,i,a,l,f,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!nl(a,l)||!nl(f,d):!0}function Xy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&_d.enqueueReplaceState(i,i.state,null)}function Bs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=_({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var wc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Wy(t){wc(t)}function Zy(t){console.error(t)}function Jy(t){wc(t)}function Ac(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ev(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ed(t,i,a){return a=pi(a),a.tag=3,a.payload={element:null},a.callback=function(){Ac(t,i)},a}function tv(t){return t=pi(t),t.tag=3,t}function nv(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){ev(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){ev(i,a,l),typeof f!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function lw(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ol(i,a,f,!0),a=Mn.current,a!==null){switch(a.tag){case 13:return cr===null?Fd():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Yf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),$d(t,l,f)),!1;case 22:return a.flags|=65536,l===Yf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),$d(t,l,f)),!1}throw Error(s(435,a.tag))}return $d(t,l,f),Fd(),!1}if(Fe)return i=Mn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==qf&&(t=Error(s(422),{cause:l}),al(In(t,a)))):(l!==qf&&(i=Error(s(423),{cause:l}),al(In(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=In(l,a),f=Ed(t.stateNode,l,f),Zf(t,f),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=In(d,a),Rl===null?Rl=[d]:Rl.push(d),ft!==4&&(ft=2),i===null)return!0;l=In(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Ed(a.stateNode,l,t),Zf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(xi===null||!xi.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=tv(f),nv(f,t,a,l),Zf(a,f),!1}a=a.return}while(a!==null);return!1}var rv=Error(s(461)),kt=!1;function zt(t,i,a,l){i.child=t===null?Qy(i,null,a,l):ja(i,t.child,a,l)}function iv(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return Us(i),l=rd(t,i,a,E,d,f),b=id(),t!==null&&!kt?(sd(t,i,f),zr(t,i,f)):(Fe&&b&&zf(i),i.flags|=1,zt(t,i,l,f),i.child)}function sv(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Lf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,av(t,i,d,l,f)):(t=rc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Cd(t,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(E,l)&&t.ref===i.ref)return zr(t,i,f)}return i.flags|=1,t=Mr(d,l),t.ref=i.ref,t.return=i,i.child=t}function av(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(nl(d,l)&&t.ref===i.ref)if(kt=!1,i.pendingProps=l=d,Cd(t,f))(t.flags&131072)!==0&&(kt=!0);else return i.lanes=t.lanes,zr(t,i,f)}return Td(t,i,a,l,f)}function ov(t,i,a){var l=i.pendingProps,f=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(f=i.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return lv(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&lc(i,d!==null?d.cachePool:null),d!==null?ay(i,d):ed(),Ky(i);else return i.lanes=i.childLanes=536870912,lv(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(lc(i,d.cachePool),ay(i,d),_i(),i.memoizedState=null):(t!==null&&lc(i,null),ed(),_i());return zt(t,i,f,a),i.child}function lv(t,i,a,l){var f=Kf();return f=f===null?null:{parent:Rt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&lc(i,null),ed(),Ky(i),t!==null&&ol(t,i,l,!0),null}function xc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Td(t,i,a,l,f){return Us(i),a=rd(t,i,a,l,void 0,f),l=id(),t!==null&&!kt?(sd(t,i,f),zr(t,i,f)):(Fe&&l&&zf(i),i.flags|=1,zt(t,i,a,f),i.child)}function uv(t,i,a,l,f,d){return Us(i),i.updateQueue=null,a=ly(i,l,a,f),oy(t),l=id(),t!==null&&!kt?(sd(t,i,d),zr(t,i,d)):(Fe&&l&&zf(i),i.flags|=1,zt(t,i,a,d),i.child)}function cv(t,i,a,l,f){if(Us(i),i.stateNode===null){var d=Ia,E=a.contextType;typeof E=="object"&&E!==null&&(d=Qt(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_d,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Xf(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?Qt(E):Ia,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(vd(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&_d.enqueueReplaceState(d,d.state,null),ml(i,l,d,f),dl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,N=Bs(a,b);d.props=N;var Q=d.context,J=a.contextType;E=Ia,typeof J=="object"&&J!==null&&(E=Qt(J));var re=a.getDerivedStateFromProps;J=typeof re=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||Q!==E)&&Xy(i,d,l,E),mi=!1;var Y=i.memoizedState;d.state=Y,ml(i,l,d,f),dl(),Q=i.memoizedState,b||Y!==Q||mi?(typeof re=="function"&&(vd(i,a,re,l),Q=i.memoizedState),(N=mi||Yy(i,a,N,l,Y,Q,E))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=E,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Wf(t,i),E=i.memoizedProps,J=Bs(a,E),d.props=J,re=i.pendingProps,Y=d.context,Q=a.contextType,N=Ia,typeof Q=="object"&&Q!==null&&(N=Qt(Q)),b=a.getDerivedStateFromProps,(Q=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==re||Y!==N)&&Xy(i,d,l,N),mi=!1,Y=i.memoizedState,d.state=Y,ml(i,l,d,f),dl();var X=i.memoizedState;E!==re||Y!==X||mi||t!==null&&t.dependencies!==null&&ac(t.dependencies)?(typeof b=="function"&&(vd(i,a,b,l),X=i.memoizedState),(J=mi||Yy(i,a,J,l,Y,X,N)||t!==null&&t.dependencies!==null&&ac(t.dependencies))?(Q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),d.props=l,d.state=X,d.context=N,l=J):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,xc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ja(i,t.child,null,f),i.child=ja(i,null,a,f)):zt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=zr(t,i,f),t}function hv(t,i,a,l){return sl(),i.flags|=256,zt(t,i,a,l),i.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wd(t){return{baseLanes:t,cachePool:Zg()}}function Ad(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=kn),t}function fv(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(Fe){if(f?vi(i):_i(),Fe){var b=ht,N;if(N=b){e:{for(N=b,b=ur;N.nodeType!==8;){if(!b){b=null;break e}if(N=qn(N.nextSibling),N===null){b=null;break e}}b=N}b!==null?(i.memoizedState={dehydrated:b,treeContext:Ms!==null?{id:kr,overflow:Vr}:null,retryLane:536870912,hydrationErrors:null},N=pn(18,null,null,0),N.stateNode=b,N.return=i,i.child=N,rn=i,ht=null,N=!0):N=!1}N||Ps(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return om(b)?i.lanes=32:i.lanes=536870912,null;jr(i)}return b=l.children,l=l.fallback,f?(_i(),f=i.mode,b=Sc({mode:"hidden",children:b},f),l=Os(l,f,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,f=i.child,f.memoizedState=wd(a),f.childLanes=Ad(t,E,a),i.memoizedState=bd,l):(vi(i),xd(i,b))}if(N=t.memoizedState,N!==null&&(b=N.dehydrated,b!==null)){if(d)i.flags&256?(vi(i),i.flags&=-257,i=Sd(t,i,a)):i.memoizedState!==null?(_i(),i.child=t.child,i.flags|=128,i=null):(_i(),f=l.fallback,b=i.mode,l=Sc({mode:"visible",children:l.children},b),f=Os(f,b,a,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,ja(i,t.child,null,a),l=i.child,l.memoizedState=wd(a),l.childLanes=Ad(t,E,a),i.memoizedState=bd,i=f);else if(vi(i),om(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var Q=E.dgst;E=Q,l=Error(s(419)),l.stack="",l.digest=E,al({value:l,source:null,stack:null}),i=Sd(t,i,a)}else if(kt||ol(t,i,a,!1),E=(a&t.childLanes)!==0,kt||E){if(E=nt,E!==null&&(l=a&-a,l=(l&42)!==0?1:ai(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,Ca(t,l),En(E,t,l),rv;b.data==="$?"||Fd(),i=Sd(t,i,a)}else b.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,ht=qn(b.nextSibling),rn=i,Fe=!0,Vs=null,ur=!1,t!==null&&(Dn[On++]=kr,Dn[On++]=Vr,Dn[On++]=Ms,kr=t.id,Vr=t.overflow,Ms=i),i=xd(i,l.children),i.flags|=4096);return i}return f?(_i(),f=l.fallback,b=i.mode,N=t.child,Q=N.sibling,l=Mr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,Q!==null?f=Mr(Q,f):(f=Os(f,b,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,b=t.child.memoizedState,b===null?b=wd(a):(N=b.cachePool,N!==null?(Q=Rt._currentValue,N=N.parent!==Q?{parent:Q,pool:Q}:N):N=Zg(),b={baseLanes:b.baseLanes|a,cachePool:N}),f.memoizedState=b,f.childLanes=Ad(t,E,a),i.memoizedState=bd,l):(vi(i),a=t.child,t=a.sibling,a=Mr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function xd(t,i){return i=Sc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Sc(t,i){return t=pn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Sd(t,i,a){return ja(i,t.child,null,a),t=xd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function dv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Ff(t.return,i,a)}function Rd(t,i,a,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function mv(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;if(zt(t,i,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dv(t,a,i);else if(t.tag===19)dv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(K(Ct,l),f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&bc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Rd(i,!1,f,a,d);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&bc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Rd(i,!0,a,null,d);break;case"together":Rd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function zr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ai|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ol(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Mr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Mr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Cd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ac(t)))}function uw(t,i,a){switch(i.tag){case 3:tt(i,i.stateNode.containerInfo),di(i,Rt,t.memoizedState.cache),sl();break;case 27:case 5:si(i);break;case 4:tt(i,i.stateNode.containerInfo);break;case 10:di(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(vi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?fv(t,i,a):(vi(i),t=zr(t,i,a),t!==null?t.sibling:null);vi(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ol(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return mv(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),K(Ct,Ct.current),l)break;return null;case 22:case 23:return i.lanes=0,ov(t,i,a);case 24:di(i,Rt,t.memoizedState.cache)}return zr(t,i,a)}function pv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)kt=!0;else{if(!Cd(t,a)&&(i.flags&128)===0)return kt=!1,uw(t,i,a);kt=(t.flags&131072)!==0}else kt=!1,Fe&&(i.flags&1048576)!==0&&Gg(i,sc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")Lf(l)?(t=Bs(l,t),i.tag=1,i=cv(null,i,l,t,a)):(i.tag=0,i=Td(null,i,l,t,a));else{if(l!=null){if(f=l.$$typeof,f===ae){i.tag=11,i=iv(null,i,l,t,a);break e}else if(f===I){i.tag=14,i=sv(null,i,l,t,a);break e}}throw i=De(l)||l,Error(s(306,i,""))}}return i;case 0:return Td(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Bs(l,i.pendingProps),cv(t,i,l,f,a);case 3:e:{if(tt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Wf(t,i),ml(i,l,null,a);var E=i.memoizedState;if(l=E.cache,di(i,Rt,l),l!==d.cache&&Gf(i,[Rt],a,!0),dl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=hv(t,i,l,a);break e}else if(l!==f){f=In(Error(s(424)),i),al(f),i=hv(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=qn(t.firstChild),rn=i,Fe=!0,Vs=null,ur=!0,a=Qy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(sl(),l===f){i=zr(t,i,a);break e}zt(t,i,l,a)}i=i.child}return i;case 26:return xc(t,i),t===null?(a=_0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,t=i.pendingProps,l=zc(ge.current).createElement(a),l[At]=i,l[yt]=t,qt(l,a,t),dt(l),i.stateNode=l):i.memoizedState=_0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return si(i),t===null&&Fe&&(l=i.stateNode=g0(i.type,i.pendingProps,ge.current),rn=i,ur=!0,f=ht,Ci(i.type)?(lm=f,ht=qn(l.firstChild)):ht=f),zt(t,i,i.pendingProps.children,a),xc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Fe&&((f=l=ht)&&(l=Lw(l,i.type,i.pendingProps,ur),l!==null?(i.stateNode=l,rn=i,ht=qn(l.firstChild),ur=!1,f=!0):f=!1),f||Ps(i)),si(i),f=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,im(f,d)?l=null:E!==null&&im(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=rd(t,i,tw,null,null,a),Pl._currentValue=f),xc(t,i),zt(t,i,l,a),i.child;case 6:return t===null&&Fe&&((t=a=ht)&&(a=Uw(a,i.pendingProps,ur),a!==null?(i.stateNode=a,rn=i,ht=null,t=!0):t=!1),t||Ps(i)),null;case 13:return fv(t,i,a);case 4:return tt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ja(i,null,l,a):zt(t,i,l,a),i.child;case 11:return iv(t,i,i.type,i.pendingProps,a);case 7:return zt(t,i,i.pendingProps,a),i.child;case 8:return zt(t,i,i.pendingProps.children,a),i.child;case 12:return zt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,di(i,i.type,l.value),zt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Us(i),f=Qt(f),l=l(f),i.flags|=1,zt(t,i,l,a),i.child;case 14:return sv(t,i,i.type,i.pendingProps,a);case 15:return av(t,i,i.type,i.pendingProps,a);case 19:return mv(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Sc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Mr(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return ov(t,i,a);case 24:return Us(i),l=Qt(Rt),t===null?(f=Kf(),f===null&&(f=nt,d=$f(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Xf(i),di(i,Rt,f)):((t.lanes&a)!==0&&(Wf(t,i),ml(i,null,null,a),dl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),di(i,Rt,l)):(l=d.cache,di(i,Rt,l),l!==f.cache&&Gf(i,[Rt],a,!0))),zt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Br(t){t.flags|=4}function gv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!A0(i)){if(i=Mn.current,i!==null&&((Be&4194048)===Be?cr!==null:(Be&62914560)!==Be&&(Be&536870912)===0||i!==cr))throw hl=Yf,Jg;t.flags|=8192}}function Rc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Uo():536870912,t.lanes|=i,Ha|=i)}function Tl(t,i){if(!Fe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function cw(t,i,a){var l=i.pendingProps;switch(Bf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Lr(Rt),Wn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(il(i)?Br(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Kg())),lt(i),null;case 26:return a=i.memoizedState,t===null?(Br(i),a!==null?(lt(i),gv(i,a)):(lt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Br(i),lt(i),gv(i,a)):(lt(i),i.flags&=-16777217):(t.memoizedProps!==l&&Br(i),lt(i),i.flags&=-16777217),null;case 27:Er(i),a=ge.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Br(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}t=he.current,il(i)?$g(i):(t=g0(f,l,a),i.stateNode=t,Br(i))}return lt(i),null;case 5:if(Er(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Br(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}if(t=he.current,il(i))$g(i);else{switch(f=zc(ge.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}t[At]=i,t[yt]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Br(i)}}return lt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Br(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ge.current,il(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=rn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[At]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||u0(t.nodeValue,a)),t||Ps(i)}else t=zc(t).createTextNode(l),t[At]=i,i.stateNode=t}return lt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=il(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[At]=i}else sl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),f=!1}else f=Kg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(jr(i),i):(jr(i),null)}if(jr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Rc(i,i.updateQueue),lt(i),null;case 4:return Wn(),t===null&&Jd(i.stateNode.containerInfo),lt(i),null;case 10:return Lr(i.type),lt(i),null;case 19:if(le(Ct),f=i.memoizedState,f===null)return lt(i),null;if(l=(i.flags&128)!==0,d=f.rendering,d===null)if(l)Tl(f,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=bc(t),d!==null){for(i.flags|=128,Tl(f,!1),t=d.updateQueue,i.updateQueue=t,Rc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Fg(a,t),a=a.sibling;return K(Ct,Ct.current&1|2),i.child}t=t.sibling}f.tail!==null&&wn()>Nc&&(i.flags|=128,l=!0,Tl(f,!1),i.lanes=4194304)}else{if(!l)if(t=bc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Rc(i,t),Tl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Fe)return lt(i),null}else 2*wn()-f.renderingStartTime>Nc&&a!==536870912&&(i.flags|=128,l=!0,Tl(f,!1),i.lanes=4194304);f.isBackwards?(d.sibling=i.child,i.child=d):(t=f.last,t!==null?t.sibling=d:i.child=d,f.last=d)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=wn(),i.sibling=null,t=Ct.current,K(Ct,l?t&1|2:t&1),i):(lt(i),null);case 22:case 23:return jr(i),td(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),a=i.updateQueue,a!==null&&Rc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&le(js),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Lr(Rt),lt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function hw(t,i){switch(Bf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Lr(Rt),Wn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Er(i),null;case 13:if(jr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));sl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return le(Ct),null;case 4:return Wn(),null;case 10:return Lr(i.type),null;case 22:case 23:return jr(i),td(),t!==null&&le(js),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Lr(Rt),null;case 25:return null;default:return null}}function yv(t,i){switch(Bf(i),i.tag){case 3:Lr(Rt),Wn();break;case 26:case 27:case 5:Er(i);break;case 4:Wn();break;case 13:jr(i);break;case 19:le(Ct);break;case 10:Lr(i.type);break;case 22:case 23:jr(i),td(),t!==null&&le(js);break;case 24:Lr(Rt)}}function bl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(b){et(i,i.return,b)}}function Ei(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=i;var N=a,Q=b;try{Q()}catch(J){et(f,N,J)}}}l=l.next}while(l!==d)}}catch(J){et(i,i.return,J)}}function vv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{sy(i,a)}catch(l){et(t,t.return,l)}}}function _v(t,i,a){a.props=Bs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,i,l)}}function wl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){et(t,i,f)}}function hr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){et(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){et(t,i,f)}else a.current=null}function Ev(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){et(t,t.return,f)}}function Id(t,i,a){try{var l=t.stateNode;Ow(l,t.type,a,i),l[yt]=i}catch(f){et(t,t.return,f)}}function Tv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ci(t.type)||t.tag===4}function Nd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Tv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ci(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=jc));else if(l!==4&&(l===27&&Ci(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Dd(t,i,a),t=t.sibling;t!==null;)Dd(t,i,a),t=t.sibling}function Cc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Ci(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Cc(t,i,a),t=t.sibling;t!==null;)Cc(t,i,a),t=t.sibling}function bv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);qt(i,l,a),i[At]=t,i[yt]=a}catch(d){et(t,t.return,d)}}var qr=!1,pt=!1,Od=!1,wv=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function fw(t,i){if(t=t.containerInfo,nm=$c,t=kg(t),Nf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,b=-1,N=-1,Q=0,J=0,re=t,Y=null;t:for(;;){for(var X;re!==a||f!==0&&re.nodeType!==3||(b=E+f),re!==d||l!==0&&re.nodeType!==3||(N=E+l),re.nodeType===3&&(E+=re.nodeValue.length),(X=re.firstChild)!==null;)Y=re,re=X;for(;;){if(re===t)break t;if(Y===a&&++Q===f&&(b=E),Y===d&&++J===l&&(N=E),(X=re.nextSibling)!==null)break;re=Y,Y=re.parentNode}re=X}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(rm={focusedElem:t,selectionRange:a},$c=!1,Vt=i;Vt!==null;)if(i=Vt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Vt=t;else for(;Vt!==null;){switch(i=Vt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var xe=Bs(a.type,f,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(xe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){et(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)am(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":am(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Vt=t;break}Vt=i.return}}function Av(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ti(t,a),l&4&&bl(5,a);break;case 1:if(Ti(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(E){et(a,a.return,E)}else{var f=Bs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){et(a,a.return,E)}}l&64&&vv(a),l&512&&wl(a,a.return);break;case 3:if(Ti(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{sy(t,i)}catch(E){et(a,a.return,E)}}break;case 27:i===null&&l&4&&bv(a);case 26:case 5:Ti(t,a),i===null&&l&4&&Ev(a),l&512&&wl(a,a.return);break;case 12:Ti(t,a);break;case 13:Ti(t,a),l&4&&Rv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Tw.bind(null,a),jw(t,a))));break;case 22:if(l=a.memoizedState!==null||qr,!l){i=i!==null&&i.memoizedState!==null||pt,f=qr;var d=pt;qr=l,(pt=i)&&!d?bi(t,a,(a.subtreeFlags&8772)!==0):Ti(t,a),qr=f,pt=d}break;case 30:break;default:Ti(t,a)}}function xv(t){var i=t.alternate;i!==null&&(t.alternate=null,xv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ui(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,ln=!1;function Hr(t,i,a){for(a=a.child;a!==null;)Sv(t,i,a),a=a.sibling}function Sv(t,i,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ct,a)}catch{}switch(a.tag){case 26:pt||hr(a,i),Hr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||hr(a,i);var l=at,f=ln;Ci(a.type)&&(at=a.stateNode,ln=!1),Hr(t,i,a),Ol(a.stateNode),at=l,ln=f;break;case 5:pt||hr(a,i);case 6:if(l=at,f=ln,at=null,Hr(t,i,a),at=l,ln=f,at!==null)if(ln)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(d){et(a,i,d)}else try{at.removeChild(a.stateNode)}catch(d){et(a,i,d)}break;case 18:at!==null&&(ln?(t=at,m0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),zl(t)):m0(at,a.stateNode));break;case 4:l=at,f=ln,at=a.stateNode.containerInfo,ln=!0,Hr(t,i,a),at=l,ln=f;break;case 0:case 11:case 14:case 15:pt||Ei(2,a,i),pt||Ei(4,a,i),Hr(t,i,a);break;case 1:pt||(hr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&_v(a,i,l)),Hr(t,i,a);break;case 21:Hr(t,i,a);break;case 22:pt=(l=pt)||a.memoizedState!==null,Hr(t,i,a),pt=l;break;default:Hr(t,i,a)}}function Rv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{zl(t)}catch(a){et(i,i.return,a)}}function dw(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new wv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new wv),i;default:throw Error(s(435,t.tag))}}function Md(t,i){var a=dw(t);i.forEach(function(l){var f=bw.bind(null,t,l);a.has(l)||(a.add(l),l.then(f,f))})}function gn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,E=i,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(Ci(b.type)){at=b.stateNode,ln=!1;break e}break;case 5:at=b.stateNode,ln=!1;break e;case 3:case 4:at=b.stateNode.containerInfo,ln=!0;break e}b=b.return}if(at===null)throw Error(s(160));Sv(d,E,f),at=null,ln=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Cv(i,t),i=i.sibling}var Bn=null;function Cv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(i,t),yn(t),l&4&&(Ei(3,t,t.return),bl(3,t),Ei(5,t,t.return));break;case 1:gn(i,t),yn(t),l&512&&(pt||a===null||hr(a,a.return)),l&64&&qr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Bn;if(gn(i,t),yn(t),l&512&&(pt||a===null||hr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[gs]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),qt(d,l,a),d[At]=t,dt(d),l=d;break e;case"link":var E=b0("link","href",f).get(l+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(d=E[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break t}}d=f.createElement(l),qt(d,l,a),f.head.appendChild(d);break;case"meta":if(E=b0("meta","content",f).get(l+(a.content||""))){for(b=0;b<E.length;b++)if(d=E[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break t}}d=f.createElement(l),qt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[At]=t,dt(d),l=d}t.stateNode=l}else w0(f,t.type,t.stateNode);else t.stateNode=T0(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?w0(f,t.type,t.stateNode):T0(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Id(t,t.memoizedProps,a.memoizedProps)}break;case 27:gn(i,t),yn(t),l&512&&(pt||a===null||hr(a,a.return)),a!==null&&l&4&&Id(t,t.memoizedProps,a.memoizedProps);break;case 5:if(gn(i,t),yn(t),l&512&&(pt||a===null||hr(a,a.return)),t.flags&32){f=t.stateNode;try{xn(f,"")}catch(X){et(t,t.return,X)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Id(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Od=!0);break;case 6:if(gn(i,t),yn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(X){et(t,t.return,X)}}break;case 3:if(Hc=null,f=Bn,Bn=Bc(i.containerInfo),gn(i,t),Bn=f,yn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{zl(i.containerInfo)}catch(X){et(t,t.return,X)}Od&&(Od=!1,Iv(t));break;case 4:l=Bn,Bn=Bc(t.stateNode.containerInfo),gn(i,t),yn(t),Bn=l;break;case 12:gn(i,t),yn(t);break;case 13:gn(i,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(jd=wn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Md(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,Q=qr,J=pt;if(qr=Q||f,pt=J||N,gn(i,t),pt=J,qr=Q,yn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||N||qr||pt||qs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=N.stateNode;var re=N.memoizedProps.style,Y=re!=null&&re.hasOwnProperty("display")?re.display:null;b.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(X){et(N,N.return,X)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(X){et(N,N.return,X)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Md(t,a))));break;case 19:gn(i,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Md(t,l)));break;case 30:break;case 21:break;default:gn(i,t),yn(t)}}function yn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Tv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Nd(t);Cc(t,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(xn(E,""),a.flags&=-33);var b=Nd(t);Cc(t,b,E);break;case 3:case 4:var N=a.stateNode.containerInfo,Q=Nd(t);Dd(t,Q,N);break;default:throw Error(s(161))}}catch(J){et(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Iv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Iv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ti(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Av(t,i.alternate,i),i=i.sibling}function qs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ei(4,i,i.return),qs(i);break;case 1:hr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&_v(i,i.return,a),qs(i);break;case 27:Ol(i.stateNode);case 26:case 5:hr(i,i.return),qs(i);break;case 22:i.memoizedState===null&&qs(i);break;case 30:qs(i);break;default:qs(i)}t=t.sibling}}function bi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:bi(f,d,a),bl(4,d);break;case 1:if(bi(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Q){et(l,l.return,Q)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)iy(N[f],b)}catch(Q){et(l,l.return,Q)}}a&&E&64&&vv(d),wl(d,d.return);break;case 27:bv(d);case 26:case 5:bi(f,d,a),a&&l===null&&E&4&&Ev(d),wl(d,d.return);break;case 12:bi(f,d,a);break;case 13:bi(f,d,a),a&&E&4&&Rv(f,d);break;case 22:d.memoizedState===null&&bi(f,d,a),wl(d,d.return);break;case 30:break;default:bi(f,d,a)}i=i.sibling}}function kd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ll(a))}function Vd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ll(t))}function fr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Nv(t,i,a,l),i=i.sibling}function Nv(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:fr(t,i,a,l),f&2048&&bl(9,i);break;case 1:fr(t,i,a,l);break;case 3:fr(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ll(t)));break;case 12:if(f&2048){fr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,b=d.onPostCommit;typeof b=="function"&&b(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){et(i,i.return,N)}}else fr(t,i,a,l);break;case 13:fr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?fr(t,i,a,l):Al(t,i):d._visibility&2?fr(t,i,a,l):(d._visibility|=2,za(t,i,a,l,(i.subtreeFlags&10256)!==0)),f&2048&&kd(E,i);break;case 24:fr(t,i,a,l),f&2048&&Vd(i.alternate,i);break;default:fr(t,i,a,l)}}function za(t,i,a,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,b=a,N=l,Q=E.flags;switch(E.tag){case 0:case 11:case 15:za(d,E,b,N,f),bl(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?za(d,E,b,N,f):Al(d,E):(J._visibility|=2,za(d,E,b,N,f)),f&&Q&2048&&kd(E.alternate,E);break;case 24:za(d,E,b,N,f),f&&Q&2048&&Vd(E.alternate,E);break;default:za(d,E,b,N,f)}i=i.sibling}}function Al(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:Al(a,l),f&2048&&kd(l.alternate,l);break;case 24:Al(a,l),f&2048&&Vd(l.alternate,l);break;default:Al(a,l)}i=i.sibling}}var xl=8192;function Ba(t){if(t.subtreeFlags&xl)for(t=t.child;t!==null;)Dv(t),t=t.sibling}function Dv(t){switch(t.tag){case 26:Ba(t),t.flags&xl&&t.memoizedState!==null&&Zw(Bn,t.memoizedState,t.memoizedProps);break;case 5:Ba(t);break;case 3:case 4:var i=Bn;Bn=Bc(t.stateNode.containerInfo),Ba(t),Bn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=xl,xl=16777216,Ba(t),xl=i):Ba(t));break;default:Ba(t)}}function Ov(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Sl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,kv(l,t)}Ov(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Mv(t),t=t.sibling}function Mv(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&Ei(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ic(t)):Sl(t);break;default:Sl(t)}}function Ic(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,kv(l,t)}Ov(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ei(8,i,i.return),Ic(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ic(i));break;default:Ic(i)}t=t.sibling}}function kv(t,i){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:Ei(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=t;Vt!==null;){l=Vt;var f=l.sibling,d=l.return;if(xv(l),l===a){Vt=null;break e}if(f!==null){f.return=d,Vt=f;break e}Vt=d}}}var mw={getCacheForType:function(t){var i=Qt(Rt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},pw=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,Ve=null,Be=0,Ye=0,vn=null,wi=!1,qa=!1,Pd=!1,Fr=0,ft=0,Ai=0,Hs=0,Ld=0,kn=0,Ha=0,Rl=null,un=null,Ud=!1,jd=0,Nc=1/0,Dc=null,xi=null,Bt=0,Si=null,Fa=null,Ga=0,zd=0,Bd=null,Vv=null,Cl=0,qd=null;function _n(){if((Ke&2)!==0&&Be!==0)return Be&-Be;if(j.T!==null){var t=Oa;return t!==0?t:Yd()}return oi()}function Pv(){kn===0&&(kn=(Be&536870912)===0||Fe?Lo():536870912);var t=Mn.current;return t!==null&&(t.flags|=32),kn}function En(t,i,a){(t===nt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&($a(t,0),Ri(t,Be,kn,!1)),br(t,a),((Ke&2)===0||t!==nt)&&(t===nt&&((Ke&2)===0&&(Hs|=a),ft===4&&Ri(t,Be,kn,!1)),dr(t))}function Lv(t,i,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||ps(t,i),f=l?vw(t,i):Gd(t,i,!0),d=l;do{if(f===0){qa&&!l&&Ri(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!gw(a)){f=Gd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var b=t;f=Rl;var N=b.current.memoizedState.isDehydrated;if(N&&($a(b,E).flags|=256),E=Gd(b,E,!1),E!==2){if(Pd&&!N){b.errorRecoveryDisabledLanes|=d,Hs|=d,f=4;break e}d=un,un=f,d!==null&&(un===null?un=d:un.push.apply(un,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){$a(t,0),Ri(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ri(l,i,kn,!wi);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=jd+300-wn(),10<f)){if(Ri(l,i,kn,!wi),ua(l,0,!0)!==0)break e;l.timeoutHandle=f0(Uv.bind(null,l,a,un,Dc,Ud,i,kn,Hs,Ha,wi,d,2,-0,0),f);break e}Uv(l,a,un,Dc,Ud,i,kn,Hs,Ha,wi,d,0,-0,0)}}break}while(!0);dr(t)}function Uv(t,i,a,l,f,d,E,b,N,Q,J,re,Y,X){if(t.timeoutHandle=-1,re=i.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:Ww},Dv(i),re=Jw(),re!==null)){t.cancelPendingCommit=re(Gv.bind(null,t,i,d,a,l,f,E,b,N,J,1,Y,X)),Ri(t,d,E,!Q);return}Gv(t,i,d,a,l,f,E,b,N)}function gw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!mn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ri(t,i,a,l){i&=~Ld,i&=~Hs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-$t(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&Zn(t,a,i)}function Oc(){return(Ke&6)===0?(Il(0),!1):!0}function Hd(){if(Ve!==null){if(Ye===0)var t=Ve.return;else t=Ve,Pr=Ls=null,ad(t),Ua=null,_l=0,t=Ve;for(;t!==null;)yv(t.alternate,t),t=t.return;Ve=null}}function $a(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,kw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Hd(),nt=t,Ve=a=Mr(t.current,null),Be=i,Ye=0,vn=null,wi=!1,qa=ps(t,i),Pd=!1,Ha=kn=Ld=Hs=Ai=ft=0,un=Rl=null,Ud=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-$t(l),d=1<<f;i|=t[f],l&=~d}return Fr=i,ec(),a}function jv(t,i){Oe=null,j.H=_c,i===cl||i===uc?(i=ny(),Ye=3):i===Jg?(i=ny(),Ye=4):Ye=i===rv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Ve===null&&(ft=1,Ac(t,In(i,t.current)))}function zv(){var t=j.H;return j.H=_c,t===null?_c:t}function Bv(){var t=j.A;return j.A=mw,t}function Fd(){ft=4,wi||(Be&4194048)!==Be&&Mn.current!==null||(qa=!0),(Ai&134217727)===0&&(Hs&134217727)===0||nt===null||Ri(nt,Be,kn,!1)}function Gd(t,i,a){var l=Ke;Ke|=2;var f=zv(),d=Bv();(nt!==t||Be!==i)&&(Dc=null,$a(t,i)),i=!1;var E=ft;e:do try{if(Ye!==0&&Ve!==null){var b=Ve,N=vn;switch(Ye){case 8:Hd(),E=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(i=!0);var Q=Ye;if(Ye=0,vn=null,Qa(t,b,N,Q),a&&qa){E=0;break e}break;default:Q=Ye,Ye=0,vn=null,Qa(t,b,N,Q)}}yw(),E=ft;break}catch(J){jv(t,J)}while(!0);return i&&t.shellSuspendCounter++,Pr=Ls=null,Ke=l,j.H=f,j.A=d,Ve===null&&(nt=null,Be=0,ec()),E}function yw(){for(;Ve!==null;)qv(Ve)}function vw(t,i){var a=Ke;Ke|=2;var l=zv(),f=Bv();nt!==t||Be!==i?(Dc=null,Nc=wn()+500,$a(t,i)):qa=ps(t,i);e:do try{if(Ye!==0&&Ve!==null){i=Ve;var d=vn;t:switch(Ye){case 1:Ye=0,vn=null,Qa(t,i,d,1);break;case 2:case 9:if(ey(d)){Ye=0,vn=null,Hv(i);break}i=function(){Ye!==2&&Ye!==9||nt!==t||(Ye=7),dr(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:ey(d)?(Ye=0,vn=null,Hv(i)):(Ye=0,vn=null,Qa(t,i,d,7));break;case 5:var E=null;switch(Ve.tag){case 26:E=Ve.memoizedState;case 5:case 27:var b=Ve;if(!E||A0(E)){Ye=0,vn=null;var N=b.sibling;if(N!==null)Ve=N;else{var Q=b.return;Q!==null?(Ve=Q,Mc(Q)):Ve=null}break t}}Ye=0,vn=null,Qa(t,i,d,5);break;case 6:Ye=0,vn=null,Qa(t,i,d,6);break;case 8:Hd(),ft=6;break e;default:throw Error(s(462))}}_w();break}catch(J){jv(t,J)}while(!0);return Pr=Ls=null,j.H=l,j.A=f,Ke=a,Ve!==null?0:(nt=null,Be=0,ec(),ft)}function _w(){for(;Ve!==null&&!Mo();)qv(Ve)}function qv(t){var i=pv(t.alternate,t,Fr);t.memoizedProps=t.pendingProps,i===null?Mc(t):Ve=i}function Hv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=uv(a,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=uv(a,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:ad(i);default:yv(a,i),i=Ve=Fg(i,Fr),i=pv(a,i,Fr)}t.memoizedProps=t.pendingProps,i===null?Mc(t):Ve=i}function Qa(t,i,a,l){Pr=Ls=null,ad(i),Ua=null,_l=0;var f=i.return;try{if(lw(t,f,i,a,Be)){ft=1,Ac(t,In(a,t.current)),Ve=null;return}}catch(d){if(f!==null)throw Ve=f,d;ft=1,Ac(t,In(a,t.current)),Ve=null;return}i.flags&32768?(Fe||l===1?t=!0:qa||(Be&536870912)!==0?t=!1:(wi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fv(i,t)):Mc(i)}function Mc(t){var i=t;do{if((i.flags&32768)!==0){Fv(i,wi);return}t=i.return;var a=cw(i.alternate,i,Fr);if(a!==null){Ve=a;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=t}while(i!==null);ft===0&&(ft=5)}function Fv(t,i){do{var a=hw(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);ft=6,Ve=null}function Gv(t,i,a,l,f,d,E,b,N){t.cancelPendingCommit=null;do kc();while(Bt!==0);if((Ke&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Vf,jo(t,a,d,E,b,N),t===nt&&(Ve=nt=null,Be=0),Fa=i,Si=t,Ga=a,zd=d,Bd=f,Vv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ww(hs,function(){return Xv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,f=te.p,te.p=2,E=Ke,Ke|=4;try{fw(t,i,a)}finally{Ke=E,te.p=f,j.T=l}}Bt=1,$v(),Qv(),Kv()}}function $v(){if(Bt===1){Bt=0;var t=Si,i=Fa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=j.T,j.T=null;var l=te.p;te.p=2;var f=Ke;Ke|=4;try{Cv(i,t);var d=rm,E=kg(t.containerInfo),b=d.focusedElem,N=d.selectionRange;if(E!==b&&b&&b.ownerDocument&&Mg(b.ownerDocument.documentElement,b)){if(N!==null&&Nf(b)){var Q=N.start,J=N.end;if(J===void 0&&(J=Q),"selectionStart"in b)b.selectionStart=Q,b.selectionEnd=Math.min(J,b.value.length);else{var re=b.ownerDocument||document,Y=re&&re.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),xe=b.textContent.length,_e=Math.min(N.start,xe),Je=N.end===void 0?_e:Math.min(N.end,xe);!X.extend&&_e>Je&&(E=Je,Je=_e,_e=E);var B=Og(b,_e),L=Og(b,Je);if(B&&L&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==L.node||X.focusOffset!==L.offset)){var F=re.createRange();F.setStart(B.node,B.offset),X.removeAllRanges(),_e>Je?(X.addRange(F),X.extend(L.node,L.offset)):(F.setEnd(L.node,L.offset),X.addRange(F))}}}}for(re=[],X=b;X=X.parentNode;)X.nodeType===1&&re.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<re.length;b++){var ne=re[b];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}$c=!!nm,rm=nm=null}finally{Ke=f,te.p=l,j.T=a}}t.current=i,Bt=2}}function Qv(){if(Bt===2){Bt=0;var t=Si,i=Fa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=j.T,j.T=null;var l=te.p;te.p=2;var f=Ke;Ke|=4;try{Av(t,i.alternate,i)}finally{Ke=f,te.p=l,j.T=a}}Bt=3}}function Kv(){if(Bt===4||Bt===3){Bt=0,Iu();var t=Si,i=Fa,a=Ga,l=Vv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Bt=5:(Bt=0,Fa=Si=null,Yv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(xi=null),ca(a),i=i.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ct,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=j.T,f=te.p,te.p=2,j.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var b=l[E];d(b.value,{componentStack:b.stack})}}finally{j.T=i,te.p=f}}(Ga&3)!==0&&kc(),dr(t),f=t.pendingLanes,(a&4194090)!==0&&(f&42)!==0?t===qd?Cl++:(Cl=0,qd=t):Cl=0,Il(0)}}function Yv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ll(i)))}function kc(t){return $v(),Qv(),Kv(),Xv()}function Xv(){if(Bt!==5)return!1;var t=Si,i=zd;zd=0;var a=ca(Ga),l=j.T,f=te.p;try{te.p=32>a?32:a,j.T=null,a=Bd,Bd=null;var d=Si,E=Ga;if(Bt=0,Fa=Si=null,Ga=0,(Ke&6)!==0)throw Error(s(331));var b=Ke;if(Ke|=4,Mv(d.current),Nv(d,d.current,E,a),Ke=b,Il(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ct,d)}catch{}return!0}finally{te.p=f,j.T=l,Yv(t,i)}}function Wv(t,i,a){i=In(a,i),i=Ed(t.stateNode,i,2),t=gi(t,i,2),t!==null&&(br(t,2),dr(t))}function et(t,i,a){if(t.tag===3)Wv(t,t,a);else for(;i!==null;){if(i.tag===3){Wv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xi===null||!xi.has(l))){t=In(a,t),a=tv(2),l=gi(i,a,2),l!==null&&(nv(a,l,i,t),br(l,2),dr(l));break}}i=i.return}}function $d(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new pw;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Pd=!0,f.add(a),t=Ew.bind(null,t,i,a),i.then(t,t))}function Ew(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Be&a)===a&&(ft===4||ft===3&&(Be&62914560)===Be&&300>wn()-jd?(Ke&2)===0&&$a(t,0):Ld|=a,Ha===Be&&(Ha=0)),dr(t)}function Zv(t,i){i===0&&(i=Uo()),t=Ca(t,i),t!==null&&(br(t,i),dr(t))}function Tw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Zv(t,a)}function bw(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Zv(t,a)}function ww(t,i){return us(t,i)}var Vc=null,Ka=null,Qd=!1,Pc=!1,Kd=!1,Fs=0;function dr(t){t!==Ka&&t.next===null&&(Ka===null?Vc=Ka=t:Ka=Ka.next=t),Pc=!0,Qd||(Qd=!0,xw())}function Il(t,i){if(!Kd&&Pc){Kd=!0;do for(var a=!1,l=Vc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-$t(42|t)+1)-1,d&=f&~(E&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,n0(l,d))}else d=Be,d=ua(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ps(l,d)||(a=!0,n0(l,d));l=l.next}while(a);Kd=!1}}function Aw(){Jv()}function Jv(){Pc=Qd=!1;var t=0;Fs!==0&&(Mw()&&(t=Fs),Fs=0);for(var i=wn(),a=null,l=Vc;l!==null;){var f=l.next,d=e0(l,i);d===0?(l.next=null,a===null?Vc=f:a.next=f,f===null&&(Ka=a)):(a=l,(t!==0||(d&3)!==0)&&(Pc=!0)),l=f}Il(t)}function e0(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-$t(d),b=1<<E,N=f[E];N===-1?((b&a)===0||(b&l)!==0)&&(f[E]=Po(b,i)):N<=i&&(t.expiredLanes|=b),d&=~b}if(i=nt,a=Be,a=ua(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&cs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ps(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&cs(l),ca(a)){case 2:case 8:a=oa;break;case 32:a=hs;break;case 268435456:a=la;break;default:a=hs}return l=t0.bind(null,t),a=us(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&cs(l),t.callbackPriority=2,t.callbackNode=null,2}function t0(t,i){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(kc()&&t.callbackNode!==a)return null;var l=Be;return l=ua(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Lv(t,l,i),e0(t,wn()),t.callbackNode!=null&&t.callbackNode===a?t0.bind(null,t):null)}function n0(t,i){if(kc())return null;Lv(t,i,!0)}function xw(){Vw(function(){(Ke&6)!==0?us(ko,Aw):Jv()})}function Yd(){return Fs===0&&(Fs=Lo()),Fs}function r0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ga(""+t)}function i0(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Sw(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=r0((f[yt]||null).action),E=l.submitter;E&&(i=(i=E[yt]||null)?r0(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var b=new ya("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fs!==0){var N=E?i0(f,E):new FormData(f);pd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=E?i0(f,E):new FormData(f),pd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var Xd=0;Xd<kf.length;Xd++){var Wd=kf[Xd],Rw=Wd.toLowerCase(),Cw=Wd[0].toUpperCase()+Wd.slice(1);zn(Rw,"on"+Cw)}zn(Lg,"onAnimationEnd"),zn(Ug,"onAnimationIteration"),zn(jg,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(G1,"onTransitionRun"),zn($1,"onTransitionStart"),zn(Q1,"onTransitionCancel"),zn(zg,"onTransitionEnd"),Ar("onMouseEnter",["mouseout","mouseover"]),Ar("onMouseLeave",["mouseout","mouseover"]),Ar("onPointerEnter",["pointerout","pointerover"]),Ar("onPointerLeave",["pointerout","pointerover"]),Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Un("onBeforeInput",["compositionend","keypress","textInput","paste"]),Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function s0(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var b=l[E],N=b.instance,Q=b.currentTarget;if(b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=Q;try{d(f)}catch(J){wc(J)}f.currentTarget=null,d=N}else for(E=0;E<l.length;E++){if(b=l[E],N=b.instance,Q=b.currentTarget,b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=Q;try{d(f)}catch(J){wc(J)}f.currentTarget=null,d=N}}}}function Pe(t,i){var a=i[Bo];a===void 0&&(a=i[Bo]=new Set);var l=t+"__bubble";a.has(l)||(a0(i,t,2,!1),a.add(l))}function Zd(t,i,a){var l=0;i&&(l|=4),a0(a,t,l,i)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function Jd(t){if(!t[Lc]){t[Lc]=!0,qo.forEach(function(a){a!=="selectionchange"&&(Iw.has(a)||Zd(a,!1,t),Zd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Lc]||(i[Lc]=!0,Zd("selectionchange",!1,i))}}function a0(t,i,a,l){switch(N0(i)){case 2:var f=nA;break;case 8:f=rA;break;default:f=dm}a=f.bind(null,i,a,t),f=void 0,!Rn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function em(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=l.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=wr(b),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){l=d=E;continue e}b=b.parentNode}}l=l.return}ju(function(){var Q=d,J=Sn(a),re=[];e:{var Y=Bg.get(t);if(Y!==void 0){var X=ya,xe=t;switch(t){case"keypress":if(ir(a)===0)break e;case"keydown":case"keyup":X=wa;break;case"focusin":xe="focus",X=Ea;break;case"focusout":xe="blur",X=Ea;break;case"beforeblur":case"afterblur":X=Ea;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Qu;break;case Lg:case Ug:case jg:X=Ta;break;case zg:X=Yu;break;case"scroll":case"scrollend":X=zu;break;case"wheel":X=Aa;break;case"copy":case"cut":case"paste":X=ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=el;break;case"toggle":case"beforetoggle":X=Wu}var _e=(i&4)!==0,Je=!_e&&(t==="scroll"||t==="scrollend"),B=_e?Y!==null?Y+"Capture":null:Y;_e=[];for(var L=Q,F;L!==null;){var ne=L;if(F=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||F===null||B===null||(ne=ws(L,B),ne!=null&&_e.push(Dl(L,ne,F))),Je)break;L=L.return}0<_e.length&&(Y=new X(Y,xe,null,a,J),re.push({event:Y,listeners:_e}))}}if((i&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Y&&a!==Rr&&(xe=a.relatedTarget||a.fromElement)&&(wr(xe)||xe[An]))break e;if((X||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(xe=a.relatedTarget||a.toElement,X=Q,xe=xe?wr(xe):null,xe!==null&&(Je=u(xe),_e=xe.tag,xe!==Je||_e!==5&&_e!==27&&_e!==6)&&(xe=null)):(X=null,xe=Q),X!==xe)){if(_e=Cn,ne="onMouseLeave",B="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(_e=el,ne="onPointerLeave",B="onPointerEnter",L="pointer"),Je=X==null?Y:er(X),F=xe==null?Y:er(xe),Y=new _e(ne,L+"leave",X,a,J),Y.target=Je,Y.relatedTarget=F,ne=null,wr(J)===Q&&(_e=new _e(B,L+"enter",xe,a,J),_e.target=F,_e.relatedTarget=Je,ne=_e),Je=ne,X&&xe)t:{for(_e=X,B=xe,L=0,F=_e;F;F=Ya(F))L++;for(F=0,ne=B;ne;ne=Ya(ne))F++;for(;0<L-F;)_e=Ya(_e),L--;for(;0<F-L;)B=Ya(B),F--;for(;L--;){if(_e===B||B!==null&&_e===B.alternate)break t;_e=Ya(_e),B=Ya(B)}_e=null}else _e=null;X!==null&&o0(re,Y,X,_e,!1),xe!==null&&Je!==null&&o0(re,Je,xe,_e,!0)}}e:{if(Y=Q?er(Q):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var me=Sg;else if(St(Y))if(Rg)me=q1;else{me=z1;var ke=j1}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?Q&&Qo(Q.elementType)&&(me=Sg):me=B1;if(me&&(me=me(t,Q))){Or(re,me,a,J);break e}ke&&ke(t,Y,Q),t==="focusout"&&Q&&Y.type==="number"&&Q.memoizedProps.value!=null&&hi(Y,"number",Y.value)}switch(ke=Q?er(Q):window,t){case"focusin":(St(ke)||ke.contentEditable==="true")&&(xa=ke,Df=Q,rl=null);break;case"focusout":rl=Df=xa=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,Vg(re,a,J);break;case"selectionchange":if(F1)break;case"keydown":case"keyup":Vg(re,a,J)}var ye;if(or)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else je?Z(t,a)&&(Te="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(v&&a.locale!=="ko"&&(je||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&je&&(ye=Yo()):(rr=J,fi="value"in rr?rr.value:rr.textContent,je=!0)),ke=Uc(Q,Te),0<ke.length&&(Te=new Zo(Te,t,null,a,J),re.push({event:Te,listeners:ke}),ye?Te.data=ye:(ye=ue(a),ye!==null&&(Te.data=ye)))),(ye=y?xt(t,a):ze(t,a))&&(Te=Uc(Q,"onBeforeInput"),0<Te.length&&(ke=new Zo("onBeforeInput","beforeinput",null,a,J),re.push({event:ke,listeners:Te}),ke.data=ye)),Sw(re,t,Q,a,J)}s0(re,i)})}function Dl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Uc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ws(t,a),f!=null&&l.unshift(Dl(t,f,d)),f=ws(t,i),f!=null&&l.push(Dl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function Ya(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function o0(t,i,a,l,f){for(var d=i._reactName,E=[];a!==null&&a!==l;){var b=a,N=b.alternate,Q=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||Q===null||(N=Q,f?(Q=ws(a,d),Q!=null&&E.unshift(Dl(a,Q,N))):f||(Q=ws(a,d),Q!=null&&E.push(Dl(a,Q,N)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var Nw=/\r\n?/g,Dw=/\u0000|\uFFFD/g;function l0(t){return(typeof t=="string"?t:""+t).replace(Nw,`
`).replace(Dw,"")}function u0(t,i){return i=l0(i),l0(t)===i}function jc(){}function Ze(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||xn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&xn(t,""+l);break;case"className":tr(t,"class",l);break;case"tabIndex":tr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":tr(t,a,l);break;case"style":$o(t,l,d);break;case"data":if(i!=="object"){tr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",f.name,f,null),Ze(t,i,"formEncType",f.formEncType,f,null),Ze(t,i,"formMethod",f.formMethod,f,null),Ze(t,i,"formTarget",f.formTarget,f,null)):(Ze(t,i,"encType",f.encType,f,null),Ze(t,i,"method",f.method,f,null),Ze(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=jc);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ga(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),ci(t,"popover",l);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ci(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Af.get(a)||a,ci(t,a,l))}}function tm(t,i,a,l,f,d){switch(a){case"style":$o(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?xn(t,l):(typeof l=="number"||typeof l=="bigint")&&xn(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ha.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ci(t,a,l)}}}function qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,d,E,a,null)}}f&&Ze(t,i,"srcSet",a.srcSet,a,null),l&&Ze(t,i,"src",a.src,a,null);return;case"input":Pe("invalid",t);var b=d=E=f=null,N=null,Q=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":f=J;break;case"type":E=J;break;case"checked":N=J;break;case"defaultChecked":Q=J;break;case"value":d=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:Ze(t,i,l,J,a,null)}}Es(t,d,b,N,Q,E,f,!1),pa(t);return;case"select":Pe("invalid",t),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:Ze(t,i,f,b,a,null)}i=d,a=E,t.multiple=!!l,i!=null?Sr(t,!!l,i,!1):a!=null&&Sr(t,!!l,a,!0);return;case"textarea":Pe("invalid",t),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ze(t,i,E,b,a,null)}Ts(t,l,f,d),pa(t);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,i,N,l,a,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Pe(Nl[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in a)if(a.hasOwnProperty(Q)&&(l=a[Q],l!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,Q,l,a,null)}return;default:if(Qo(i)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&tm(t,i,J,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Ze(t,i,b,l,a,null))}function Ow(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,b=null,N=null,Q=null,J=null;for(X in a){var re=a[X];if(a.hasOwnProperty(X)&&re!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":N=re;default:l.hasOwnProperty(X)||Ze(t,i,X,null,l,re)}}for(var Y in l){var X=l[Y];if(re=a[Y],l.hasOwnProperty(Y)&&(X!=null||re!=null))switch(Y){case"type":d=X;break;case"name":f=X;break;case"checked":Q=X;break;case"defaultChecked":J=X;break;case"value":E=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==re&&Ze(t,i,Y,X,l,re)}}dn(t,E,b,N,Q,J,d,f);return;case"select":X=E=b=Y=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":X=N;default:l.hasOwnProperty(d)||Ze(t,i,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":Y=d;break;case"defaultValue":b=d;break;case"multiple":E=d;default:d!==N&&Ze(t,i,f,d,l,N)}i=b,a=E,l=X,Y!=null?Sr(t,!!a,Y,!1):!!l!=!!a&&(i!=null?Sr(t,!!a,i,!0):Sr(t,!!a,a?[]:"",!1));return;case"textarea":X=Y=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ze(t,i,b,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":Y=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ze(t,i,E,f,l,d)}Xe(t,Y,X);return;case"option":for(var xe in a)if(Y=a[xe],a.hasOwnProperty(xe)&&Y!=null&&!l.hasOwnProperty(xe))switch(xe){case"selected":t.selected=!1;break;default:Ze(t,i,xe,null,l,Y)}for(N in l)if(Y=l[N],X=a[N],l.hasOwnProperty(N)&&Y!==X&&(Y!=null||X!=null))switch(N){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Ze(t,i,N,Y,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)Y=a[_e],a.hasOwnProperty(_e)&&Y!=null&&!l.hasOwnProperty(_e)&&Ze(t,i,_e,null,l,Y);for(Q in l)if(Y=l[Q],X=a[Q],l.hasOwnProperty(Q)&&Y!==X&&(Y!=null||X!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Ze(t,i,Q,Y,l,X)}return;default:if(Qo(i)){for(var Je in a)Y=a[Je],a.hasOwnProperty(Je)&&Y!==void 0&&!l.hasOwnProperty(Je)&&tm(t,i,Je,void 0,l,Y);for(J in l)Y=l[J],X=a[J],!l.hasOwnProperty(J)||Y===X||Y===void 0&&X===void 0||tm(t,i,J,Y,l,X);return}}for(var B in a)Y=a[B],a.hasOwnProperty(B)&&Y!=null&&!l.hasOwnProperty(B)&&Ze(t,i,B,null,l,Y);for(re in l)Y=l[re],X=a[re],!l.hasOwnProperty(re)||Y===X||Y==null&&X==null||Ze(t,i,re,Y,l,X)}var nm=null,rm=null;function zc(t){return t.nodeType===9?t:t.ownerDocument}function c0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h0(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function im(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var sm=null;function Mw(){var t=window.event;return t&&t.type==="popstate"?t===sm?!1:(sm=t,!0):(sm=null,!1)}var f0=typeof setTimeout=="function"?setTimeout:void 0,kw=typeof clearTimeout=="function"?clearTimeout:void 0,d0=typeof Promise=="function"?Promise:void 0,Vw=typeof queueMicrotask=="function"?queueMicrotask:typeof d0<"u"?function(t){return d0.resolve(null).then(t).catch(Pw)}:f0;function Pw(t){setTimeout(function(){throw t})}function Ci(t){return t==="head"}function m0(t,i){var a=i,l=0,f=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&Ol(E.documentElement),a&2&&Ol(E.body),a&4)for(a=E.head,Ol(a),E=a.firstChild;E;){var b=E.nextSibling,N=E.nodeName;E[gs]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=b}}if(f===0){t.removeChild(d),zl(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);zl(i)}function am(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":am(a),ui(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Lw(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function Uw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=qn(t.nextSibling),t===null))return null;return t}function om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function jw(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var lm=null;function p0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function g0(t,i,a){switch(i=zc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ol(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ui(t)}var Vn=new Map,y0=new Set;function Bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Gr=te.d;te.d={f:zw,r:Bw,D:qw,C:Hw,L:Fw,m:Gw,X:Qw,S:$w,M:Kw};function zw(){var t=Gr.f(),i=Oc();return t||i}function Bw(t){var i=Jn(t);i!==null&&i.tag===5&&i.type==="form"?Ly(i):Gr.r(t)}var Xa=typeof document>"u"?null:document;function v0(t,i,a){var l=Xa;if(l&&typeof i=="string"&&i){var f=vt(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),y0.has(f)||(y0.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),qt(i,"link",t),dt(i),l.head.appendChild(i)))}}function qw(t){Gr.D(t),v0("dns-prefetch",t,null)}function Hw(t,i){Gr.C(t,i),v0("preconnect",t,i)}function Fw(t,i,a){Gr.L(t,i,a);var l=Xa;if(l&&t&&i){var f='link[rel="preload"][as="'+vt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+vt(a.imageSizes)+'"]')):f+='[href="'+vt(t)+'"]';var d=f;switch(i){case"style":d=Wa(t);break;case"script":d=Za(t)}Vn.has(d)||(t=_({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Vn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Ml(d))||i==="script"&&l.querySelector(kl(d))||(i=l.createElement("link"),qt(i,"link",t),dt(i),l.head.appendChild(i)))}}function Gw(t,i){Gr.m(t,i);var a=Xa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+vt(l)+'"][href="'+vt(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Za(t)}if(!Vn.has(d)&&(t=_({rel:"modulepreload",href:t},i),Vn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(d)))return}l=a.createElement("link"),qt(l,"link",t),dt(l),a.head.appendChild(l)}}}function $w(t,i,a){Gr.S(t,i,a);var l=Xa;if(l&&t){var f=en(l).hoistableStyles,d=Wa(t);i=i||"default";var E=f.get(d);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(Ml(d)))b.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Vn.get(d))&&um(t,a);var N=E=l.createElement("link");dt(N),qt(N,"link",t),N._p=new Promise(function(Q,J){N.onload=Q,N.onerror=J}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,qc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(d,E)}}}function Qw(t,i){Gr.X(t,i);var a=Xa;if(a&&t){var l=en(a).hoistableScripts,f=Za(t),d=l.get(f);d||(d=a.querySelector(kl(f)),d||(t=_({src:t,async:!0},i),(i=Vn.get(f))&&cm(t,i),d=a.createElement("script"),dt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Kw(t,i){Gr.M(t,i);var a=Xa;if(a&&t){var l=en(a).hoistableScripts,f=Za(t),d=l.get(f);d||(d=a.querySelector(kl(f)),d||(t=_({src:t,async:!0,type:"module"},i),(i=Vn.get(f))&&cm(t,i),d=a.createElement("script"),dt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function _0(t,i,a,l){var f=(f=ge.current)?Bc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Wa(a.href),a=en(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Wa(a.href);var d=en(f).hoistableStyles,E=d.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=f.querySelector(Ml(t)))&&!d._p&&(E.instance=d,E.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),d||Yw(f,t,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Za(a),a=en(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Wa(t){return'href="'+vt(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function E0(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function Yw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qt(i,"link",a),dt(i),t.head.appendChild(i))}function Za(t){return'[src="'+vt(t)+'"]'}function kl(t){return"script[async]"+t}function T0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+vt(a.href)+'"]');if(l)return i.instance=l,dt(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),dt(l),qt(l,"style",f),qc(l,a.precedence,t),i.instance=l;case"stylesheet":f=Wa(a.href);var d=t.querySelector(Ml(f));if(d)return i.state.loading|=4,i.instance=d,dt(d),d;l=E0(a),(f=Vn.get(f))&&um(l,f),d=(t.ownerDocument||t).createElement("link"),dt(d);var E=d;return E._p=new Promise(function(b,N){E.onload=b,E.onerror=N}),qt(d,"link",l),i.state.loading|=4,qc(d,a.precedence,t),i.instance=d;case"script":return d=Za(a.src),(f=t.querySelector(kl(d)))?(i.instance=f,dt(f),f):(l=a,(f=Vn.get(d))&&(l=_({},a),cm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),dt(f),qt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,qc(l,a.precedence,t));return i.instance}function qc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===i)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function um(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Hc=null;function b0(t,i,a){if(Hc===null){var l=new Map,f=Hc=new Map;f.set(a,l)}else f=Hc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[gs]||d[At]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var b=l.get(E);b?b.push(d):l.set(E,[d])}}return l}function w0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Xw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function A0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Vl=null;function Ww(){}function Zw(t,i,a){if(Vl===null)throw Error(s(475));var l=Vl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Wa(a.href),d=t.querySelector(Ml(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Fc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,dt(d);return}d=t.ownerDocument||t,a=E0(a),(f=Vn.get(f))&&um(a,f),d=d.createElement("link"),dt(d);var E=d;E._p=new Promise(function(b,N){E.onload=b,E.onerror=N}),qt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Fc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function Jw(){if(Vl===null)throw Error(s(475));var t=Vl;return t.stylesheets&&t.count===0&&hm(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&hm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Fc(){if(this.count--,this.count===0){if(this.stylesheets)hm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gc=null;function hm(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gc=new Map,i.forEach(eA,t),Gc=null,Fc.call(t))}function eA(t,i){if(!(i.state.loading&4)){var a=Gc.get(t);if(a)var l=a.get(null);else{a=new Map,Gc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=i.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=Fc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Pl={$$typeof:$,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function tA(t,i,a,l,f,d,E,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tr(0),this.hiddenUpdates=Tr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function x0(t,i,a,l,f,d,E,b,N,Q,J,re){return t=new tA(t,i,a,E,b,N,Q,re),i=1,d===!0&&(i|=24),d=pn(3,null,null,i),t.current=d,d.stateNode=t,i=$f(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Xf(d),t}function S0(t){return t?(t=Ia,t):Ia}function R0(t,i,a,l,f,d){f=S0(f),l.context===null?l.context=f:l.pendingContext=f,l=pi(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=gi(t,l,i),a!==null&&(En(a,t,i),fl(a,t,i))}function C0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function fm(t,i){C0(t,i),(t=t.alternate)&&C0(t,i)}function I0(t){if(t.tag===13){var i=Ca(t,67108864);i!==null&&En(i,t,67108864),fm(t,67108864)}}var $c=!0;function nA(t,i,a,l){var f=j.T;j.T=null;var d=te.p;try{te.p=2,dm(t,i,a,l)}finally{te.p=d,j.T=f}}function rA(t,i,a,l){var f=j.T;j.T=null;var d=te.p;try{te.p=8,dm(t,i,a,l)}finally{te.p=d,j.T=f}}function dm(t,i,a,l){if($c){var f=mm(l);if(f===null)em(t,i,l,Qc,a),D0(t,l);else if(sA(f,t,i,a,l))l.stopPropagation();else if(D0(t,l),i&4&&-1<iA.indexOf(t)){for(;f!==null;){var d=Jn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Ln(d.pendingLanes);if(E!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var N=1<<31-$t(E);b.entanglements[1]|=N,E&=~N}dr(d),(Ke&6)===0&&(Nc=wn()+500,Il(0))}}break;case 13:b=Ca(d,2),b!==null&&En(b,d,2),Oc(),fm(d,2)}if(d=mm(l),d===null&&em(t,i,l,Qc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else em(t,i,l,null,a)}}function mm(t){return t=Sn(t),pm(t)}var Qc=null;function pm(t){if(Qc=null,t=wr(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Qc=t,null}function N0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vf()){case ko:return 2;case oa:return 8;case hs:case _f:return 32;case la:return 268435456;default:return 32}default:return 32}}var gm=!1,Ii=null,Ni=null,Di=null,Ll=new Map,Ul=new Map,Oi=[],iA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D0(t,i){switch(t){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":Ll.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(i.pointerId)}}function jl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Jn(i),i!==null&&I0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function sA(t,i,a,l,f){switch(i){case"focusin":return Ii=jl(Ii,t,i,a,l,f),!0;case"dragenter":return Ni=jl(Ni,t,i,a,l,f),!0;case"mouseover":return Di=jl(Di,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ll.set(d,jl(Ll.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ul.set(d,jl(Ul.get(d)||null,t,i,a,l,f)),!0}return!1}function O0(t){var i=wr(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Ou(t.priority,function(){if(a.tag===13){var l=_n();l=ai(l);var f=Ca(a,l);f!==null&&En(f,a,l),fm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=mm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Rr=l,a.target.dispatchEvent(l),Rr=null}else return i=Jn(a),i!==null&&I0(i),t.blockedOn=a,!1;i.shift()}return!0}function M0(t,i,a){Kc(t)&&a.delete(i)}function aA(){gm=!1,Ii!==null&&Kc(Ii)&&(Ii=null),Ni!==null&&Kc(Ni)&&(Ni=null),Di!==null&&Kc(Di)&&(Di=null),Ll.forEach(M0),Ul.forEach(M0)}function Yc(t,i){t.blockedOn===i&&(t.blockedOn=null,gm||(gm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,aA)))}var Xc=null;function k0(t){Xc!==t&&(Xc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xc===t&&(Xc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(pm(l||a)===null)continue;break}var d=Jn(a);d!==null&&(t.splice(i,3),i-=3,pd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function zl(t){function i(N){return Yc(N,t)}Ii!==null&&Yc(Ii,t),Ni!==null&&Yc(Ni,t),Di!==null&&Yc(Di,t),Ll.forEach(i),Ul.forEach(i);for(var a=0;a<Oi.length;a++){var l=Oi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Oi.length&&(a=Oi[0],a.blockedOn===null);)O0(a),a.blockedOn===null&&Oi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[yt]||null;if(typeof d=="function")E||k0(a);else if(E){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[yt]||null)b=E.formAction;else if(pm(f)!==null)continue}else b=E.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),k0(a)}}}function ym(t){this._internalRoot=t}Wc.prototype.render=ym.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=_n();R0(a,l,t,i,null,null)},Wc.prototype.unmount=ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;R0(t.current,2,null,t,null,null),Oc(),i[An]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var i=oi();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Oi.length&&i!==0&&i<Oi[a].priority;a++);Oi.splice(a,0,t),a===0&&O0(t)}};var V0=e.version;if(V0!=="19.1.0")throw Error(s(527,V0,"19.1.0"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var oA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{ct=Zc.inject(oA),Qe=Zc}catch{}}return ql.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=Wy,d=Zy,E=Jy,b=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=x0(t,1,!1,null,null,a,l,f,d,E,b,null),t[An]=i.current,Jd(t),new ym(i)},ql.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=Wy,E=Zy,b=Jy,N=null,Q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(Q=a.formState)),i=x0(t,1,!0,i,a??null,l,f,d,E,b,N,Q),i.context=S0(null),a=i.current,l=_n(),l=ai(l),f=pi(l),f.callback=null,gi(a,f,l),a=l,i.current.lanes=a,br(i,a),dr(i),t[An]=i.current,Jd(t),new Wc(i)},ql.version="19.1.0",ql}var G0;function yA(){if(G0)return Em.exports;G0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Em.exports=gA(),Em.exports}var vA=yA();const _A=kE(vA);var Hl={},$0;function EA(){if($0)return Hl;$0=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.parse=h,Hl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,O){const V=new u,G=A.length;if(G<2)return V;const U=(O==null?void 0:O.decode)||_;let q=0;do{const W=A.indexOf("=",q);if(W===-1)break;const $=A.indexOf(";",q),ae=$===-1?G:$;if(W>ae){q=A.lastIndexOf(";",W-1)+1;continue}const oe=m(A,q,W),pe=p(A,W,oe),I=A.slice(oe,pe);if(V[I]===void 0){let S=m(A,W+1,ae),R=p(A,ae,S);const M=U(A.slice(S,R));V[I]=M}q=ae+1}while(q<G);return V}function m(A,O,V){do{const G=A.charCodeAt(O);if(G!==32&&G!==9)return O}while(++O<V);return V}function p(A,O,V){for(;O>V;){const G=A.charCodeAt(--O);if(G!==32&&G!==9)return O+1}return V}function g(A,O,V){const G=(V==null?void 0:V.encode)||encodeURIComponent;if(!r.test(A))throw new TypeError(`argument name is invalid: ${A}`);const U=G(O);if(!e.test(U))throw new TypeError(`argument val is invalid: ${O}`);let q=A+"="+U;if(!V)return q;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);q+="; Max-Age="+V.maxAge}if(V.domain){if(!n.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);q+="; Domain="+V.domain}if(V.path){if(!s.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);q+="; Path="+V.path}if(V.expires){if(!w(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);q+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(q+="; HttpOnly"),V.secure&&(q+="; Secure"),V.partitioned&&(q+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return q}function _(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function w(A){return o.call(A)==="[object Date]"}return Hl}EA();var Q0="popstate";function TA(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return jm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:ru(o)}return wA(e,n,null,r)}function ot(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function $n(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bA(){return Math.random().toString(36).substring(2,10)}function K0(r,e){return{usr:r.state,key:r.key,idx:e}}function jm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?wo(e):e,state:n,key:e&&e.key||s||bA()}}function ru({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function wo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function wA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function w(){m="POP";let U=_(),q=U==null?null:U-g;g=U,p&&p({action:m,location:G.location,delta:q})}function A(U,q){m="PUSH";let W=jm(G.location,U,q);g=_()+1;let $=K0(W,g),ae=G.createHref(W);try{h.pushState($,"",ae)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(ae)}u&&p&&p({action:m,location:G.location,delta:1})}function O(U,q){m="REPLACE";let W=jm(G.location,U,q);g=_();let $=K0(W,g),ae=G.createHref(W);h.replaceState($,"",ae),u&&p&&p({action:m,location:G.location,delta:0})}function V(U){return AA(U)}let G={get action(){return m},get location(){return r(o,h)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Q0,w),p=U,()=>{o.removeEventListener(Q0,w),p=null}},createHref(U){return e(o,U)},createURL:V,encodeLocation(U){let q=V(U);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:A,replace:O,go(U){return h.go(U)}};return G}function AA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:ru(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function VE(r,e,n="/"){return xA(r,e,n,!1)}function xA(r,e,n,s){let o=typeof e=="string"?wo(e):e,u=Xr(o.pathname||"/",n);if(u==null)return null;let h=PE(r);SA(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=LA(u);m=VA(h[p],g,s)}return m}function PE(r,e=[],n=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(ot(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Kr([s,p.relativePath]),_=n.concat(p);u.children&&u.children.length>0&&(ot(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),PE(u.children,e,_,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:MA(g,u.index),routesMeta:_})};return r.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of LE(u.path))o(u,h,p)}),e}function LE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=LE(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function SA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:kA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var RA=/^:[\w-]+$/,CA=3,IA=2,NA=1,DA=10,OA=-2,Y0=r=>r==="*";function MA(r,e){let n=r.split("/"),s=n.length;return n.some(Y0)&&(s+=OA),e&&(s+=IA),n.filter(o=>!Y0(o)).reduce((o,u)=>o+(RA.test(u)?CA:u===""?NA:DA),s)}function kA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function VA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",w=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),A=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:Kr([u,w.pathname]),pathnameBase:BA(Kr([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=Kr([u,w.pathnameBase]))}return h}function Eh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=PA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:w},A)=>{if(_==="*"){let V=m[A]||"";h=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const O=m[A];return w&&!O?g[_]=void 0:g[_]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function PA(r,e=!1,n=!0){$n(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function LA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Xr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function UA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?wo(r):r;return{pathname:n?n.startsWith("/")?n:jA(n,e):e,search:qA(s),hash:HA(o)}}function jA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Am(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ap(r){let e=zA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function xp(r,e,n,s=!1){let o;typeof r=="string"?o=wo(r):(o={...r},ot(!o.pathname||!o.pathname.includes("?"),Am("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),Am("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),Am("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let w=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let p=UA(o,m),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Kr=r=>r.join("/").replace(/\/\/+/g,"/"),BA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),qA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,HA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function FA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var UE=["POST","PUT","PATCH","DELETE"];new Set(UE);var GA=["GET",...UE];new Set(GA);var Ao=z.createContext(null);Ao.displayName="DataRouter";var jh=z.createContext(null);jh.displayName="DataRouterState";var jE=z.createContext({isTransitioning:!1});jE.displayName="ViewTransition";var $A=z.createContext(new Map);$A.displayName="Fetchers";var QA=z.createContext(null);QA.displayName="Await";var Yn=z.createContext(null);Yn.displayName="Navigation";var mu=z.createContext(null);mu.displayName="Location";var Xn=z.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var Sp=z.createContext(null);Sp.displayName="RouteError";function KA(r,{relative:e}={}){ot(xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(Yn),{hash:o,pathname:u,search:h}=pu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Kr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function xo(){return z.useContext(mu)!=null}function rs(){return ot(xo(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(mu).location}var zE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BE(r){z.useContext(Yn).static||z.useLayoutEffect(r)}function is(){let{isDataRoute:r}=z.useContext(Xn);return r?ox():YA()}function YA(){ot(xo(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(Ao),{basename:e,navigator:n}=z.useContext(Yn),{matches:s}=z.useContext(Xn),{pathname:o}=rs(),u=JSON.stringify(Ap(s)),h=z.useRef(!1);return BE(()=>{h.current=!0}),z.useCallback((p,g={})=>{if($n(h.current,zE),!h.current)return;if(typeof p=="number"){n.go(p);return}let _=xp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Kr([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,u,o,r])}z.createContext(null);function qE(){let{matches:r}=z.useContext(Xn),e=r[r.length-1];return e?e.params:{}}function pu(r,{relative:e}={}){let{matches:n}=z.useContext(Xn),{pathname:s}=rs(),o=JSON.stringify(Ap(n));return z.useMemo(()=>xp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function XA(r,e){return HE(r,e)}function HE(r,e,n,s){var W;ot(xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=z.useContext(Yn),{matches:h}=z.useContext(Xn),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",w=m&&m.route;{let $=w&&w.path||"";FE(g,!w||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let A=rs(),O;if(e){let $=typeof e=="string"?wo(e):e;ot(_==="/"||((W=$.pathname)==null?void 0:W.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${$.pathname}" was given in the \`location\` prop.`),O=$}else O=A;let V=O.pathname||"/",G=V;if(_!=="/"){let $=_.replace(/^\//,"").split("/");G="/"+V.replace(/^\//,"").split("/").slice($.length).join("/")}let U=!u&&n&&n.matches&&n.matches.length>0?n.matches:VE(r,{pathname:G});$n(w||U!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),$n(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=tx(U&&U.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:Kr([_,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?_:Kr([_,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),h,n,s);return e&&q?z.createElement(mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},q):q}function WA(){let r=ax(),e=FA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,h)}var ZA=z.createElement(WA,null),JA=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?z.createElement(Xn.Provider,{value:this.props.routeContext},z.createElement(Sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ex({routeContext:r,match:e,children:n}){let s=z.useContext(Ao);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Xn.Provider,{value:r},n)}function tx(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ot(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:_,errors:w}=n,A=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||A){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,_)=>{let w,A=!1,O=null,V=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||ZA,h&&(m<0&&_===0?(FE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,V=null):m===_&&(A=!0,V=g.route.hydrateFallbackElement||null)));let G=e.concat(o.slice(0,_+1)),U=()=>{let q;return w?q=O:A?q=V:g.route.Component?q=z.createElement(g.route.Component,null):g.route.element?q=g.route.element:q=p,z.createElement(ex,{match:g,routeContext:{outlet:p,matches:G,isDataRoute:n!=null},children:q})};return n&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?z.createElement(JA,{location:n.location,revalidation:n.revalidation,component:O,error:w,children:U(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):U()},null)}function Rp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nx(r){let e=z.useContext(Ao);return ot(e,Rp(r)),e}function rx(r){let e=z.useContext(jh);return ot(e,Rp(r)),e}function ix(r){let e=z.useContext(Xn);return ot(e,Rp(r)),e}function Cp(r){let e=ix(r),n=e.matches[e.matches.length-1];return ot(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function sx(){return Cp("useRouteId")}function ax(){var s;let r=z.useContext(Sp),e=rx("useRouteError"),n=Cp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function ox(){let{router:r}=nx("useNavigate"),e=Cp("useNavigate"),n=z.useRef(!1);return BE(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{$n(n.current,zE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var X0={};function FE(r,e,n){!e&&!X0[r]&&(X0[r]=!0,$n(!1,n))}z.memo(lx);function lx({routes:r,future:e,state:n}){return HE(r,void 0,n,e)}function ux({to:r,replace:e,state:n,relative:s}){ot(xo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(Yn);$n(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(Xn),{pathname:h}=rs(),m=is(),p=xp(r,Ap(u),h,s==="path"),g=JSON.stringify(p);return z.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Vi(r){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cx({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ot(!xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=wo(n));let{pathname:p="/",search:g="",hash:_="",state:w=null,key:A="default"}=n,O=z.useMemo(()=>{let V=Xr(p,h);return V==null?null:{location:{pathname:V,search:g,hash:_,state:w,key:A},navigationType:s}},[h,p,g,_,w,A,s]);return $n(O!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:z.createElement(Yn.Provider,{value:m},z.createElement(mu.Provider,{children:e,value:O}))}function hx({children:r,location:e}){return XA(zm(r),e)}function zm(r,e=[]){let n=[];return z.Children.forEach(r,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){n.push.apply(n,zm(s.props.children,u));return}ot(s.type===Vi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=zm(s.props.children,u)),n.push(h)}),n}var oh="get",lh="application/x-www-form-urlencoded";function zh(r){return r!=null&&typeof r.tagName=="string"}function fx(r){return zh(r)&&r.tagName.toLowerCase()==="button"}function dx(r){return zh(r)&&r.tagName.toLowerCase()==="form"}function mx(r){return zh(r)&&r.tagName.toLowerCase()==="input"}function px(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function gx(r,e){return r.button===0&&(!e||e==="_self")&&!px(r)}var Jc=null;function yx(){if(Jc===null)try{new FormData(document.createElement("form"),0),Jc=!1}catch{Jc=!0}return Jc}var vx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xm(r){return r!=null&&!vx.has(r)?($n(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lh}"`),null):r}function _x(r,e){let n,s,o,u,h;if(dx(r)){let m=r.getAttribute("action");s=m?Xr(m,e):null,n=r.getAttribute("method")||oh,o=xm(r.getAttribute("enctype"))||lh,u=new FormData(r)}else if(fx(r)||mx(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Xr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||oh,o=xm(r.getAttribute("formenctype"))||xm(m.getAttribute("enctype"))||lh,u=new FormData(m,r),!yx()){let{name:g,type:_,value:w}=r;if(_==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,w)}}else{if(zh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=oh,s=null,o=lh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}function Ip(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Ex(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Tx(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function bx(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Ex(u,n);return h.links?h.links():[]}return[]}));return Sx(s.flat(1).filter(Tx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function W0(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var _;return n[g].pathname!==p.pathname||((_=n[g].route.path)==null?void 0:_.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function wx(r,e,{includeHydrateFallback:n}={}){return Ax(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Ax(r){return[...new Set(r)]}function xx(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Sx(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(xx(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Rx=new Set([100,101,204,205]);function Cx(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&Xr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function GE(){let r=z.useContext(Ao);return Ip(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Ix(){let r=z.useContext(jh);return Ip(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Np=z.createContext(void 0);Np.displayName="FrameworkContext";function $E(){let r=z.useContext(Np);return Ip(r,"You must render this element inside a <HydratedRouter> element"),r}function Nx(r,e){let n=z.useContext(Np),[s,o]=z.useState(!1),[u,h]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:w}=e,A=z.useRef(null);z.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let G=q=>{q.forEach(W=>{h(W.isIntersecting)})},U=new IntersectionObserver(G,{threshold:.5});return A.current&&U.observe(A.current),()=>{U.disconnect()}}},[r]),z.useEffect(()=>{if(s){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[s]);let O=()=>{o(!0)},V=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Fl(m,O),onBlur:Fl(p,V),onMouseEnter:Fl(g,O),onMouseLeave:Fl(_,V),onTouchStart:Fl(w,O)}]:[!1,A,{}]}function Fl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Dx({page:r,...e}){let{router:n}=GE(),s=z.useMemo(()=>VE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?z.createElement(Mx,{page:r,matches:s,...e}):null}function Ox(r){let{manifest:e,routeModules:n}=$E(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return bx(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function Mx({page:r,matches:e,...n}){let s=rs(),{manifest:o,routeModules:u}=$E(),{basename:h}=GE(),{loaderData:m,matches:p}=Ix(),g=z.useMemo(()=>W0(r,e,p,o,s,"data"),[r,e,p,o,s]),_=z.useMemo(()=>W0(r,e,p,o,s,"assets"),[r,e,p,o,s]),w=z.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let V=new Set,G=!1;if(e.forEach(q=>{var $;let W=o.routes[q.route.id];!W||!W.hasLoader||(!g.some(ae=>ae.route.id===q.route.id)&&q.route.id in m&&(($=u[q.route.id])!=null&&$.shouldRevalidate)||W.hasClientLoader?G=!0:V.add(q.route.id))}),V.size===0)return[];let U=Cx(r,h);return G&&V.size>0&&U.searchParams.set("_routes",e.filter(q=>V.has(q.route.id)).map(q=>q.route.id).join(",")),[U.pathname+U.search]},[h,m,s,o,g,e,r,u]),A=z.useMemo(()=>wx(_,o),[_,o]),O=Ox(_);return z.createElement(z.Fragment,null,w.map(V=>z.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),A.map(V=>z.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),O.map(({key:V,link:G})=>z.createElement("link",{key:V,...G})))}function kx(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var QE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QE&&(window.__reactRouterVersion="7.6.0")}catch{}function Vx({basename:r,children:e,window:n}){let s=z.useRef();s.current==null&&(s.current=TA({window:n,v5Compat:!0}));let o=s.current,[u,h]=z.useState({action:o.action,location:o.location}),m=z.useCallback(p=>{z.startTransition(()=>h(p))},[h]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(cx,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var KE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hi=z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:_,viewTransition:w,...A},O){let{basename:V}=z.useContext(Yn),G=typeof g=="string"&&KE.test(g),U,q=!1;if(typeof g=="string"&&G&&(U=g,QE))try{let R=new URL(window.location.href),M=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=Xr(M.pathname,V);M.origin===R.origin&&P!=null?g=P+M.search+M.hash:q=!0}catch{$n(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=KA(g,{relative:o}),[$,ae,oe]=Nx(s,A),pe=jx(g,{replace:h,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:w});function I(R){e&&e(R),R.defaultPrevented||pe(R)}let S=z.createElement("a",{...A,...oe,href:U||W,onClick:q||u?e:I,ref:kx(O,ae),target:p,"data-discover":!G&&n==="render"?"true":void 0});return $&&!G?z.createElement(z.Fragment,null,S,z.createElement(Dx,{page:W})):S});Hi.displayName="Link";var Px=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},_){let w=pu(h,{relative:g.relative}),A=rs(),O=z.useContext(jh),{navigator:V,basename:G}=z.useContext(Yn),U=O!=null&&Fx(w)&&m===!0,q=V.encodeLocation?V.encodeLocation(w).pathname:w.pathname,W=A.pathname,$=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(W=W.toLowerCase(),$=$?$.toLowerCase():null,q=q.toLowerCase()),$&&G&&($=Xr($,G)||$);const ae=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let oe=W===q||!o&&W.startsWith(q)&&W.charAt(ae)==="/",pe=$!=null&&($===q||!o&&$.startsWith(q)&&$.charAt(q.length)==="/"),I={isActive:oe,isPending:pe,isTransitioning:U},S=oe?e:void 0,R;typeof s=="function"?R=s(I):R=[s,oe?"active":null,pe?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(I):u;return z.createElement(Hi,{...g,"aria-current":S,className:R,ref:_,style:M,to:h,viewTransition:m},typeof p=="function"?p(I):p)});Px.displayName="NavLink";var Lx=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=oh,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:w,...A},O)=>{let V=qx(),G=Hx(m,{relative:g}),U=h.toLowerCase()==="get"?"get":"post",q=typeof m=="string"&&KE.test(m),W=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let ae=$.nativeEvent.submitter,oe=(ae==null?void 0:ae.getAttribute("formmethod"))||h;V(ae||$.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:w})};return z.createElement("form",{ref:O,method:U,action:G,onSubmit:s?p:W,...A,"data-discover":!q&&r==="render"?"true":void 0})});Lx.displayName="Form";function Ux(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YE(r){let e=z.useContext(Ao);return ot(e,Ux(r)),e}function jx(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=is(),p=rs(),g=pu(r,{relative:u});return z.useCallback(_=>{if(gx(_,e)){_.preventDefault();let w=n!==void 0?n:ru(p)===ru(g);m(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,r,o,u,h])}var zx=0,Bx=()=>`__${String(++zx)}__`;function qx(){let{router:r}=YE("useSubmit"),{basename:e}=z.useContext(Yn),n=sx();return z.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=_x(s,e);if(o.navigate===!1){let _=o.fetcherKey||Bx();await r.fetch(_,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Hx(r,{relative:e}={}){let{basename:n}=z.useContext(Yn),s=z.useContext(Xn);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...pu(r||".",{relative:e})},h=rs();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let _=m.toString();u.search=_?`?${_}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Kr([n,u.pathname])),ru(u)}function Fx(r,e={}){let n=z.useContext(jE);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=YE("useViewTransitionState"),o=pu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Xr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Xr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Eh(o.pathname,h)!=null||Eh(o.pathname,u)!=null}[...Rx];function XE(r){var e,n,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(n=XE(r[e]))&&(s&&(s+=" "),s+=n)}else for(n in r)r[n]&&(s&&(s+=" "),s+=n);return s}function Qs(){for(var r,e,n=0,s="",o=arguments.length;n<o;n++)(r=arguments[n])&&(e=XE(r))&&(s&&(s+=" "),s+=e);return s}function Gx(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}Gx(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var gu=r=>typeof r=="number"&&!isNaN(r),Ks=r=>typeof r=="string",Wr=r=>typeof r=="function",$x=r=>Ks(r)||gu(r),Bm=r=>Ks(r)||Wr(r)?r:null,Qx=(r,e)=>r===!1||gu(r)&&r>0?r:e,qm=r=>z.isValidElement(r)||Ks(r)||Wr(r)||gu(r);function Kx(r,e,n=300){let{scrollHeight:s,style:o}=r;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,n)})})}function Yx({enter:r,exit:e,appendPosition:n=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:u,position:h,preventExitTransition:m,done:p,nodeRef:g,isIn:_,playToast:w}){let A=n?`${r}--${h}`:r,O=n?`${e}--${h}`:e,V=z.useRef(0);return z.useLayoutEffect(()=>{let G=g.current,U=A.split(" "),q=W=>{W.target===g.current&&(w(),G.removeEventListener("animationend",q),G.removeEventListener("animationcancel",q),V.current===0&&W.type!=="animationcancel"&&G.classList.remove(...U))};G.classList.add(...U),G.addEventListener("animationend",q),G.addEventListener("animationcancel",q)},[]),z.useEffect(()=>{let G=g.current,U=()=>{G.removeEventListener("animationend",U),s?Kx(G,p,o):p()};_||(m?U():(V.current=1,G.className+=` ${O}`,G.addEventListener("animationend",U)))},[_]),rt.createElement(rt.Fragment,null,u)}}function Z0(r,e){return{content:WE(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:e}}function WE(r,e,n=!1){return z.isValidElement(r)&&!Ks(r.type)?z.cloneElement(r,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Wr(r)?r({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):r}function Xx({closeToast:r,theme:e,ariaLabel:n="close"}){return rt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:s=>{s.stopPropagation(),r(!0)},"aria-label":n},rt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},rt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Wx({delay:r,isRunning:e,closeToast:n,type:s="default",hide:o,className:u,controlledProgress:h,progress:m,rtl:p,isIn:g,theme:_}){let w=o||h&&m===0,A={animationDuration:`${r}ms`,animationPlayState:e?"running":"paused"};h&&(A.transform=`scaleX(${m})`);let O=Qs("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),V=Wr(u)?u({rtl:p,type:s,defaultClassName:O}):Qs(O,u),G={[h&&m>=1?"onTransitionEnd":"onAnimationEnd"]:h&&m<1?null:()=>{g&&n()}};return rt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":w},rt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${_} Toastify__progress-bar--${s}`}),rt.createElement("div",{role:"progressbar","aria-hidden":w?"true":"false","aria-label":"notification timer",className:V,style:A,...G}))}var Zx=1,ZE=()=>`${Zx++}`;function Jx(r,e,n){let s=1,o=0,u=[],h=[],m=e,p=new Map,g=new Set,_=W=>(g.add(W),()=>g.delete(W)),w=()=>{h=Array.from(p.values()),g.forEach(W=>W())},A=({containerId:W,toastId:$,updateId:ae})=>{let oe=W?W!==r:r!==1,pe=p.has($)&&ae==null;return oe||pe},O=(W,$)=>{p.forEach(ae=>{var oe;($==null||$===ae.props.toastId)&&((oe=ae.toggle)==null||oe.call(ae,W))})},V=W=>{var $,ae;(ae=($=W.props)==null?void 0:$.onClose)==null||ae.call($,W.removalReason),W.isActive=!1},G=W=>{if(W==null)p.forEach(V);else{let $=p.get(W);$&&V($)}w()},U=()=>{o-=u.length,u=[]},q=W=>{var $,ae;let{toastId:oe,updateId:pe}=W.props,I=pe==null;W.staleId&&p.delete(W.staleId),W.isActive=!0,p.set(oe,W),w(),n(Z0(W,I?"added":"updated")),I&&((ae=($=W.props).onOpen)==null||ae.call($))};return{id:r,props:m,observe:_,toggle:O,removeToast:G,toasts:p,clearQueue:U,buildToast:(W,$)=>{if(A($))return;let{toastId:ae,updateId:oe,data:pe,staleId:I,delay:S}=$,R=oe==null;R&&o++;let M={...m,style:m.toastStyle,key:s++,...Object.fromEntries(Object.entries($).filter(([D,C])=>C!=null)),toastId:ae,updateId:oe,data:pe,isIn:!1,className:Bm($.className||m.toastClassName),progressClassName:Bm($.progressClassName||m.progressClassName),autoClose:$.isLoading?!1:Qx($.autoClose,m.autoClose),closeToast(D){p.get(ae).removalReason=D,G(ae)},deleteToast(){let D=p.get(ae);if(D!=null){if(n(Z0(D,"removed")),p.delete(ae),o--,o<0&&(o=0),u.length>0){q(u.shift());return}w()}}};M.closeButton=m.closeButton,$.closeButton===!1||qm($.closeButton)?M.closeButton=$.closeButton:$.closeButton===!0&&(M.closeButton=qm(m.closeButton)?m.closeButton:!0);let P={content:W,props:M,staleId:I};m.limit&&m.limit>0&&o>m.limit&&R?u.push(P):gu(S)?setTimeout(()=>{q(P)},S):q(P)},setProps(W){m=W},setToggle:(W,$)=>{let ae=p.get(W);ae&&(ae.toggle=$)},isToastActive:W=>{var $;return($=p.get(W))==null?void 0:$.isActive},getSnapshot:()=>h}}var sn=new Map,iu=[],Hm=new Set,eS=r=>Hm.forEach(e=>e(r)),JE=()=>sn.size>0;function tS(){iu.forEach(r=>tT(r.content,r.options)),iu=[]}var nS=(r,{containerId:e})=>{var n;return(n=sn.get(e||1))==null?void 0:n.toasts.get(r)};function eT(r,e){var n;if(e)return!!((n=sn.get(e))!=null&&n.isToastActive(r));let s=!1;return sn.forEach(o=>{o.isToastActive(r)&&(s=!0)}),s}function rS(r){if(!JE()){iu=iu.filter(e=>r!=null&&e.options.toastId!==r);return}if(r==null||$x(r))sn.forEach(e=>{e.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let e=sn.get(r.containerId);e?e.removeToast(r.id):sn.forEach(n=>{n.removeToast(r.id)})}}var iS=(r={})=>{sn.forEach(e=>{e.props.limit&&(!r.containerId||e.id===r.containerId)&&e.clearQueue()})};function tT(r,e){qm(r)&&(JE()||iu.push({content:r,options:e}),sn.forEach(n=>{n.buildToast(r,e)}))}function sS(r){var e;(e=sn.get(r.containerId||1))==null||e.setToggle(r.id,r.fn)}function nT(r,e){sn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(r,e==null?void 0:e.id)})}function aS(r){let e=r.containerId||1;return{subscribe(n){let s=Jx(e,r,eS);sn.set(e,s);let o=s.observe(n);return tS(),()=>{o(),sn.delete(e)}},setProps(n){var s;(s=sn.get(e))==null||s.setProps(n)},getSnapshot(){var n;return(n=sn.get(e))==null?void 0:n.getSnapshot()}}}function oS(r){return Hm.add(r),()=>{Hm.delete(r)}}function lS(r){return r&&(Ks(r.toastId)||gu(r.toastId))?r.toastId:ZE()}function yu(r,e){return tT(r,e),e.toastId}function Bh(r,e){return{...e,type:e&&e.type||r,toastId:lS(e)}}function qh(r){return(e,n)=>yu(e,Bh(r,n))}function Se(r,e){return yu(r,Bh("default",e))}Se.loading=(r,e)=>yu(r,Bh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function uS(r,{pending:e,error:n,success:s},o){let u;e&&(u=Ks(e)?Se.loading(e,o):Se.loading(e.render,{...o,...e}));let h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(g,_,w)=>{if(_==null){Se.dismiss(u);return}let A={type:g,...h,...o,data:w},O=Ks(_)?{render:_}:_;return u?Se.update(u,{...A,...O}):Se(O.render,{...A,...O}),w},p=Wr(r)?r():r;return p.then(g=>m("success",s,g)).catch(g=>m("error",n,g)),p}Se.promise=uS;Se.success=qh("success");Se.info=qh("info");Se.error=qh("error");Se.warning=qh("warning");Se.warn=Se.warning;Se.dark=(r,e)=>yu(r,Bh("default",{theme:"dark",...e}));function cS(r){rS(r)}Se.dismiss=cS;Se.clearWaitingQueue=iS;Se.isActive=eT;Se.update=(r,e={})=>{let n=nS(r,e);if(n){let{props:s,content:o}=n,u={delay:100,...s,...e,toastId:e.toastId||r,updateId:ZE()};u.toastId!==r&&(u.staleId=r);let h=u.render||o;delete u.render,yu(h,u)}};Se.done=r=>{Se.update(r,{progress:1})};Se.onChange=oS;Se.play=r=>nT(!0,r);Se.pause=r=>nT(!1,r);function hS(r){var e;let{subscribe:n,getSnapshot:s,setProps:o}=z.useRef(aS(r)).current;o(r);let u=(e=z.useSyncExternalStore(n,s,s))==null?void 0:e.slice();function h(m){if(!u)return[];let p=new Map;return r.newestOnTop&&u.reverse(),u.forEach(g=>{let{position:_}=g.props;p.has(_)||p.set(_,[]),p.get(_).push(g)}),Array.from(p,g=>m(g[0],g[1]))}return{getToastToRender:h,isToastActive:eT,count:u==null?void 0:u.length}}function fS(r){let[e,n]=z.useState(!1),[s,o]=z.useState(!1),u=z.useRef(null),h=z.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:p,closeToast:g,onClick:_,closeOnClick:w}=r;sS({id:r.toastId,containerId:r.containerId,fn:n}),z.useEffect(()=>{if(r.pauseOnFocusLoss)return A(),()=>{O()}},[r.pauseOnFocusLoss]);function A(){document.hasFocus()||q(),window.addEventListener("focus",U),window.addEventListener("blur",q)}function O(){window.removeEventListener("focus",U),window.removeEventListener("blur",q)}function V(I){if(r.draggable===!0||r.draggable===I.pointerType){W();let S=u.current;h.canCloseOnClick=!0,h.canDrag=!0,S.style.transition="none",r.draggableDirection==="x"?(h.start=I.clientX,h.removalDistance=S.offsetWidth*(r.draggablePercent/100)):(h.start=I.clientY,h.removalDistance=S.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function G(I){let{top:S,bottom:R,left:M,right:P}=u.current.getBoundingClientRect();I.nativeEvent.type!=="touchend"&&r.pauseOnHover&&I.clientX>=M&&I.clientX<=P&&I.clientY>=S&&I.clientY<=R?q():U()}function U(){n(!0)}function q(){n(!1)}function W(){h.didMove=!1,document.addEventListener("pointermove",ae),document.addEventListener("pointerup",oe)}function $(){document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",oe)}function ae(I){let S=u.current;if(h.canDrag&&S){h.didMove=!0,e&&q(),r.draggableDirection==="x"?h.delta=I.clientX-h.start:h.delta=I.clientY-h.start,h.start!==I.clientX&&(h.canCloseOnClick=!1);let R=r.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`;S.style.transform=`translate3d(${R},0)`,S.style.opacity=`${1-Math.abs(h.delta/h.removalDistance)}`}}function oe(){$();let I=u.current;if(h.canDrag&&h.didMove&&I){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance){o(!0),r.closeToast(!0),r.collapseAll();return}I.style.transition="transform 0.2s, opacity 0.2s",I.style.removeProperty("transform"),I.style.removeProperty("opacity")}}let pe={onPointerDown:V,onPointerUp:G};return m&&p&&(pe.onMouseEnter=q,r.stacked||(pe.onMouseLeave=U)),w&&(pe.onClick=I=>{_&&_(I),h.canCloseOnClick&&g(!0)}),{playToast:U,pauseToast:q,isRunning:e,preventExitTransition:s,toastRef:u,eventHandlers:pe}}var dS=typeof window<"u"?z.useLayoutEffect:z.useEffect,Hh=({theme:r,type:e,isLoading:n,...s})=>rt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...s});function mS(r){return rt.createElement(Hh,{...r},rt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function pS(r){return rt.createElement(Hh,{...r},rt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function gS(r){return rt.createElement(Hh,{...r},rt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function yS(r){return rt.createElement(Hh,{...r},rt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function vS(){return rt.createElement("div",{className:"Toastify__spinner"})}var Fm={info:pS,warning:mS,success:gS,error:yS,spinner:vS},_S=r=>r in Fm;function ES({theme:r,type:e,isLoading:n,icon:s}){let o=null,u={theme:r,type:e};return s===!1||(Wr(s)?o=s({...u,isLoading:n}):z.isValidElement(s)?o=z.cloneElement(s,u):n?o=Fm.spinner():_S(e)&&(o=Fm[e](u))),o}var TS=r=>{let{isRunning:e,preventExitTransition:n,toastRef:s,eventHandlers:o,playToast:u}=fS(r),{closeButton:h,children:m,autoClose:p,onClick:g,type:_,hideProgressBar:w,closeToast:A,transition:O,position:V,className:G,style:U,progressClassName:q,updateId:W,role:$,progress:ae,rtl:oe,toastId:pe,deleteToast:I,isIn:S,isLoading:R,closeOnClick:M,theme:P,ariaLabel:D}=r,C=Qs("Toastify__toast",`Toastify__toast-theme--${P}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":oe},{"Toastify__toast--close-on-click":M}),De=Wr(G)?G({rtl:oe,position:V,type:_,defaultClassName:C}):Qs(C,G),Ie=ES(r),j=!!ae||!p,te={closeToast:A,type:_,theme:P},ce=null;return h===!1||(Wr(h)?ce=h(te):z.isValidElement(h)?ce=z.cloneElement(h,te):ce=Xx(te)),rt.createElement(O,{isIn:S,done:I,position:V,preventExitTransition:n,nodeRef:s,playToast:u},rt.createElement("div",{id:pe,tabIndex:0,onClick:g,"data-in":S,className:De,...o,style:U,ref:s,...S&&{role:$,"aria-label":D}},Ie!=null&&rt.createElement("div",{className:Qs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},Ie),WE(m,r,!e),ce,!r.customProgressBar&&rt.createElement(Wx,{...W&&!j?{key:`p-${W}`}:{},rtl:oe,theme:P,delay:p,isRunning:e,isIn:S,closeToast:A,hide:w,type:_,className:q,controlledProgress:j,progress:ae||0})))},bS=(r,e=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:e}),wS=Yx(bS("bounce",!0)),AS={position:"top-right",transition:wS,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function xS(r){let e={...AS,...r},n=r.stacked,[s,o]=z.useState(!0),u=z.useRef(null),{getToastToRender:h,isToastActive:m,count:p}=hS(e),{className:g,style:_,rtl:w,containerId:A,hotKeys:O}=e;function V(U){let q=Qs("Toastify__toast-container",`Toastify__toast-container--${U}`,{"Toastify__toast-container--rtl":w});return Wr(g)?g({position:U,rtl:w,defaultClassName:q}):Qs(q,Bm(g))}function G(){n&&(o(!0),Se.play())}return dS(()=>{var U;if(n){let q=u.current.querySelectorAll('[data-in="true"]'),W=12,$=(U=e.position)==null?void 0:U.includes("top"),ae=0,oe=0;Array.from(q).reverse().forEach((pe,I)=>{let S=pe;S.classList.add("Toastify__toast--stacked"),I>0&&(S.dataset.collapsed=`${s}`),S.dataset.pos||(S.dataset.pos=$?"top":"bot");let R=ae*(s?.2:1)+(s?0:W*I);S.style.setProperty("--y",`${$?R:R*-1}px`),S.style.setProperty("--g",`${W}`),S.style.setProperty("--s",`${1-(s?oe:0)}`),ae+=S.offsetHeight,oe+=.025})}},[s,p,n]),z.useEffect(()=>{function U(q){var W;let $=u.current;O(q)&&((W=$.querySelector('[tabIndex="0"]'))==null||W.focus(),o(!1),Se.pause()),q.key==="Escape"&&(document.activeElement===$||$!=null&&$.contains(document.activeElement))&&(o(!0),Se.play())}return document.addEventListener("keydown",U),()=>{document.removeEventListener("keydown",U)}},[O]),rt.createElement("section",{ref:u,className:"Toastify",id:A,onMouseEnter:()=>{n&&(o(!1),Se.pause())},onMouseLeave:G,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},h((U,q)=>{let W=q.length?{..._}:{..._,pointerEvents:"none"};return rt.createElement("div",{tabIndex:-1,className:V(U),"data-stacked":n,style:W,key:`c-${U}`},q.map(({content:$,props:ae})=>rt.createElement(TS,{...ae,stacked:n,collapseAll:G,isIn:m(ae.toastId,ae.containerId),key:`t-${ae.key}`},$)))}))}const SS=()=>{};var J0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},RS=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},iT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,_=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,O=g&63;p||(O=64,h||(A=64)),s.push(n[_],n[w],n[A],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(rT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):RS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new CS;const A=u<<2|m>>4;if(s.push(A),g!==64){const O=m<<4&240|g>>2;if(s.push(O),w!==64){const V=g<<6&192|w;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class CS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IS=function(r){const e=rT(r);return iT.encodeByteArray(e,!0)},Th=function(r){return IS(r).replace(/\./g,"")},sT=function(r){try{return iT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=()=>NS().__FIREBASE_DEFAULTS__,OS=()=>{if(typeof process>"u"||typeof J0>"u")return;const r=J0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},MS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&sT(r[1]);return e&&JSON.parse(e)},Fh=()=>{try{return SS()||DS()||OS()||MS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},aT=r=>{var e,n;return(n=(e=Fh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},kS=r=>{const e=aT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},oT=()=>{var r;return(r=Fh())===null||r===void 0?void 0:r.config},lT=r=>{var e;return(e=Fh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(r){return r.endsWith(".cloudworkstations.dev")}async function uT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Th(JSON.stringify(n)),Th(JSON.stringify(h)),""].join(".")}const Wl={};function LS(){const r={prod:[],emulator:[]};for(const e of Object.keys(Wl))Wl[e]?r.emulator.push(e):r.prod.push(e);return r}function US(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let e_=!1;function Gh(r,e){if(typeof window>"u"||typeof document>"u"||!vu(window.location.host)||Wl[r]===e||Wl[r]||e_)return;Wl[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=LS().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,O){A.setAttribute("width","24"),A.setAttribute("id",O),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{e_=!0,h()},A}function _(A,O){A.setAttribute("id",O),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=US(s),O=n("text"),V=document.getElementById(O)||document.createElement("span"),G=n("learnmore"),U=document.getElementById(G)||document.createElement("a"),q=n("preprendIcon"),W=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const $=A.element;m($),_(U,G);const ae=g();p(W,q),$.append(W,V,U,ae),document.body.appendChild($)}u?(V.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function zS(){var r;const e=(r=Fh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function HS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FS(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function GS(){return!zS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $S(){try{return typeof indexedDB=="object"}catch{return!1}}function QS(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="FirebaseError";class ri extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=KS,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_u.prototype.create)}}class _u{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?YS(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new ri(o,m,s)}}function YS(r,e){return r.replace(XS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const XS=/\{\$([^}]+)}/g;function WS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Zr(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(t_(u)&&t_(h)){if(!Zr(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function t_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Gl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function $l(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function ZS(r,e){const n=new JS(r,e);return n.subscribe.bind(n)}class JS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");eR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Sm),o.error===void 0&&(o.error=Sm),o.complete===void 0&&(o.complete=Sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Sm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(r){return r&&r._delegate?r._delegate:r}class Ys{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new VS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rR(e))try{this.getOrInitializeService({instanceIdentifier:Gs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gs){return this.instances.has(e)}getOptions(e=Gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:nR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Gs){return this.component?this.component.multipleInstances?e:Gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nR(r){return r===Gs?void 0:r}function rR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const sR={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},aR=Le.INFO,oR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},lR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=oR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dp{constructor(e){this.name=e,this._logLevel=aR,this._logHandler=lR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const uR=(r,e)=>e.some(n=>r instanceof n);let n_,r_;function cR(){return n_||(n_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hR(){return r_||(r_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cT=new WeakMap,Gm=new WeakMap,hT=new WeakMap,Rm=new WeakMap,Op=new WeakMap;function fR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(Fi(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&cT.set(n,r)}).catch(()=>{}),Op.set(e,r),e}function dR(r){if(Gm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Gm.set(r,e)}let $m={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Gm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||hT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fi(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function mR(r){$m=r($m)}function pR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Cm(this),e,...n);return hT.set(s,e.sort?e.sort():[e]),Fi(s)}:hR().includes(r)?function(...e){return r.apply(Cm(this),e),Fi(cT.get(this))}:function(...e){return Fi(r.apply(Cm(this),e))}}function gR(r){return typeof r=="function"?pR(r):(r instanceof IDBTransaction&&dR(r),uR(r,cR())?new Proxy(r,$m):r)}function Fi(r){if(r instanceof IDBRequest)return fR(r);if(Rm.has(r))return Rm.get(r);const e=gR(r);return e!==r&&(Rm.set(r,e),Op.set(e,r)),e}const Cm=r=>Op.get(r);function yR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=Fi(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Fi(h.result),p.oldVersion,p.newVersion,Fi(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const vR=["get","getKey","getAll","getAllKeys","count"],_R=["put","add","delete","clear"],Im=new Map;function i_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Im.get(e))return Im.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=_R.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||vR.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Im.set(e,u),u}mR(r=>({...r,get:(e,n,s)=>i_(e,n)||r.get(e,n,s),has:(e,n)=>!!i_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function TR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qm="@firebase/app",s_="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new Dp("@firebase/app"),bR="@firebase/app-compat",wR="@firebase/analytics-compat",AR="@firebase/analytics",xR="@firebase/app-check-compat",SR="@firebase/app-check",RR="@firebase/auth",CR="@firebase/auth-compat",IR="@firebase/database",NR="@firebase/data-connect",DR="@firebase/database-compat",OR="@firebase/functions",MR="@firebase/functions-compat",kR="@firebase/installations",VR="@firebase/installations-compat",PR="@firebase/messaging",LR="@firebase/messaging-compat",UR="@firebase/performance",jR="@firebase/performance-compat",zR="@firebase/remote-config",BR="@firebase/remote-config-compat",qR="@firebase/storage",HR="@firebase/storage-compat",FR="@firebase/firestore",GR="@firebase/ai",$R="@firebase/firestore-compat",QR="firebase",KR="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="[DEFAULT]",YR={[Qm]:"fire-core",[bR]:"fire-core-compat",[AR]:"fire-analytics",[wR]:"fire-analytics-compat",[SR]:"fire-app-check",[xR]:"fire-app-check-compat",[RR]:"fire-auth",[CR]:"fire-auth-compat",[IR]:"fire-rtdb",[NR]:"fire-data-connect",[DR]:"fire-rtdb-compat",[OR]:"fire-fn",[MR]:"fire-fn-compat",[kR]:"fire-iid",[VR]:"fire-iid-compat",[PR]:"fire-fcm",[LR]:"fire-fcm-compat",[UR]:"fire-perf",[jR]:"fire-perf-compat",[zR]:"fire-rc",[BR]:"fire-rc-compat",[qR]:"fire-gcs",[HR]:"fire-gcs-compat",[FR]:"fire-fst",[$R]:"fire-fst-compat",[GR]:"fire-vertex","fire-js":"fire-js",[QR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Map,XR=new Map,Ym=new Map;function a_(r,e){try{r.container.addComponent(e)}catch(n){Jr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ho(r){const e=r.name;if(Ym.has(e))return Jr.debug(`There were multiple attempts to register component ${e}.`),!1;Ym.set(e,r);for(const n of bh.values())a_(n,r);for(const n of XR.values())a_(n,r);return!0}function Mp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Pn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new _u("app","Firebase",WR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=KR;function fT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Km,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Gi.create("bad-app-name",{appName:String(o)});if(n||(n=oT()),!n)throw Gi.create("no-options");const u=bh.get(o);if(u){if(Zr(n,u.options)&&Zr(s,u.config))return u;throw Gi.create("duplicate-app",{appName:o})}const h=new iR(o);for(const p of Ym.values())h.addComponent(p);const m=new ZR(n,s,h);return bh.set(o,m),m}function dT(r=Km){const e=bh.get(r);if(!e&&r===Km&&oT())return fT();if(!e)throw Gi.create("no-app",{appName:r});return e}function $i(r,e,n){var s;let o=(s=YR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jr.warn(m.join(" "));return}ho(new Ys(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="firebase-heartbeat-database",e2=1,su="firebase-heartbeat-store";let Nm=null;function mT(){return Nm||(Nm=yR(JR,e2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(su)}catch(n){console.warn(n)}}}}).catch(r=>{throw Gi.create("idb-open",{originalErrorMessage:r.message})})),Nm}async function t2(r){try{const n=(await mT()).transaction(su),s=await n.objectStore(su).get(pT(r));return await n.done,s}catch(e){if(e instanceof ri)Jr.warn(e.message);else{const n=Gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jr.warn(n.message)}}}async function o_(r,e){try{const s=(await mT()).transaction(su,"readwrite");await s.objectStore(su).put(e,pT(r)),await s.done}catch(n){if(n instanceof ri)Jr.warn(n.message);else{const s=Gi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jr.warn(s.message)}}}function pT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=1024,r2=30;class i2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new a2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=l_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>r2){const h=o2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Jr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=l_(),{heartbeatsToSend:s,unsentEntries:o}=s2(this._heartbeatsCache.heartbeats),u=Th(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Jr.warn(n),""}}}function l_(){return new Date().toISOString().substring(0,10)}function s2(r,e=n2){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),u_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),u_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class a2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $S()?QS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await t2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return o_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return o_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function u_(r){return Th(JSON.stringify({version:2,heartbeats:r})).length}function o2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(r){ho(new Ys("platform-logger",e=>new ER(e),"PRIVATE")),ho(new Ys("heartbeat",e=>new i2(e),"PRIVATE")),$i(Qm,s_,r),$i(Qm,s_,"esm2017"),$i("fire-js","")}l2("");function kp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function gT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u2=gT,yT=new _u("auth","Firebase",gT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Dp("@firebase/auth");function c2(r,...e){wh.logLevel<=Le.WARN&&wh.warn(`Auth (${So}): ${r}`,...e)}function uh(r,...e){wh.logLevel<=Le.ERROR&&wh.error(`Auth (${So}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(r,...e){throw Vp(r,...e)}function pr(r,...e){return Vp(r,...e)}function vT(r,e,n){const s=Object.assign(Object.assign({},u2()),{[e]:n});return new _u("auth","Firebase",s).create(e,{appName:r.name})}function Yr(r){return vT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return yT.create(r,...e)}function be(r,e,...n){if(!r)throw Vp(e,...n)}function $r(r){const e="INTERNAL ASSERTION FAILED: "+r;throw uh(e),new Error(e)}function ei(r,e){r||$r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function h2(){return c_()==="http:"||c_()==="https:"}function c_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h2()||qS()||"connection"in navigator)?navigator.onLine:!0}function d2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ei(n>e,"Short delay should be less than long delay!"),this.isMobile=jS()||HS()}get(){return f2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(r,e){ei(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],g2=new Tu(3e4,6e4);function ss(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ii(r,e,n,s,o={}){return ET(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Eu(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return BS()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&vu(r.emulatorConfig.host)&&(g.credentials="include"),_T.fetch()(await TT(r,r.config.apiHost,n,m),g)})}async function ET(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},m2),e);try{const o=new v2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw eh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw eh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw eh(r,"user-disabled",h);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw vT(r,_,g);Qn(r,_)}}catch(o){if(o instanceof ri)throw o;Qn(r,"network-request-failed",{message:String(o)})}}async function bu(r,e,n,s,o={}){const u=await ii(r,e,n,s,o);return"mfaPendingCredential"in u&&Qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function TT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Pp(r.config,o):`${r.config.apiScheme}://${o}`;return p2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function y2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class v2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(pr(this.auth,"network-request-failed")),g2.get())})}}function eh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=pr(r,e,s);return o.customData._tokenResponse=n,o}function h_(r){return r!==void 0&&r.enterprise!==void 0}class _2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return y2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function E2(r,e){return ii(r,"GET","/v2/recaptchaConfig",ss(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(r,e){return ii(r,"POST","/v1/accounts:delete",e)}async function Ah(r,e){return ii(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function b2(r,e=!1){const n=wt(r),s=await n.getIdToken(e),o=Lp(s);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Zl(Dm(o.auth_time)),issuedAtTime:Zl(Dm(o.iat)),expirationTime:Zl(Dm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Dm(r){return Number(r)*1e3}function Lp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=sT(n);return o?JSON.parse(o):(uh("Failed to decode base64 JWT payload"),null)}catch(o){return uh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function f_(r){const e=Lp(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ri&&w2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function w2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await fo(r,Ah(n,{idToken:s}));be(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?bT(u.providerUserInfo):[],m=S2(r.providerData,h),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),_=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Wm(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(r,w)}async function x2(r){const e=wt(r);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function S2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function bT(r){return r.map(e=>{var{providerId:n}=e,s=kp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(r,e){const n=await ET(r,{},async()=>{const s=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await TT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",_T.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function C2(r,e){return ii(r,"POST","/v2/accounts:revokeToken",ss(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=f_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await R2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new oo;return s&&(be(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Hn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=kp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new A2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Wm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await fo(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return b2(this,e)}reload(){return x2(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await xh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Yr(this.auth));const e=await this.getIdToken();return await fo(this,T2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,h,m,p,g,_;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,O=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,V=(h=n.photoURL)!==null&&h!==void 0?h:void 0,G=(m=n.tenantId)!==null&&m!==void 0?m:void 0,U=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,q=(g=n.createdAt)!==null&&g!==void 0?g:void 0,W=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:$,emailVerified:ae,isAnonymous:oe,providerData:pe,stsTokenManager:I}=n;be($&&I,e,"internal-error");const S=oo.fromJSON(this.name,I);be(typeof $=="string",e,"internal-error"),ki(w,e.name),ki(A,e.name),be(typeof ae=="boolean",e,"internal-error"),be(typeof oe=="boolean",e,"internal-error"),ki(O,e.name),ki(V,e.name),ki(G,e.name),ki(U,e.name),ki(q,e.name),ki(W,e.name);const R=new Hn({uid:$,auth:e,email:A,emailVerified:ae,displayName:w,isAnonymous:oe,photoURL:V,phoneNumber:O,tenantId:G,stsTokenManager:S,createdAt:q,lastLoginAt:W});return pe&&Array.isArray(pe)&&(R.providerData=pe.map(M=>Object.assign({},M))),U&&(R._redirectEventId=U),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new oo;o.updateFromServerResponse(n);const u=new Hn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await xh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?bT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new oo;m.updateFromIdToken(s);const p=new Hn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=new Map;function Qr(r){ei(r instanceof Function,"Expected a class definition");let e=d_.get(r);return e?(ei(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,d_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wT.type="NONE";const m_=wT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(r,e,n){return`firebase:${r}:${e}:${n}`}class lo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ch(this.userKey,o.apiKey,u),this.fullPersistenceKey=ch("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ah(this.auth,{idToken:e}).catch(()=>{});return n?Hn._fromGetAccountInfoResponse(this.auth,n,e):null}return Hn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new lo(Qr(m_),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Qr(m_);const h=ch(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const _=await g._get(h);if(_){let w;if(typeof _=="string"){const A=await Ah(e,{idToken:_}).catch(()=>{});if(!A)break;w=await Hn._fromGetAccountInfoResponse(e,A,_)}else w=Hn._fromJSON(e,_);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new lo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new lo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IT(e))return"Blackberry";if(NT(e))return"Webos";if(xT(e))return"Safari";if((e.includes("chrome/")||ST(e))&&!e.includes("edge/"))return"Chrome";if(CT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function AT(r=Jt()){return/firefox\//i.test(r)}function xT(r=Jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ST(r=Jt()){return/crios\//i.test(r)}function RT(r=Jt()){return/iemobile/i.test(r)}function CT(r=Jt()){return/android/i.test(r)}function IT(r=Jt()){return/blackberry/i.test(r)}function NT(r=Jt()){return/webos/i.test(r)}function Up(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function I2(r=Jt()){var e;return Up(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function N2(){return FS()&&document.documentMode===10}function DT(r=Jt()){return Up(r)||CT(r)||NT(r)||IT(r)||/windows phone/i.test(r)||RT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(r,e=[]){let n;switch(r){case"Browser":n=p_(Jt());break;case"Worker":n=`${p_(Jt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(r,e={}){return ii(r,"GET","/v2/passwordPolicy",ss(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=6;class k2{constructor(e){var n,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:M2,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g_(this),this.idTokenSubscription=new g_(this),this.beforeStateQueue=new D2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ah(this,{idToken:e}),s=await Hn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Pn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=d2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(Yr(this));const n=e?wt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(Yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await O2(this),n=new k2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _u("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await C2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qr(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[Qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&c2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ta(r){return wt(r)}class g_{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZS(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P2(r){$h=r}function MT(r){return $h.loadJS(r)}function L2(){return $h.recaptchaEnterpriseScript}function U2(){return $h.gapiScript}function j2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class z2{constructor(){this.enterprise=new B2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class B2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const q2="recaptcha-enterprise",kT="NO_RECAPTCHA";class H2{constructor(e){this.type=q2,this.auth=ta(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{E2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new _2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;h_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(kT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new z2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&h_(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=L2();p.length!==0&&(p+=m),MT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function y_(r,e,n,s=!1,o=!1){const u=new H2(r);let h;if(o)h=kT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Zm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await y_(r,e,n,n==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await y_(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(r,e){const n=Mp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Zr(u,e??{}))return o;Qn(o,"already-initialized")}return n.initialize({options:e})}function G2(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Qr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function $2(r,e,n){const s=ta(r);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=VT(e),{host:h,port:m}=Q2(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},_=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(Zr(g,s.config.emulator)&&Zr(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,vu(h)?(Gh("Auth",!0),uT(`${u}//${h}${p}`)):K2()}function VT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Q2(r){const e=VT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:v_(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:v_(h)}}}function v_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function K2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,n){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}async function Y2(r,e){return ii(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(r,e){return bu(r,"POST","/v1/accounts:signInWithPassword",ss(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(r,e){return bu(r,"POST","/v1/accounts:signInWithEmailLink",ss(r,e))}async function Z2(r,e){return bu(r,"POST","/v1/accounts:signInWithEmailLink",ss(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends jp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new au(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zm(e,n,"signInWithPassword",X2);case"emailLink":return W2(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zm(e,s,"signUpPassword",Y2);case"emailLink":return Z2(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(r,e){return bu(r,"POST","/v1/accounts:signInWithIdp",ss(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="http://localhost";class Xs extends jp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=kp(n,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Xs(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,uo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:J2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tC(r){const e=Gl($l(r)).link,n=e?Gl($l(e)).deep_link_id:null,s=Gl($l(r)).deep_link_id;return(s?Gl($l(s)).link:null)||s||n||e||r}class zp{constructor(e){var n,s,o,u,h,m;const p=Gl($l(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,_=(s=p.oobCode)!==null&&s!==void 0?s:null,w=eC((o=p.mode)!==null&&o!==void 0?o:null);be(g&&_&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=_,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=tC(e);try{return new zp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=zp.parseLink(n);return be(s,"argument-error"),au._fromEmailAndCode(e,s.code,s.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends PT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends wu{constructor(){super("facebook.com")}static credential(e){return Xs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xs._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ui.credential(n,s)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends wu{constructor(){super("github.com")}static credential(e){return Xs._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.GITHUB_SIGN_IN_METHOD="github.com";ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends wu{constructor(){super("twitter.com")}static credential(e,n){return Xs._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return zi.credential(n,s)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(r,e){return bu(r,"POST","/v1/accounts:signUp",ss(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Hn._fromIdTokenResponse(e,s,o),h=__(s);return new Ws({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=__(s);return new Ws({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function __(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends ri{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Sh(e,n,s,o)}}function LT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(r,u,e,s):u})}async function rC(r,e,n=!1){const s=await fo(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ws._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(r,e,n=!1){const{auth:s}=r;if(Pn(s.app))return Promise.reject(Yr(s));const o="reauthenticate";try{const u=await fo(r,LT(s,o,e,r),n);be(u.idToken,s,"internal-error");const h=Lp(u.idToken);be(h,s,"internal-error");const{sub:m}=h;return be(r.uid===m,s,"user-mismatch"),Ws._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UT(r,e,n=!1){if(Pn(r.app))return Promise.reject(Yr(r));const s="signIn",o=await LT(r,s,e),u=await Ws._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function sC(r,e){return UT(ta(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jT(r){const e=ta(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aC(r,e,n){if(Pn(r.app))return Promise.reject(Yr(r));const s=ta(r),h=await Zm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&jT(r),p}),m=await Ws._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function oC(r,e,n){return Pn(r.app)?Promise.reject(Yr(r)):sC(wt(r),Ro.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&jT(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(r,e){return ii(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=wt(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await fo(s,lC(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function cC(r,e,n,s){return wt(r).onIdTokenChanged(e,n,s)}function hC(r,e,n){return wt(r).beforeAuthStateChanged(e,n)}function fC(r,e,n,s){return wt(r).onAuthStateChanged(e,n,s)}function dC(r){return wt(r).signOut()}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=1e3,pC=10;class BT extends zT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);N2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,pC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},mC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BT.type="LOCAL";const gC=BT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT extends zT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qT.type="SESSION";const HT=qT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Qh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await yC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Bp("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function _C(r){gr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function EC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function bC(){return FT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="firebaseLocalStorageDb",wC=1,Ch="firebaseLocalStorage",$T="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kh(r,e){return r.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function AC(){const r=indexedDB.deleteDatabase(GT);return new Au(r).toPromise()}function Jm(){const r=indexedDB.open(GT,wC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ch,{keyPath:$T})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ch)?e(s):(s.close(),await AC(),e(await Jm()))})})}async function E_(r,e,n){const s=Kh(r,!0).put({[$T]:e,value:n});return new Au(s).toPromise()}async function xC(r,e){const n=Kh(r,!1).get(e),s=await new Au(n).toPromise();return s===void 0?null:s.value}function T_(r,e){const n=Kh(r,!0).delete(e);return new Au(n).toPromise()}const SC=800,RC=3;class QT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>RC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(bC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await EC(),!this.activeServiceWorker)return;this.sender=new vC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await E_(e,Rh,"1"),await T_(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>E_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>xC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>T_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Kh(o,!1).getAll();return new Au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QT.type="LOCAL";const CC=QT;new Tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(r,e){return e?Qr(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends jp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NC(r){return UT(r.auth,new qp(r),r.bypassAuthState)}function DC(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),iC(n,new qp(r),r.bypassAuthState)}async function OC(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),rC(n,new qp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NC;case"linkViaPopup":case"linkViaRedirect":return OC;case"reauthViaPopup":case"reauthViaRedirect":return DC;default:Qn(this.auth,"internal-error")}}resolve(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=new Tu(2e3,1e4);class ro extends KT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ei(this.filter.length===1,"Popup operations only handle one event");const e=Bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MC.get())};e()}}ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="pendingRedirect",hh=new Map;class VC extends KT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const s=await PC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PC(r,e){const n=jC(e),s=UC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function LC(r,e){hh.set(r._key(),e)}function UC(r){return Qr(r._redirectPersistence)}function jC(r){return ch(kC,r.config.apiKey,r.name)}async function zC(r,e,n=!1){if(Pn(r.app))return Promise.reject(Yr(r));const s=ta(r),o=IC(s,e),h=await new VC(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=10*60*1e3;class qC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!YT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(pr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BC&&this.cachedEventUids.clear(),this.cachedEventUids.has(b_(e))}saveEventToCache(e){this.cachedEventUids.add(b_(e)),this.lastProcessedEventTime=Date.now()}}function b_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function YT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(r,e={}){return ii(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$C=/^https?/;async function QC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await FC(r);for(const n of e)try{if(KC(n))return}catch{}Qn(r,"unauthorized-domain")}function KC(r){const e=Xm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!$C.test(n))return!1;if(GC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new Tu(3e4,6e4);function w_(){const r=gr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function XC(r){return new Promise((e,n)=>{var s,o,u;function h(){w_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w_(),n(pr(r,"network-request-failed"))},timeout:YC.get()})}if(!((o=(s=gr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=gr().gapi)===null||u===void 0)&&u.load)h();else{const m=j2("iframefcb");return gr()[m]=()=>{gapi.load?h():n(pr(r,"network-request-failed"))},MT(`${U2()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw fh=null,e})}let fh=null;function WC(r){return fh=fh||XC(r),fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new Tu(5e3,15e3),JC="__/auth/iframe",eI="emulator/auth/iframe",tI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rI(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Pp(e,eI):`https://${r.config.authDomain}/${JC}`,s={apiKey:e.apiKey,appName:r.name,v:So},o=nI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Eu(s).slice(1)}`}async function iI(r){const e=await WC(r),n=gr().gapi;return be(n,r,"internal-error"),e.open({where:document.body,url:rI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=pr(r,"network-request-failed"),m=gr().setTimeout(()=>{u(h)},ZC.get());function p(){gr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aI=500,oI=600,lI="_blank",uI="http://localhost";class A_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cI(r,e,n,s=aI,o=oI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},sI),{width:s.toString(),height:o.toString(),top:u,left:h}),g=Jt().toLowerCase();n&&(m=ST(g)?lI:n),AT(g)&&(e=e||uI,p.scrollbars="yes");const _=Object.entries(p).reduce((A,[O,V])=>`${A}${O}=${V},`,"");if(I2(g)&&m!=="_self")return hI(e||"",m),new A_(null);const w=window.open(e||"",m,_);be(w,r,"popup-blocked");try{w.focus()}catch{}return new A_(w)}function hI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="__/auth/handler",dI="emulator/auth/handler",mI=encodeURIComponent("fac");async function x_(r,e,n,s,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:So,eventId:o};if(e instanceof PT){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",WS(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))h[_]=w}if(e instanceof wu){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(h.scopes=_.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await r._getAppCheckToken(),g=p?`#${mI}=${encodeURIComponent(p)}`:"";return`${pI(r)}?${Eu(m).slice(1)}${g}`}function pI({config:r}){return r.emulator?Pp(r,dI):`https://${r.authDomain}/${fI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class gI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HT,this._completeRedirectFn=zC,this._overrideRedirectResult=LC}async _openPopup(e,n,s,o){var u;ei((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await x_(e,n,s,Xm(),o);return cI(e,h,Bp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await x_(e,n,s,Xm(),o);return _C(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ei(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await iI(e),s=new qC(e);return n.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Om];h!==void 0&&n(!!h),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DT()||xT()||Up()}}const yI=gI;var S_="@firebase/auth",R_="1.10.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EI(r){ho(new Ys("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;be(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OT(r)},g=new V2(s,o,u,p);return G2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ho(new Ys("auth-internal",e=>{const n=ta(e.getProvider("auth").getImmediate());return(s=>new vI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(S_,R_,_I(r)),$i(S_,R_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=5*60,bI=lT("authIdTokenMaxAge")||TI;let C_=null;const wI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>bI)return;const o=n==null?void 0:n.token;C_!==o&&(C_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function AI(r=dT()){const e=Mp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=F2(r,{popupRedirectResolver:yI,persistence:[CC,gC,HT]}),s=lT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=wI(u.toString());hC(n,h,()=>h(n.currentUser)),cC(n,m=>h(m))}}const o=aT("auth");return o?$2(n,`http://${o}`):Gh("Auth",!1),n}function xI(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}P2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=pr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",xI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EI("Browser");var SI="firebase",RI="11.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i(SI,RI,"app");var I_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qi,XT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function R(){}R.prototype=S.prototype,I.D=S.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(M,P,D){for(var C=Array(arguments.length-2),De=2;De<arguments.length;De++)C[De-2]=arguments[De];return S.prototype[P].apply(M,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,R){R||(R=0);var M=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)M[P]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(P=0;16>P;++P)M[P]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=I.g[0],R=I.g[1],P=I.g[2];var D=I.g[3],C=S+(D^R&(P^D))+M[0]+3614090360&4294967295;S=R+(C<<7&4294967295|C>>>25),C=D+(P^S&(R^P))+M[1]+3905402710&4294967295,D=S+(C<<12&4294967295|C>>>20),C=P+(R^D&(S^R))+M[2]+606105819&4294967295,P=D+(C<<17&4294967295|C>>>15),C=R+(S^P&(D^S))+M[3]+3250441966&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(D^R&(P^D))+M[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=D+(P^S&(R^P))+M[5]+1200080426&4294967295,D=S+(C<<12&4294967295|C>>>20),C=P+(R^D&(S^R))+M[6]+2821735955&4294967295,P=D+(C<<17&4294967295|C>>>15),C=R+(S^P&(D^S))+M[7]+4249261313&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(D^R&(P^D))+M[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=D+(P^S&(R^P))+M[9]+2336552879&4294967295,D=S+(C<<12&4294967295|C>>>20),C=P+(R^D&(S^R))+M[10]+4294925233&4294967295,P=D+(C<<17&4294967295|C>>>15),C=R+(S^P&(D^S))+M[11]+2304563134&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(D^R&(P^D))+M[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=D+(P^S&(R^P))+M[13]+4254626195&4294967295,D=S+(C<<12&4294967295|C>>>20),C=P+(R^D&(S^R))+M[14]+2792965006&4294967295,P=D+(C<<17&4294967295|C>>>15),C=R+(S^P&(D^S))+M[15]+1236535329&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(P^D&(R^P))+M[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=D+(R^P&(S^R))+M[6]+3225465664&4294967295,D=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(D^S))+M[11]+643717713&4294967295,P=D+(C<<14&4294967295|C>>>18),C=R+(D^S&(P^D))+M[0]+3921069994&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(P^D&(R^P))+M[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=D+(R^P&(S^R))+M[10]+38016083&4294967295,D=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(D^S))+M[15]+3634488961&4294967295,P=D+(C<<14&4294967295|C>>>18),C=R+(D^S&(P^D))+M[4]+3889429448&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(P^D&(R^P))+M[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=D+(R^P&(S^R))+M[14]+3275163606&4294967295,D=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(D^S))+M[3]+4107603335&4294967295,P=D+(C<<14&4294967295|C>>>18),C=R+(D^S&(P^D))+M[8]+1163531501&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(P^D&(R^P))+M[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=D+(R^P&(S^R))+M[2]+4243563512&4294967295,D=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(D^S))+M[7]+1735328473&4294967295,P=D+(C<<14&4294967295|C>>>18),C=R+(D^S&(P^D))+M[12]+2368359562&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(R^P^D)+M[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=D+(S^R^P)+M[8]+2272392833&4294967295,D=S+(C<<11&4294967295|C>>>21),C=P+(D^S^R)+M[11]+1839030562&4294967295,P=D+(C<<16&4294967295|C>>>16),C=R+(P^D^S)+M[14]+4259657740&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(R^P^D)+M[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=D+(S^R^P)+M[4]+1272893353&4294967295,D=S+(C<<11&4294967295|C>>>21),C=P+(D^S^R)+M[7]+4139469664&4294967295,P=D+(C<<16&4294967295|C>>>16),C=R+(P^D^S)+M[10]+3200236656&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(R^P^D)+M[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=D+(S^R^P)+M[0]+3936430074&4294967295,D=S+(C<<11&4294967295|C>>>21),C=P+(D^S^R)+M[3]+3572445317&4294967295,P=D+(C<<16&4294967295|C>>>16),C=R+(P^D^S)+M[6]+76029189&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(R^P^D)+M[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=D+(S^R^P)+M[12]+3873151461&4294967295,D=S+(C<<11&4294967295|C>>>21),C=P+(D^S^R)+M[15]+530742520&4294967295,P=D+(C<<16&4294967295|C>>>16),C=R+(P^D^S)+M[2]+3299628645&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(P^(R|~D))+M[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=D+(R^(S|~P))+M[7]+1126891415&4294967295,D=S+(C<<10&4294967295|C>>>22),C=P+(S^(D|~R))+M[14]+2878612391&4294967295,P=D+(C<<15&4294967295|C>>>17),C=R+(D^(P|~S))+M[5]+4237533241&4294967295,R=P+(C<<21&4294967295|C>>>11),C=S+(P^(R|~D))+M[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=D+(R^(S|~P))+M[3]+2399980690&4294967295,D=S+(C<<10&4294967295|C>>>22),C=P+(S^(D|~R))+M[10]+4293915773&4294967295,P=D+(C<<15&4294967295|C>>>17),C=R+(D^(P|~S))+M[1]+2240044497&4294967295,R=P+(C<<21&4294967295|C>>>11),C=S+(P^(R|~D))+M[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=D+(R^(S|~P))+M[15]+4264355552&4294967295,D=S+(C<<10&4294967295|C>>>22),C=P+(S^(D|~R))+M[6]+2734768916&4294967295,P=D+(C<<15&4294967295|C>>>17),C=R+(D^(P|~S))+M[13]+1309151649&4294967295,R=P+(C<<21&4294967295|C>>>11),C=S+(P^(R|~D))+M[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=D+(R^(S|~P))+M[11]+3174756917&4294967295,D=S+(C<<10&4294967295|C>>>22),C=P+(S^(D|~R))+M[2]+718787259&4294967295,P=D+(C<<15&4294967295|C>>>17),C=R+(D^(P|~S))+M[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+D&4294967295}s.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var R=S-this.blockSize,M=this.B,P=this.h,D=0;D<S;){if(P==0)for(;D<=R;)o(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<S;)if(M[P++]=I.charCodeAt(D++),P==this.blockSize){o(this,M),P=0;break}}else for(;D<S;)if(M[P++]=I[D++],P==this.blockSize){o(this,M),P=0;break}}this.h=P,this.o+=S},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var R=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=R&255,R/=256;for(this.u(I),I=Array(16),S=R=0;4>S;++S)for(var M=0;32>M;M+=8)I[R++]=this.g[S]>>>M&255;return I};function u(I,S){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=S(I)}function h(I,S){this.h=S;for(var R=[],M=!0,P=I.length-1;0<=P;P--){var D=I[P]|0;M&&D==S||(R[P]=D,M=!1)}this.g=R}var m={};function p(I){return-128<=I&&128>I?u(I,function(S){return new h([S|0],0>S?-1:0)}):new h([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return w;if(0>I)return U(g(-I));for(var S=[],R=1,M=0;I>=R;M++)S[M]=I/R|0,R*=4294967296;return new h(S,0)}function _(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return U(_(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(S,8)),M=w,P=0;P<I.length;P+=8){var D=Math.min(8,I.length-P),C=parseInt(I.substring(P,P+D),S);8>D?(D=g(Math.pow(S,D)),M=M.j(D).add(g(C))):(M=M.j(R),M=M.add(g(C)))}return M}var w=p(0),A=p(1),O=p(16777216);r=h.prototype,r.m=function(){if(G(this))return-U(this).m();for(var I=0,S=1,R=0;R<this.g.length;R++){var M=this.i(R);I+=(0<=M?M:4294967296+M)*S,S*=4294967296}return I},r.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(V(this))return"0";if(G(this))return"-"+U(this).toString(I);for(var S=g(Math.pow(I,6)),R=this,M="";;){var P=ae(R,S).g;R=q(R,P.j(S));var D=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=P,V(R))return D+M;for(;6>D.length;)D="0"+D;M=D+M}},r.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function V(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function G(I){return I.h==-1}r.l=function(I){return I=q(this,I),G(I)?-1:V(I)?0:1};function U(I){for(var S=I.g.length,R=[],M=0;M<S;M++)R[M]=~I.g[M];return new h(R,~I.h).add(A)}r.abs=function(){return G(this)?U(this):this},r.add=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],M=0,P=0;P<=S;P++){var D=M+(this.i(P)&65535)+(I.i(P)&65535),C=(D>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);M=C>>>16,D&=65535,C&=65535,R[P]=C<<16|D}return new h(R,R[R.length-1]&-2147483648?-1:0)};function q(I,S){return I.add(U(S))}r.j=function(I){if(V(this)||V(I))return w;if(G(this))return G(I)?U(this).j(U(I)):U(U(this).j(I));if(G(I))return U(this.j(U(I)));if(0>this.l(O)&&0>I.l(O))return g(this.m()*I.m());for(var S=this.g.length+I.g.length,R=[],M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<I.g.length;P++){var D=this.i(M)>>>16,C=this.i(M)&65535,De=I.i(P)>>>16,Ie=I.i(P)&65535;R[2*M+2*P]+=C*Ie,W(R,2*M+2*P),R[2*M+2*P+1]+=D*Ie,W(R,2*M+2*P+1),R[2*M+2*P+1]+=C*De,W(R,2*M+2*P+1),R[2*M+2*P+2]+=D*De,W(R,2*M+2*P+2)}for(M=0;M<S;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=S;M<2*S;M++)R[M]=0;return new h(R,0)};function W(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function $(I,S){this.g=I,this.h=S}function ae(I,S){if(V(S))throw Error("division by zero");if(V(I))return new $(w,w);if(G(I))return S=ae(U(I),S),new $(U(S.g),U(S.h));if(G(S))return S=ae(I,U(S)),new $(U(S.g),S.h);if(30<I.g.length){if(G(I)||G(S))throw Error("slowDivide_ only works with positive integers.");for(var R=A,M=S;0>=M.l(I);)R=oe(R),M=oe(M);var P=pe(R,1),D=pe(M,1);for(M=pe(M,2),R=pe(R,2);!V(M);){var C=D.add(M);0>=C.l(I)&&(P=P.add(R),D=C),M=pe(M,1),R=pe(R,1)}return S=q(I,P.j(S)),new $(P,S)}for(P=w;0<=I.l(S);){for(R=Math.max(1,Math.floor(I.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),D=g(R),C=D.j(S);G(C)||0<C.l(I);)R-=M,D=g(R),C=D.j(S);V(D)&&(D=A),P=P.add(D),I=q(I,C)}return new $(P,I)}r.A=function(I){return ae(this,I).h},r.and=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)&I.i(M);return new h(R,this.h&I.h)},r.or=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)|I.i(M);return new h(R,this.h|I.h)},r.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)^I.i(M);return new h(R,this.h^I.h)};function oe(I){for(var S=I.g.length+1,R=[],M=0;M<S;M++)R[M]=I.i(M)<<1|I.i(M-1)>>>31;return new h(R,I.h)}function pe(I,S){var R=S>>5;S%=32;for(var M=I.g.length-R,P=[],D=0;D<M;D++)P[D]=0<S?I.i(D+R)>>>S|I.i(D+R+1)<<32-S:I.i(D+R);return new h(P,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,XT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,Qi=h}).apply(typeof I_<"u"?I_:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WT,Ql,ZT,dh,ep,JT,eb,tb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var x=0;x<c.length-1;x++){var H=c[x];if(!(H in v))break e;v=v[H]}c=c[c.length-1],x=v[c],y=y(x),y!=x&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,x=!1,H={next:function(){if(!x&&v<c.length){var Z=v++;return{value:y(Z,c[Z]),done:!1}}return x=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function w(c,y,v){if(!c)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,x),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function A(c,y,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,A.apply(null,arguments)}function O(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var x=v.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function V(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(x,H,Z){for(var ue=Array(arguments.length-2),je=2;je<arguments.length;je++)ue[je-2]=arguments[je];return y.prototype[H].apply(x,ue)}}function G(c){const y=c.length;if(0<y){const v=Array(y);for(let x=0;x<y;x++)v[x]=c[x];return v}return[]}function U(c,y){for(let v=1;v<arguments.length;v++){const x=arguments[v];if(p(x)){const H=c.length||0,Z=x.length||0;c.length=H+Z;for(let ue=0;ue<Z;ue++)c[H+ue]=x[ue]}else c.push(x)}}class q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function W(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ae(c){return ae[" "](c),c}ae[" "]=function(){};var oe=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function pe(c,y,v){for(const x in c)y.call(v,c[x],x,c)}function I(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function S(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let v,x;for(let H=1;H<arguments.length;H++){x=arguments[H];for(v in x)c[v]=x[v];for(let Z=0;Z<R.length;Z++)v=R[Z],Object.prototype.hasOwnProperty.call(x,v)&&(c[v]=x[v])}}function P(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function D(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Ae;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class De{constructor(){this.h=this.g=null}add(y,v){const x=Ie.get();x.set(y,v),this.h?this.h.next=x:this.g=x,this.h=x}}var Ie=new q(()=>new j,c=>c.reset());class j{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let te,ce=!1,Ae=new De,k=()=>{const c=m.Promise.resolve(void 0);te=()=>{c.then(ee)}};var ee=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){D(v)}var y=Ie;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ce=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function Ee(c,y){if(K.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(oe){e:{try{ae(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ge[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ee.aa.h.call(this)}}V(Ee,K);var ge={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),tt=0;function Wn(c,y,v,x,H){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!x,this.ha=H,this.key=++tt,this.da=this.fa=!1}function si(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Er(c){this.src=c,this.g={},this.h=0}Er.prototype.add=function(c,y,v,x,H){var Z=c.toString();c=this.g[Z],c||(c=this.g[Z]=[],this.h++);var ue=us(c,y,x,H);return-1<ue?(y=c[ue],v||(y.fa=!1)):(y=new Wn(y,this.src,Z,!!x,H),y.fa=v,c.push(y)),y};function ls(c,y){var v=y.type;if(v in c.g){var x=c.g[v],H=Array.prototype.indexOf.call(x,y,void 0),Z;(Z=0<=H)&&Array.prototype.splice.call(x,H,1),Z&&(si(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function us(c,y,v,x){for(var H=0;H<c.length;++H){var Z=c[H];if(!Z.da&&Z.listener==y&&Z.capture==!!v&&Z.ha==x)return H}return-1}var cs="closure_lm_"+(1e6*Math.random()|0),Mo={};function Iu(c,y,v,x,H){if(Array.isArray(y)){for(var Z=0;Z<y.length;Z++)Iu(c,y[Z],v,x,H);return null}return v=Nu(v),c&&c[Dt]?c.K(y,v,g(x)?!!x.capture:!1,H):wn(c,y,v,!1,x,H)}function wn(c,y,v,x,H,Z){if(!y)throw Error("Invalid event type");var ue=g(H)?!!H.capture:!!H,je=la(c);if(je||(c[cs]=je=new Er(c)),v=je.add(y,v,x,ue,Z),v.proxy)return v;if(x=vf(),v.proxy=x,x.src=c,x.listener=v,c.addEventListener)he||(H=ue),H===void 0&&(H=!1),c.addEventListener(y.toString(),x,H);else if(c.attachEvent)c.attachEvent(hs(y.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return v}function vf(){function c(v){return y.call(c.src,c.listener,v)}const y=_f;return c}function ko(c,y,v,x,H){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)ko(c,y[Z],v,x,H);else x=g(x)?!!x.capture:!!x,v=Nu(v),c&&c[Dt]?(c=c.i,y=String(y).toString(),y in c.g&&(Z=c.g[y],v=us(Z,v,x,H),-1<v&&(si(Z[v]),Array.prototype.splice.call(Z,v,1),Z.length==0&&(delete c.g[y],c.h--)))):c&&(c=la(c))&&(y=c.g[y.toString()],c=-1,y&&(c=us(y,v,x,H)),(v=-1<c?y[c]:null)&&oa(v))}function oa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Dt])ls(y.i,c);else{var v=c.type,x=c.proxy;y.removeEventListener?y.removeEventListener(v,x,c.capture):y.detachEvent?y.detachEvent(hs(v),x):y.addListener&&y.removeListener&&y.removeListener(x),(v=la(y))?(ls(v,c),v.h==0&&(v.src=null,y[cs]=null)):si(c)}}}function hs(c){return c in Mo?Mo[c]:Mo[c]="on"+c}function _f(c,y){if(c.da)c=!0;else{y=new Ee(y,this);var v=c.listener,x=c.ha||c.src;c.fa&&oa(c),c=v.call(x,y)}return c}function la(c){return c=c[cs],c instanceof Er?c:null}var Vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nu(c){return typeof c=="function"?c:(c[Vo]||(c[Vo]=function(y){return c.handleEvent(y)}),c[Vo])}function ct(){le.call(this),this.i=new Er(this),this.M=this,this.F=null}V(ct,le),ct.prototype[Dt]=!0,ct.prototype.removeEventListener=function(c,y,v,x){ko(this,c,y,v,x)};function Qe(c,y){var v,x=c.F;if(x)for(v=[];x;x=x.F)v.push(x);if(c=c.M,x=y.type||y,typeof y=="string")y=new K(y,c);else if(y instanceof K)y.target=y.target||c;else{var H=y;y=new K(x,c),M(y,H)}if(H=!0,v)for(var Z=v.length-1;0<=Z;Z--){var ue=y.g=v[Z];H=fn(ue,x,!0,y)&&H}if(ue=y.g=c,H=fn(ue,x,!0,y)&&H,H=fn(ue,x,!1,y)&&H,v)for(Z=0;Z<v.length;Z++)ue=y.g=v[Z],H=fn(ue,x,!1,y)&&H}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],x=0;x<v.length;x++)si(v[x]);delete c.g[y],c.h--}}this.F=null},ct.prototype.K=function(c,y,v,x){return this.i.add(String(c),y,!1,v,x)},ct.prototype.L=function(c,y,v,x){return this.i.add(String(c),y,!0,v,x)};function fn(c,y,v,x){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,Z=0;Z<y.length;++Z){var ue=y[Z];if(ue&&!ue.da&&ue.capture==v){var je=ue.listener,xt=ue.ha||ue.src;ue.fa&&ls(c.i,ue),H=je.call(xt,x)!==!1&&H}}return H&&!x.defaultPrevented}function $t(c,y,v){if(typeof c=="function")v&&(c=A(c,v));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Du(c){c.g=$t(()=>{c.g=null,c.i&&(c.i=!1,Du(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ef extends le{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Du(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(c){le.call(this),this.h=c,this.g={}}V(fs,le);var ds=[];function ms(c){pe(c.g,function(y,v){this.g.hasOwnProperty(v)&&oa(y)},c),c.g={}}fs.prototype.N=function(){fs.aa.N.call(this),ms(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=m.JSON.stringify,ua=m.JSON.parse,ps=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Po(){}Po.prototype.h=null;function Lo(c){return c.h||(c.h=c.i())}function Uo(){}var Tr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function br(){K.call(this,"d")}V(br,K);function jo(){K.call(this,"c")}V(jo,K);var Zn={},zo=null;function ai(){return zo=zo||new ct}Zn.La="serverreachability";function ca(c){K.call(this,Zn.La,c)}V(ca,K);function oi(c){const y=ai();Qe(y,new ca(y))}Zn.STAT_EVENT="statevent";function Ou(c,y){K.call(this,Zn.STAT_EVENT,c),this.stat=y}V(Ou,K);function st(c){const y=ai();Qe(y,new Ou(y,c))}Zn.Ma="timingevent";function At(c,y){K.call(this,Zn.Ma,c),this.size=y}V(At,K);function yt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function An(){this.g=!0}An.prototype.xa=function(){this.g=!1};function Bo(c,y,v,x,H,Z){c.info(function(){if(c.g)if(Z)for(var ue="",je=Z.split("&"),xt=0;xt<je.length;xt++){var ze=je[xt].split("=");if(1<ze.length){var Mt=ze[0];ze=ze[1];var St=Mt.split("_");ue=2<=St.length&&St[1]=="type"?ue+(Mt+"="+ze+"&"):ue+(Mt+"=redacted&")}}else ue=null;else ue=Z;return"XMLHTTP REQ ("+x+") [attempt "+H+"]: "+y+`
`+v+`
`+ue})}function Tf(c,y,v,x,H,Z,ue){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+H+"]: "+y+`
`+v+`
`+Z+" "+ue})}function li(c,y,v,x){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+gs(c,v)+(x?" "+x:"")})}function Mu(c,y){c.info(function(){return"TIMEOUT: "+y})}An.prototype.info=function(){};function gs(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var x=v[c];if(!(2>x.length)){var H=x[1];if(Array.isArray(H)&&!(1>H.length)){var Z=H[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ue=1;ue<H.length;ue++)H[ue]=""}}}}return Ln(v)}catch{return y}}var ui={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jn;function er(){}V(er,Po),er.prototype.g=function(){return new XMLHttpRequest},er.prototype.i=function(){return{}},Jn=new er;function en(c,y,v,x){this.j=c,this.i=y,this.l=v,this.R=x||1,this.U=new fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var qo={},ha={};function Un(c,y,v){c.L=1,c.v=Ts(dn(y)),c.m=v,c.P=!0,Ar(c,null)}function Ar(c,y){c.F=Date.now(),ys(c),c.A=dn(c.v);var v=c.A,x=c.R;Array.isArray(x)||(x=[String(x)]),Ko(v.i,"t",x),c.C=0,v=c.j.J,c.h=new dt,c.g=Yu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Ef(A(c.Y,c,c.g),c.O)),y=c.U,v=c.g,x=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(ds[0]=H.toString()),H=ds);for(var Z=0;Z<H.length;Z++){var ue=Iu(v,H[Z],x||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),oi(),Bo(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const y=this.M;y&&Cn(c)==3?y.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const St=Cn(this.g);var y=this.g.Ba();const Or=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Bu(this.g)))){this.J||St!=4||y==7||(y==8||0>=Or?oi(3):oi(2)),ci(this);var v=this.g.Z();this.X=v;t:if(ku(this)){var x=Bu(this.g);c="";var H=x.length,Z=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),tr(this);var ue="";break t}this.h.i=new m.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(x[y],{stream:!(Z&&y==H-1)});x.length=0,this.h.g+=c,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=v==200,Tf(this.i,this.u,this.A,this.l,this.R,St,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,xt=this.g;if((je=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(je)){var ze=je;break t}}ze=null}if(v=ze)li(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vs(this,v);else{this.o=!1,this.s=3,st(12),Ut(this),tr(this);break e}}if(this.P){v=!0;let jt;for(;!this.J&&this.C<ue.length;)if(jt=Vu(this,ue),jt==ha){St==4&&(this.s=4,st(14),v=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==qo){this.s=4,st(15),li(this.i,this.l,ue,"[Invalid Chunk]"),v=!1;break}else li(this.i,this.l,jt,null),vs(this,jt);if(ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ue.length!=0||this.h.h||(this.s=1,st(16),v=!1),this.o=this.o&&v,!v)li(this.i,this.l,ue,"[Invalid Chunked Response]"),Ut(this),tr(this);else if(0<ue.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Is(Mt),Mt.M=!0,st(11))}}else li(this.i,this.l,ue,null),vs(this,ue);St==4&&Ut(this),this.o&&!this.J&&(St==4?$u(this.j,this):(this.o=!1,ys(this)))}else Sf(this.g),v==400&&0<ue.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Ut(this),tr(this)}}}catch{}finally{}};function ku(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Vu(c,y){var v=c.C,x=y.indexOf(`
`,v);return x==-1?ha:(v=Number(y.substring(v,x)),isNaN(v)?qo:(x+=1,x+v>y.length?ha:(y=y.slice(x,x+v),c.C=x+v,y)))}en.prototype.cancel=function(){this.J=!0,Ut(this)};function ys(c){c.S=Date.now()+c.I,Pu(c,c.I)}function Pu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yt(A(c.ba,c),y)}function ci(c){c.B&&(m.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Mu(this.i,this.A),this.L!=2&&(oi(),st(17)),Ut(this),this.s=2,tr(this)):Pu(this,this.S-c)};function tr(c){c.j.G==0||c.J||$u(c.j,c)}function Ut(c){ci(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ms(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function vs(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Ho(v.h,c))){if(!c.K&&Ho(v.h,c)&&v.G==3){try{var x=v.Da.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var H=x;if(H[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)wa(v),Ta(v);else break e;Jo(v),st(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=yt(A(v.Za,v),6e3));if(1>=da(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Dr(v,11)}else if((c.K||v.g==c)&&wa(v),!W(y))for(H=v.Da.g.parse(y),y=0;y<H.length;y++){let ze=H[y];if(v.T=ze[0],ze=ze[1],v.G==2)if(ze[0]=="c"){v.K=ze[1],v.ia=ze[2];const Mt=ze[3];Mt!=null&&(v.la=Mt,v.j.info("VER="+v.la));const St=ze[4];St!=null&&(v.Aa=St,v.j.info("SVER="+v.Aa));const Or=ze[5];Or!=null&&typeof Or=="number"&&0<Or&&(x=1.5*Or,v.L=x,v.j.info("backChannelRequestTimeoutMs_="+x)),x=v;const jt=c.g;if(jt){const lr=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lr){var Z=x.h;Z.g||lr.indexOf("spdy")==-1&&lr.indexOf("quic")==-1&&lr.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(ma(Z,Z.h),Z.h=null))}if(x.D){const tl=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(x.ya=tl,Xe(x.I,x.D,tl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),x=v;var ue=c;if(x.qa=Ku(x,x.J?x.ia:null,x.W),ue.K){tn(x.h,ue);var je=ue,xt=x.L;xt&&(je.I=xt),je.B&&(ci(je),ys(je)),x.g=ue}else Fu(x);0<v.i.length&&ba(v)}else ze[0]!="stop"&&ze[0]!="close"||Dr(v,7);else v.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Dr(v,7):Wo(v):ze[0]!="noop"&&v.l&&v.l.ta(ze),v.v=0)}}oi(4)}catch{}}var Lu=class{constructor(c,y){this.g=c,this.map=y}};function xr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function da(c){return c.h?1:c.g?c.g.size:0}function Ho(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ma(c,y){c.g?c.g.add(y):c.h=y}function tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}xr.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Fo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return G(c.i)}function bf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,x=0;x<v;x++)y.push(c[x]);return y}y=[],v=0;for(x in c)y[v++]=c[x];return y}function pa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const x in c)y[v++]=x;return y}}}function Go(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=pa(c),x=bf(c),H=x.length,Z=0;Z<H;Z++)y.call(void 0,x[Z],v&&v[Z],c)}var _s=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var x=c[v].indexOf("="),H=null;if(0<=x){var Z=c[v].substring(0,x);H=c[v].substring(x+1)}else Z=c[v];y(Z,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function vt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vt){this.h=c.h,Es(this,c.j),this.o=c.o,this.g=c.g,hi(this,c.s),this.l=c.l;var y=c.i,v=new Rr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Sr(this,v),this.m=c.m}else c&&(y=String(c).match(_s))?(this.h=!1,Es(this,y[1]||"",!0),this.o=xn(y[2]||""),this.g=xn(y[3]||"",!0),hi(this,y[4]),this.l=xn(y[5]||"",!0),Sr(this,y[6]||"",!0),this.m=xn(y[7]||"")):(this.h=!1,this.i=new Rr(null,this.h))}vt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(bs(y,$o,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(bs(y,$o,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(bs(v,v.charAt(0)=="/"?Af:Qo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",bs(v,ga)),c.join("")};function dn(c){return new vt(c)}function Es(c,y,v){c.j=v?xn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function hi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Sr(c,y,v){y instanceof Rr?(c.i=y,ju(c.i,c.h)):(v||(y=bs(y,xf)),c.i=new Rr(y,c.h))}function Xe(c,y,v){c.i.set(y,v)}function Ts(c){return Xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function xn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function bs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Uu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Uu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $o=/[#\/\?@]/g,Qo=/[#\?:]/g,Af=/[#\?]/g,xf=/[#\?@]/g,ga=/#/g;function Rr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&wf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Rr.prototype,r.add=function(c,y){Sn(this),this.i=null,c=nr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Cr(c,y){Sn(c),y=nr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ir(c,y){return Sn(c),y=nr(c,y),c.g.has(y)}r.forEach=function(c,y){Sn(this),this.g.forEach(function(v,x){v.forEach(function(H){c.call(y,H,x,this)},this)},this)},r.na=function(){Sn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let x=0;x<y.length;x++){const H=c[x];for(let Z=0;Z<H.length;Z++)v.push(y[x])}return v},r.V=function(c){Sn(this);let y=[];if(typeof c=="string")Ir(this,c)&&(y=y.concat(this.g.get(nr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return Sn(this),this.i=null,c=nr(this,c),Ir(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ko(c,y,v){Cr(c,y),0<v.length&&(c.i=null,c.g.set(nr(c,y),G(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var x=y[v];const Z=encodeURIComponent(String(x)),ue=this.V(x);for(x=0;x<ue.length;x++){var H=Z;ue[x]!==""&&(H+="="+encodeURIComponent(String(ue[x]))),c.push(H)}}return this.i=c.join("&")};function nr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ju(c,y){y&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(v,x){var H=x.toLowerCase();x!=H&&(Cr(this,x),Ko(this,H,v))},c)),c.j=y}function ws(c,y){const v=new An;if(m.Image){const x=new Image;x.onload=O(Rn,v,"TestLoadImage: loaded",!0,y,x),x.onerror=O(Rn,v,"TestLoadImage: error",!1,y,x),x.onabort=O(Rn,v,"TestLoadImage: abort",!1,y,x),x.ontimeout=O(Rn,v,"TestLoadImage: timeout",!1,y,x),m.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else y(!1)}function jn(c,y){const v=new An,x=new AbortController,H=setTimeout(()=>{x.abort(),Rn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:x.signal}).then(Z=>{clearTimeout(H),Z.ok?Rn(v,"TestPingServer: ok",!0,y):Rn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Rn(v,"TestPingServer: error",!1,y)})}function Rn(c,y,v,x,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),x(v)}catch{}}function As(){this.g=new ps}function rr(c,y,v){const x=v||"";try{Go(c,function(H,Z){let ue=H;g(H)&&(ue=Ln(H)),y.push(x+Z+"="+encodeURIComponent(ue))})}catch(H){throw y.push(x+"type="+encodeURIComponent("_badmap")),H}}function fi(c){this.l=c.Ub||null,this.j=c.eb||!1}V(fi,Po),fi.prototype.g=function(){return new Nr(this.l,this.j)},fi.prototype.i=function(c){return function(){return c}}({});function Nr(c,y){ct.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Nr,ct),r=Nr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,sr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ir(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,sr(this)),this.g&&(this.readyState=3,sr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ir(this):sr(this),this.readyState==3&&Yo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ir(this))},r.Qa=function(c){this.g&&(this.response=c,ir(this))},r.ga=function(){this.g&&ir(this)};function ir(c){c.readyState=4,c.l=null,c.j=null,c.v=null,sr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function sr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xo(c){let y="";return pe(c,function(v,x){y+=x,y+=":",y+=v,y+=`\r
`}),y}function Ot(c,y,v){e:{for(x in v){var x=!1;break e}x=!0}x||(v=Xo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Xe(c,y,v))}function Ge(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Ge,ct);var ya=/^https?$/i,xs=["POST","PUT"];r=Ge.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jn.g(),this.v=this.o?Lo(this.o):Lo(Jn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Z){zu(this,Z);return}if(c=v||"",v=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var H in x)v.set(H,x[H]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Z of x.keys())v.set(Z,x.get(Z));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(v.keys()).find(Z=>Z.toLowerCase()=="content-type"),H=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(xs,y,void 0))||x||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ue]of v)this.g.setRequestHeader(Z,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ss(this),this.u=!0,this.g.send(c),this.u=!1}catch(Z){zu(this,Z)}};function zu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,va(c),ar(c)}function va(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),ar(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ar(this,!0)),Ge.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?_a(this):this.bb())},r.bb=function(){_a(this)};function _a(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)$t(c.Ea,0,c);else if(Qe(c,"readystatechange"),Cn(c)==4){c.h=!1;try{const ue=c.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var x;if(x=ue===0){var H=String(c.D).match(_s)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),x=!ya.test(H?H.toLowerCase():"")}v=x}if(v)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var Z=2<Cn(c)?c.g.statusText:""}catch{Z=""}c.l=Z+" ["+c.Z()+"]",va(c)}}finally{ar(c)}}}}function ar(c,y){if(c.g){Ss(c);const v=c.g,x=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Qe(c,"ready");try{v.onreadystatechange=x}catch{}}}function Ss(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ua(y)}};function Bu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Sf(c){const y={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(W(c[x]))continue;var v=P(c[x]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Z=y[H]||[];y[H]=Z,Z.push(v)}I(y,function(x){return x.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ea(c){this.Aa=0,this.i=[],this.j=new An,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rs("baseRetryDelayMs",5e3,c),this.cb=Rs("retryDelaySeedMs",1e4,c),this.Wa=Rs("forwardChannelMaxRetries",2,c),this.wa=Rs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new xr(c&&c.concurrentRequestLimit),this.Da=new As,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ea.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,x){st(0),this.W=c,this.H=y||{},v&&x!==void 0&&(this.H.OSID=v,this.H.OAID=x),this.F=this.X,this.I=Ku(this,null,this.W),ba(this)};function Wo(c){if(qu(c),c.G==3){var y=c.U++,v=dn(c.I);if(Xe(v,"SID",c.K),Xe(v,"RID",y),Xe(v,"TYPE","terminate"),Cs(c,v),y=new en(c,c.j,y),y.L=2,y.v=Ts(dn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Yu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ys(y)}Qu(c)}function Ta(c){c.g&&(Is(c),c.g.cancel(),c.g=null)}function qu(c){Ta(c),c.u&&(m.clearTimeout(c.u),c.u=null),wa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ba(c){if(!fa(c.h)&&!c.s){c.s=!0;var y=c.Ga;te||k(),ce||(te(),ce=!0),Ae.add(y,c),c.B=0}}function Rf(c,y){return da(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yt(A(c.Ga,c,y),el(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new en(this,this.j,c);let Z=this.o;if(this.S&&(Z?(Z=S(Z),M(Z,this.S)):Z=this.S),this.m!==null||this.O||(H.H=Z,Z=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var x=this.i[v];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(y+=x,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Hu(this,H,y),v=dn(this.I),Xe(v,"RID",c),Xe(v,"CVER",22),this.D&&Xe(v,"X-HTTP-Session-Id",this.D),Cs(this,v),Z&&(this.O?y="headers="+encodeURIComponent(String(Xo(Z)))+"&"+y:this.m&&Ot(v,this.m,Z)),ma(this.h,H),this.Ua&&Xe(v,"TYPE","init"),this.P?(Xe(v,"$req",y),Xe(v,"SID","null"),H.T=!0,Un(H,v,null)):Un(H,v,y),this.G=2}}else this.G==3&&(c?Zo(this,c):this.i.length==0||fa(this.h)||Zo(this))};function Zo(c,y){var v;y?v=y.l:v=c.U++;const x=dn(c.I);Xe(x,"SID",c.K),Xe(x,"RID",v),Xe(x,"AID",c.T),Cs(c,x),c.m&&c.o&&Ot(x,c.m,c.o),v=new en(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Hu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ma(c.h,v),Un(v,x,y)}function Cs(c,y){c.H&&pe(c.H,function(v,x){Xe(y,x,v)}),c.l&&Go({},function(v,x){Xe(y,x,v)})}function Hu(c,y,v){v=Math.min(c.i.length,v);var x=c.l?A(c.l.Na,c.l,c):null;e:{var H=c.i;let Z=-1;for(;;){const ue=["count="+v];Z==-1?0<v?(Z=H[0].g,ue.push("ofs="+Z)):Z=0:ue.push("ofs="+Z);let je=!0;for(let xt=0;xt<v;xt++){let ze=H[xt].g;const Mt=H[xt].map;if(ze-=Z,0>ze)Z=Math.max(0,H[xt].g-100),je=!1;else try{rr(Mt,ue,"req"+ze+"_")}catch{x&&x(Mt)}}if(je){x=ue.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,x}function Fu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;te||k(),ce||(te(),ce=!0),Ae.add(y,c),c.v=0}}function Jo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yt(A(c.Fa,c),el(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yt(A(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Ta(this),Gu(this))};function Is(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Gu(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=dn(c.qa);Xe(y,"RID","rpc"),Xe(y,"SID",c.K),Xe(y,"AID",c.T),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xe(y,"TO",c.ja),Xe(y,"TYPE","xmlhttp"),Cs(c,y),c.m&&c.o&&Ot(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ts(dn(y)),v.m=null,v.P=!0,Ar(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Ta(this),Jo(this),st(19))};function wa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function $u(c,y){var v=null;if(c.g==y){wa(c),Is(c),c.g=null;var x=2}else if(Ho(c.h,y))v=y.D,tn(c.h,y),x=1;else return;if(c.G!=0){if(y.o)if(x==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;x=ai(),Qe(x,new At(x,v)),ba(c)}else Fu(c);else if(H=y.s,H==3||H==0&&0<y.X||!(x==1&&Rf(c,y)||x==2&&Jo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),H){case 1:Dr(c,5);break;case 4:Dr(c,10);break;case 3:Dr(c,6);break;default:Dr(c,2)}}}function el(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Dr(c,y){if(c.j.info("Error code "+y),y==2){var v=A(c.fb,c),x=c.Xa;const H=!x;x=new vt(x||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Es(x,"https"),Ts(x),H?ws(x.toString(),v):jn(x.toString(),v)}else st(2);c.G=0,c.l&&c.l.sa(y),Qu(c),qu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Qu(c){if(c.G=0,c.ka=[],c.l){const y=Fo(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function Ku(c,y,v){var x=v instanceof vt?dn(v):new vt(v);if(x.g!="")y&&(x.g=y+"."+x.g),hi(x,x.s);else{var H=m.location;x=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var Z=new vt(null);x&&Es(Z,x),y&&(Z.g=y),H&&hi(Z,H),v&&(Z.l=v),x=Z}return v=c.D,y=c.ya,v&&y&&Xe(x,v,y),Xe(x,"VER",c.la),Cs(c,x),x}function Yu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ge(new fi({eb:v})):new Ge(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}r=Xu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Aa(){}Aa.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){ct.call(this),this.g=new Ea(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!W(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!W(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new or(this)}V(nn,ct),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Wo(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Ln(c),c=v);y.i.push(new Lu(y.Ya++,c)),y.G==3&&ba(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,nn.aa.N.call(this)};function Wu(c){br.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(Wu,br);function Zu(){jo.call(this),this.status=1}V(Zu,jo);function or(c){this.g=c}V(or,Xu),or.prototype.ua=function(){Qe(this.g,"a")},or.prototype.ta=function(c){Qe(this.g,new Wu(c))},or.prototype.sa=function(c){Qe(this.g,new Zu)},or.prototype.ra=function(){Qe(this.g,"b")},Aa.prototype.createWebChannel=Aa.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,tb=function(){return new Aa},eb=function(){return ai()},JT=Zn,ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ui.NO_ERROR=0,ui.TIMEOUT=8,ui.HTTP_ERROR=6,dh=ui,wr.COMPLETE="complete",ZT=wr,Uo.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Ql=Uo,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,WT=Ge}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});const N_="@firebase/firestore",D_="4.7.15";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co="11.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new Dp("@firebase/firestore");function Ja(){return Zs.logLevel}function fe(r,...e){if(Zs.logLevel<=Le.DEBUG){const n=e.map(Hp);Zs.debug(`Firestore (${Co}): ${r}`,...n)}}function ti(r,...e){if(Zs.logLevel<=Le.ERROR){const n=e.map(Hp);Zs.error(`Firestore (${Co}): ${r}`,...n)}}function mo(r,...e){if(Zs.logLevel<=Le.WARN){const n=e.map(Hp);Zs.warn(`Firestore (${Co}): ${r}`,...n)}}function Hp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,nb(r,s,n)}function nb(r,e,n){let s=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ti(s),new Error(s)}function $e(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||nb(e,o,s)}function Ce(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class II{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class NI{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ki,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ki)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string",31837,{l:s}),new rb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class DI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new DI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new O_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new O_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=kI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Me(r,e){return r<e?-1:r>e?1:0}function tp(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Me(s,o);{const u=ib(),h=VI(u.encode(M_(r,n)),u.encode(M_(e,n)));return h!==0?h:Me(s,o)}}n+=s>65535?2:1}return Me(r.length,e.length)}function M_(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function VI(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Me(r[n],e[n]);return Me(r.length,e.length)}function po(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=-62135596800,V_=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*V_);return new It(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<k_)throw new de(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V_}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-k_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new It(0,0))}static max(){return new Re(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="__name__";class mr{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=mr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Me(e.length,n.length)}static compareSegments(e,n){const s=mr.isNumericId(e),o=mr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?mr.extractNumericId(e).compare(mr.extractNumericId(n)):tp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qi.fromString(e.substring(4,e.length-2))}}class it extends mr{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new it(n)}static emptyPath(){return new it([])}}const PI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends mr{construct(e,n,s){return new Ft(e,n,s)}static isValidIdentifier(e){return PI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P_}static keyField(){return new Ft([P_])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new de(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(it.fromString(e))}static fromName(e){return new ve(it.fromString(e).popFirst(5))}static empty(){return new ve(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=-1;function LI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new It(n+1,0):new It(n,s));return new Xi(o,ve.empty(),e)}function UI(r){return new Xi(r.readTime,r.key,ou)}class Xi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Xi(Re.min(),ve.empty(),ou)}static max(){return new Xi(Re.max(),ve.empty(),ou)}}function jI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(r.documentKey,e.documentKey),n!==0?n:Me(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==zI)throw r;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,s)=>{n(e)})}static reject(e){return new se((n,s)=>{s(e)})}static waitFor(e){return new se((n,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},p=>s(p))}),h=!0,u===o&&n()})}static or(e){let n=se.resolve(!1);for(const s of e)n=n.next(o=>o?se.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new se((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(_=>{h[g]=_,++m,m===u&&s(h)},_=>o(_))}})}static doWhile(e,n){return new se((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function qI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Yh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=-1;function Xh(r){return r==null}function Ih(r){return r===0&&1/r==-1/0}function HI(r){return typeof r=="number"&&Number.isInteger(r)&&!Ih(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="";function FI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=L_(e)),e=GI(r.get(n),e);return L_(e)}function GI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case ab:n+="";break;default:n+=u}}return n}function L_(r){return r+ab+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function as(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function ob(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ht(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new j_(this.data.getIterator())}getIteratorFrom(e){return new j_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class j_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new bn([])}unionWith(e){let n=new Nt(Ft.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new lb("Invalid base64 string: "+u):u}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const $I=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(r){if($e(!!r,39018),typeof r=="string"){let e=0;const n=$I.exec(r);if($e(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Zi(r){return typeof r=="string"?Gt.fromBase64String(r):Gt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="server_timestamp",cb="__type__",hb="__previous_value__",fb="__local_write_time__";function Gp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[cb])===null||n===void 0?void 0:n.stringValue)===ub}function Wh(r){const e=r.mapValue.fields[hb];return Gp(e)?Wh(e):e}function lu(r){const e=Wi(r.mapValue.fields[fb].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n,s,o,u,h,m,p,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Nh="(default)";class uu{constructor(e,n){this.projectId=e,this.database=n||Nh}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===Nh}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="__type__",KI="__max__",rh={mapValue:{}},mb="__vector__",Dh="value";function Ji(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Gp(r)?4:XI(r)?9007199254740991:YI(r)?10:11:we(28295,{value:r})}function _r(r,e){if(r===e)return!0;const n=Ji(r);if(n!==Ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return lu(r).isEqual(lu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Wi(o.timestampValue),m=Wi(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Zi(o.bytesValue).isEqual(Zi(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=gt(o.doubleValue),m=gt(u.doubleValue);return h===m?Ih(h)===Ih(m):isNaN(h)&&isNaN(m)}return!1}(r,e);case 9:return po(r.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(U_(h)!==U_(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!_r(h[p],m[p])))return!1;return!0}(r,e);default:return we(52216,{left:r})}}function cu(r,e){return(r.values||[]).find(n=>_r(n,e))!==void 0}function go(r,e){if(r===e)return 0;const n=Ji(r),s=Ji(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(r.booleanValue,e.booleanValue);case 2:return function(u,h){const m=gt(u.integerValue||u.doubleValue),p=gt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return z_(r.timestampValue,e.timestampValue);case 4:return z_(lu(r),lu(e));case 5:return tp(r.stringValue,e.stringValue);case 6:return function(u,h){const m=Zi(u),p=Zi(h);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=Me(m[g],p[g]);if(_!==0)return _}return Me(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Me(gt(u.latitude),gt(h.latitude));return m!==0?m:Me(gt(u.longitude),gt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return B_(r.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,_;const w=u.fields||{},A=h.fields||{},O=(m=w[Dh])===null||m===void 0?void 0:m.arrayValue,V=(p=A[Dh])===null||p===void 0?void 0:p.arrayValue,G=Me(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((_=V==null?void 0:V.values)===null||_===void 0?void 0:_.length)||0);return G!==0?G:B_(O,V)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===rh.mapValue&&h===rh.mapValue)return 0;if(u===rh.mapValue)return 1;if(h===rh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let w=0;w<p.length&&w<_.length;++w){const A=tp(p[w],_[w]);if(A!==0)return A;const O=go(m[p[w]],g[_[w]]);if(O!==0)return O}return Me(p.length,_.length)}(r.mapValue,e.mapValue);default:throw we(23264,{Pe:n})}}function z_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Me(r,e);const n=Wi(r),s=Wi(e),o=Me(n.seconds,s.seconds);return o!==0?o:Me(n.nanos,s.nanos)}function B_(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=go(n[o],s[o]);if(u)return u}return Me(n.length,s.length)}function yo(r){return np(r)}function np(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Wi(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Zi(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ve.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=np(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${np(n.fields[h])}`;return o+"}"}(r.mapValue):we(61005,{value:r})}function mh(r){switch(Ji(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wh(r);return e?16+mh(e):16;case 5:return 2*r.stringValue.length;case 6:return Zi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+mh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return as(s.fields,(u,h)=>{o+=u.length+mh(h)}),o}(r.mapValue);default:throw we(13486,{value:r})}}function q_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function rp(r){return!!r&&"integerValue"in r}function $p(r){return!!r&&"arrayValue"in r}function H_(r){return!!r&&"nullValue"in r}function F_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ph(r){return!!r&&"mapValue"in r}function YI(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[db])===null||n===void 0?void 0:n.stringValue)===mb}function Jl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return as(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Jl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function XI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===KI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ph(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(n)}setAll(e){let n=Ft.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Jl(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){as(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new hn(Jl(this.value))}}function pb(r){const e=[];return as(r.fields,(n,s)=>{const o=new Ft([n]);if(ph(s)){const u=pb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,Re.min(),Re.min(),Re.min(),hn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,Re.min(),Re.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Re.min(),Re.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n){this.position=e,this.inclusive=n}}function G_(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),n.key):s=go(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function $_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!_r(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n="asc"){this.field=e,this.dir=n}}function WI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{}class bt extends gb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new JI(e,n,s):n==="array-contains"?new nN(e,s):n==="in"?new rN(e,s):n==="not-in"?new iN(e,s):n==="array-contains-any"?new sN(e,s):new bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new eN(e,s):new tN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&Ji(this.value)===Ji(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends gb{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Kn(e,n)}matches(e){return yb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function yb(r){return r.op==="and"}function vb(r){return ZI(r)&&yb(r)}function ZI(r){for(const e of r.filters)if(e instanceof Kn)return!1;return!0}function ip(r){if(r instanceof bt)return r.field.canonicalString()+r.op.toString()+yo(r.value);if(vb(r))return r.filters.map(e=>ip(e)).join(",");{const e=r.filters.map(n=>ip(n)).join(",");return`${r.op}(${e})`}}function _b(r,e){return r instanceof bt?function(s,o){return o instanceof bt&&s.op===o.op&&s.field.isEqual(o.field)&&_r(s.value,o.value)}(r,e):r instanceof Kn?function(s,o){return o instanceof Kn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&_b(h,o.filters[m]),!0):!1}(r,e):void we(19439)}function Eb(r){return r instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`}(r):r instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(Eb).join(" ,")+"}"}(r):"Filter"}class JI extends bt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class eN extends bt{constructor(e,n){super(e,"in",n),this.keys=Tb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tN extends bt{constructor(e,n){super(e,"not-in",n),this.keys=Tb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Tb(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ve.fromName(s.referenceValue))}class nN extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $p(n)&&cu(n.arrayValue,this.value)}}class rN extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cu(this.value.arrayValue,n)}}class iN extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cu(this.value.arrayValue,n)}}class sN extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$p(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>cu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Ie=null}}function Q_(r,e=null,n=[],s=[],o=null,u=null,h=null){return new aN(r,e,n,s,o,u,h)}function Qp(r){const e=Ce(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>ip(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>yo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>yo(s)).join(",")),e.Ie=n}return e.Ie}function Kp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!WI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!_b(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!$_(r.startAt,e.startAt)&&$_(r.endAt,e.endAt)}function sp(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function oN(r,e,n,s,o,u,h,m){return new Do(r,e,n,s,o,u,h,m)}function Zh(r){return new Do(r)}function K_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function bb(r){return r.collectionGroup!==null}function eu(r){const e=Ce(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Nt(Ft.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new hu(u,s))}),n.has(Ft.keyField().canonicalString())||e.Ee.push(new hu(Ft.keyField(),s))}return e.Ee}function yr(r){const e=Ce(r);return e.de||(e.de=lN(e,eu(r))),e.de}function lN(r,e){if(r.limitType==="F")return Q_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new hu(o.field,u)});const n=r.endAt?new Oh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Oh(r.startAt.position,r.startAt.inclusive):null;return Q_(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function ap(r,e){const n=r.filters.concat([e]);return new Do(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function op(r,e,n){return new Do(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Jh(r,e){return Kp(yr(r),yr(e))&&r.limitType===e.limitType}function wb(r){return`${Qp(yr(r))}|lt:${r.limitType}`}function eo(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>Eb(o)).join(", ")}]`),Xh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>yo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>yo(o)).join(",")),`Target(${s})`}(yr(r))}; limitType=${r.limitType})`}function ef(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of eu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=G_(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,eu(s),o)||s.endAt&&!function(h,m,p){const g=G_(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,eu(s),o))}(r,e)}function uN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ab(r){return(e,n)=>{let s=!1;for(const o of eu(r)){const u=cN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function cN(r,e,n){const s=r.field.isKeyField()?ve.comparator(e.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?go(p,g):we(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){as(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return ob(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=new ut(ve.comparator);function ni(){return hN}const xb=new ut(ve.comparator);function Kl(...r){let e=xb;for(const n of r)e=e.insert(n.key,n);return e}function Sb(r){let e=xb;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function $s(){return tu()}function Rb(){return tu()}function tu(){return new na(r=>r.toString(),(r,e)=>r.isEqual(e))}const fN=new ut(ve.comparator),dN=new Nt(ve.comparator);function Ue(...r){let e=dN;for(const n of r)e=e.add(n);return e}const mN=new Nt(Me);function pN(){return mN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(e)?"-0":e}}function Cb(r){return{integerValue:""+r}}function Ib(r,e){return HI(e)?Cb(e):Yp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(){this._=void 0}}function gN(r,e,n){return r instanceof fu?function(o,u){const h={fields:{[cb]:{stringValue:ub},[fb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Gp(u)&&(u=Wh(u)),u&&(h.fields[hb]=u),{mapValue:h}}(n,e):r instanceof vo?Db(r,e):r instanceof _o?Ob(r,e):function(o,u){const h=Nb(o,u),m=Y_(h)+Y_(o.Re);return rp(h)&&rp(o.Re)?Cb(m):Yp(o.serializer,m)}(r,e)}function yN(r,e,n){return r instanceof vo?Db(r,e):r instanceof _o?Ob(r,e):n}function Nb(r,e){return r instanceof du?function(s){return rp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class fu extends tf{}class vo extends tf{constructor(e){super(),this.elements=e}}function Db(r,e){const n=Mb(e);for(const s of r.elements)n.some(o=>_r(o,s))||n.push(s);return{arrayValue:{values:n}}}class _o extends tf{constructor(e){super(),this.elements=e}}function Ob(r,e){let n=Mb(e);for(const s of r.elements)n=n.filter(o=>!_r(o,s));return{arrayValue:{values:n}}}class du extends tf{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Y_(r){return gt(r.integerValue||r.doubleValue)}function Mb(r){return $p(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){this.field=e,this.transform=n}}function vN(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof vo&&o instanceof vo||s instanceof _o&&o instanceof _o?po(s.elements,o.elements,_r):s instanceof du&&o instanceof du?_r(s.Re,o.Re):s instanceof fu&&o instanceof fu}(r.transform,e.transform)}class _N{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class rf{}function kb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Pb(r.key,Fn.none()):new xu(r.key,r.data,Fn.none());{const n=r.data,s=hn.empty();let o=new Nt(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new os(r.key,s,new bn(o.toArray()),Fn.none())}}function EN(r,e,n){r instanceof xu?function(o,u,h){const m=o.value.clone(),p=W_(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,n):r instanceof os?function(o,u,h){if(!gh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=W_(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Vb(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function nu(r,e,n,s){return r instanceof xu?function(u,h,m,p){if(!gh(u.precondition,h))return m;const g=u.value.clone(),_=Z_(u.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof os?function(u,h,m,p){if(!gh(u.precondition,h))return m;const g=Z_(u.fieldTransforms,p,h),_=h.data;return _.setAll(Vb(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,n,s):function(u,h,m){return gh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,e,n)}function TN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Nb(s.transform,o||null);u!=null&&(n===null&&(n=hn.empty()),n.set(s.field,u))}return n||null}function X_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&po(s,o,(u,h)=>vN(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class xu extends rf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class os extends rf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Vb(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function W_(r,e,n){const s=new Map;$e(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,yN(h,m,n[o]))}return s}function Z_(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,gN(u,h,e))}return s}class Pb extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bN extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&EN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=nu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=nu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Rb();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=kb(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Re.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,(n,s)=>X_(n,s))&&po(this.baseMutations,e.baseMutations,(n,s)=>X_(n,s))}}class Xp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){$e(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return fN}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Xp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,qe;function SN(r){switch(r){case ie.OK:return we(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return we(15467,{code:r})}}function Lb(r){if(r===void 0)return ti("GRPC error has no .code"),ie.UNKNOWN;switch(r){case Tt.OK:return ie.OK;case Tt.CANCELLED:return ie.CANCELLED;case Tt.UNKNOWN:return ie.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return ie.INTERNAL;case Tt.UNAVAILABLE:return ie.UNAVAILABLE;case Tt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Tt.NOT_FOUND:return ie.NOT_FOUND;case Tt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Tt.ABORTED:return ie.ABORTED;case Tt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Tt.DATA_LOSS:return ie.DATA_LOSS;default:return we(39323,{code:r})}}(qe=Tt||(Tt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=new Qi([4294967295,4294967295],0);function J_(r){const e=ib().encode(r),n=new XT;return n.update(e),new Uint8Array(n.digest())}function eE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Qi([n,s],0),new Qi([o,u],0)]}class Wp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yl(`Invalid padding: ${n}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Qi.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(Qi.fromNumber(s)));return o.compare(RN)===1&&(o=new Qi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=J_(e),[s,o]=eE(n);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);if(!this.Se(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Wp(u,o,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.pe===0)return;const n=J_(e),[s,o]=eE(n);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Su.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new sf(Re.min(),o,new ut(Me),ni(),Ue())}}class Su{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Su(s,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class Ub{constructor(e,n){this.targetId=e,this.Ce=n}}class jb{constructor(e,n,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class tE{constructor(){this.Fe=0,this.Me=nE(),this.xe=Gt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ue(),n=Ue(),s=Ue();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:u})}}),new Su(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=nE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,$e(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class CN{constructor(e){this.ze=e,this.je=new Map,this.He=ni(),this.Je=ih(),this.Ye=ih(),this.Ze=new ut(Me)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(sp(u))if(s===0){const h=new ve(u.path);this.tt(n,h,Wt.newNoDocument(h,Re.min()))}else $e(s===1,20013,{expectedCount:s});else{const h=this.ut(n);if(h!==s){const m=this.ct(e),p=m?this.lt(m,e,h):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Zi(s).toUint8Array()}catch(p){if(p instanceof lb)return mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Wp(h,o,u)}catch(p){return mo(p instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.ze.Pt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,h)=>{const m=this._t(h);if(m){if(u.current&&sp(m.target)){const p=new ve(m.target.path);this.Et(p).has(h)||this.dt(h,p)||this.tt(h,p,Wt.newNoDocument(p,e))}u.Le&&(n.set(h,u.qe()),u.Qe())}});let s=Ue();this.Ye.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,h)=>h.setReadTime(e));const o=new sf(e,n,this.Ze,this.He,s);return this.He=ni(),this.Je=ih(),this.Ye=ih(),this.Ze=new ut(Me),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new tE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Nt(Me),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Nt(Me),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new tE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function ih(){return new ut(ve.comparator)}function nE(){return new ut(ve.comparator)}const IN={asc:"ASCENDING",desc:"DESCENDING"},NN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DN={and:"AND",or:"OR"};class ON{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lp(r,e){return r.useProto3Json||Xh(e)?e:{value:e}}function Mh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function MN(r,e){return Mh(r,e.toTimestamp())}function vr(r){return $e(!!r,49232),Re.fromTimestamp(function(n){const s=Wi(n);return new It(s.seconds,s.nanos)}(r))}function Zp(r,e){return up(r,e).canonicalString()}function up(r,e){const n=function(o){return new it(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function Bb(r){const e=it.fromString(r);return $e($b(e),10190,{key:e.toString()}),e}function cp(r,e){return Zp(r.databaseId,e.path)}function Mm(r,e){const n=Bb(e);if(n.get(1)!==r.databaseId.projectId)throw new de(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new de(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ve(Hb(n))}function qb(r,e){return Zp(r.databaseId,e)}function kN(r){const e=Bb(r);return e.length===4?it.emptyPath():Hb(e)}function hp(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Hb(r){return $e(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function rE(r,e,n){return{name:cp(r,e),fields:n.value.mapValue.fields}}function VN(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?($e(_===void 0||typeof _=="string",58123),Gt.fromBase64String(_||"")):($e(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Gt.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const _=g.code===void 0?ie.UNKNOWN:Lb(g.code);return new de(_,g.message||"")}(h);n=new jb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Mm(r,s.document.name),u=vr(s.document.updateTime),h=s.document.createTime?vr(s.document.createTime):Re.min(),m=new hn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,h,m),g=s.targetIds||[],_=s.removedTargetIds||[];n=new yh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Mm(r,s.document),u=s.readTime?vr(s.readTime):Re.min(),h=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new yh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Mm(r,s.document),u=s.removedTargetIds||[];n=new yh([],u,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new xN(o,u),m=s.targetId;n=new Ub(m,h)}}return n}function PN(r,e){let n;if(e instanceof xu)n={update:rE(r,e.key,e.value)};else if(e instanceof Pb)n={delete:cp(r,e.key)};else if(e instanceof os)n={update:rE(r,e.key,e.data),updateMask:GN(e.fieldMask)};else{if(!(e instanceof bN))return we(16599,{ft:e.type});n={verify:cp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof fu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof vo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof _o)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof du)return{fieldPath:h.field.canonicalString(),increment:m.Re};throw we(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:MN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)}(r,e.precondition)),n}function LN(r,e){return r&&r.length>0?($e(e!==void 0,14353),r.map(n=>function(o,u){let h=o.updateTime?vr(o.updateTime):vr(u);return h.isEqual(Re.min())&&(h=vr(u)),new _N(h,o.transformResults||[])}(n,e))):[]}function UN(r,e){return{documents:[qb(r,e.path)]}}function jN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=qb(r,o);const u=function(g){if(g.length!==0)return Gb(Kn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(A){return{field:to(A.field),direction:qN(A.dir)}}(_))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=lp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function zN(r){let e=kN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$e(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=function(w){const A=Fb(w);return A instanceof Kn&&vb(A)?A.getFilters():[A]}(n.where));let h=[];n.orderBy&&(h=function(w){return w.map(A=>function(V){return new hu(no(V.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(w){let A;return A=typeof w=="object"?w.value:w,Xh(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(w){const A=!!w.before,O=w.values||[];return new Oh(O,A)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const A=!w.before,O=w.values||[];return new Oh(O,A)}(n.endAt)),oN(e,o,h,u,m,"F",p,g)}function BN(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Fb(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=no(n.unaryFilter.field);return bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=no(n.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(n.unaryFilter.field);return bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=no(n.unaryFilter.field);return bt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(r):r.fieldFilter!==void 0?function(n){return bt.create(no(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(s=>Fb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(n.compositeFilter.op))}(r):we(30097,{filter:r})}function qN(r){return IN[r]}function HN(r){return NN[r]}function FN(r){return DN[r]}function to(r){return{fieldPath:r.canonicalString()}}function no(r){return Ft.fromServerFormat(r.fieldPath)}function Gb(r){return r instanceof bt?function(n){if(n.op==="=="){if(F_(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(H_(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(F_(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(H_(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:HN(n.op),value:n.value}}}(r):r instanceof Kn?function(n){const s=n.getFilters().map(o=>Gb(o));return s.length===1?s[0]:{compositeFilter:{op:FN(n.op),filters:s}}}(r):we(54877,{filter:r})}function GN(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $b(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n,s,o,u=Re.min(),h=Re.min(),m=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.wt=e}}function QN(r){const e=zN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.Cn=new YN}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Xi.min())}updateCollectionGroup(e,n,s){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class YN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Nt(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qb=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(Qb,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Eo(0)}static lr(){return new Eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="LruGarbageCollector",XN=1048576;function aE([r,e],[n,s]){const o=Me(r,n);return o===0?Me(e,s):o}class WN{constructor(e){this.Er=e,this.buffer=new Nt(aE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();aE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ZN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){fe(sE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?fe(sE,"Ignoring IndexedDB error during garbage collection: ",n):await Io(n)}await this.mr(3e5)})}}class JN{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Yh.le);const s=new WN(n);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(iE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,o,u,h,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),Ja()<=Le.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function e4(r,e){return new JN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this.changes=new na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&nu(s.mutation,o,bn.empty(),It.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ue()){const o=$s();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let h=Kl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=$s();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ue()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,o){let u=ni();const h=tu(),m=function(){return tu()}();return n.forEach((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof os)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),nu(_.mutation,g,_.mutation.getFieldMask(),It.now())):h.set(g.key,bn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,_)=>h.set(g,_)),n.forEach((g,_)=>{var w;return m.set(g,new n4(_,(w=h.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=tu();let o=new ut((h,m)=>h-m),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let _=s.get(p)||bn.empty();_=m.applyToLocalView(g,_),s.set(p,_);const w=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,w=Rb();_.forEach(A=>{if(!u.has(A)){const O=kb(n.get(A),s.get(A));O!==null&&w.set(A,O),u=u.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,w))}return se.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):se.resolve($s());let m=ou,p=u;return h.next(g=>se.forEach(g,(_,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(_)?se.resolve():this.remoteDocumentCache.getEntry(e,_).next(A=>{p=p.insert(_,A)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ue())).next(_=>({batchId:m,changes:Sb(_)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(s=>{let o=Kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Kl();return this.indexManager.getCollectionParents(e,u).next(m=>se.forEach(m,p=>{const g=function(w,A){return new Do(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((w,A)=>{h=h.insert(w,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(h=>{u.forEach((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,Wt.newInvalidDocument(_)))});let m=Kl();return h.forEach((p,g)=>{const _=u.get(p);_!==void 0&&nu(_.mutation,g,bn.empty(),It.now()),ef(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return se.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:vr(o.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:QN(o.bundledQuery),readTime:vr(o.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.overlays=new ut(ve.comparator),this.Qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=$s();return se.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.bt(e,n,u)}),se.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),se.resolve()}getOverlaysForCollection(e,n,s){const o=$s(),u=n.length+1,h=new ve(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=$s(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=$s(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>m.set(g,_)),!(m.size()>=o)););return se.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new AN(n,s));let u=this.Qr.get(n);u===void 0&&(u=Ue(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this.$r=new Nt(Lt.Ur),this.Kr=new Nt(Lt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new Lt(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new Lt(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new ve(new it([])),s=new Lt(n,e),o=new Lt(n,e+1),u=[];return this.Kr.forEachInRange([s,o],h=>{this.zr(h),u.push(h.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ve(new it([])),s=new Lt(n,e),o=new Lt(n,e+1);let u=Ue();return this.Kr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Lt(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ve.comparator(e.key,n.key)||Me(e.Zr,n.Zr)}static Wr(e,n){return Me(e.Zr,n.Zr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Nt(Lt.Ur)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new wN(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Xr=this.Xr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(h)}lookupMutationBatch(e,n){return se.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Fp:this.nr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Lt(n,0),o=new Lt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],h=>{const m=this.ei(h.Zr);u.push(m)}),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Nt(Me);return n.forEach(o=>{const u=new Lt(o,0),h=new Lt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,h],m=>{s=s.add(m.Zr)})}),se.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const h=new Lt(new ve(u),0);let m=new Nt(Me);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},h),se.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){$e(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return se.forEach(n.mutations,o=>{const u=new Lt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new Lt(n,0),o=this.Xr.firstAfterOrEqual(s);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.ii=e,this.docs=function(){return new ut(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return se.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=ni();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),se.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ni();const h=n.path,m=new ve(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||jI(UI(_),s)<=0||(o.has(_.key)||ef(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,n,s,o){we(9500)}si(e,n){return se.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new u4(this)}getSize(e){return se.resolve(this.size)}}class u4 extends t4{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),se.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.persistence=e,this.oi=new na(n=>Qp(n),Kp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this._i=0,this.ai=new Jp,this.targetCount=0,this.ui=Eo.cr()}forEachTarget(e,n){return this.oi.forEach((s,o)=>n(o)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),se.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Eo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Tr(n),se.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.oi.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),se.waitFor(u).next(()=>o)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return se.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),se.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),se.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return se.resolve(s)}containsKey(e,n){return se.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,n){this.ci={},this.overlays={},this.li=new Yh(0),this.hi=!1,this.hi=!0,this.Pi=new a4,this.referenceDelegate=e(this),this.Ti=new c4(this),this.indexManager=new KN,this.remoteDocumentCache=function(o){return new l4(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new $N(n),this.Ei=new i4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new s4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new o4(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new h4(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return se.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class h4 extends BI{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.Vi=new Jp,this.mi=null}static fi(e){return new eg(e)}get gi(){if(this.mi)return this.mi;throw we(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),se.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.gi,s=>{const o=ve.fromPath(s);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Re.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return se.or([()=>se.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class kh{constructor(e,n){this.persistence=e,this.yi=new na(s=>FI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=e4(this,n)}static fi(e,n){return new kh(e,n)}di(){}Ai(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}Sr(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return se.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?se.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,h=>this.Dr(e,h,n).next(m=>{m||(s++,u.removeEntry(h,Re.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=mh(e.data.value)),n}Dr(e,n,s){return se.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return se.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ds=s,this.As=o}static Rs(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new tg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return GS()?8:qI(Jt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ws(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.Ss(e,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new f4;return this.bs(e,n,h).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,h,m.size)})}).next(()=>u.result)}Ds(e,n,s,o){return s.documentReadCount<this.gs?(Ja()<=Le.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),se.resolve()):(Ja()<=Le.DEBUG&&fe("QueryEngine","Query:",eo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Ja()<=Le.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(n))):se.resolve())}ws(e,n){if(K_(n))return se.resolve(null);let s=yr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=op(n,null,"F"),s=yr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Ue(...u);return this.ys.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,h,p.readTime)?this.ws(e,op(n,null,"F")):this.Fs(e,g,n,p)}))})))}Ss(e,n,s,o){return K_(n)||o.isEqual(Re.min())?se.resolve(null):this.ys.getDocuments(e,s).next(u=>{const h=this.vs(n,u);return this.Cs(n,h,s,o)?se.resolve(null):(Ja()<=Le.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),eo(n)),this.Fs(e,h,n,LI(o,ou)).next(m=>m))})}vs(e,n){let s=new Nt(Ab(e));return n.forEach((o,u)=>{ef(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}bs(e,n,s){return Ja()<=Le.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",eo(n)),this.ys.getDocumentsMatchingQuery(e,n,Xi.min(),s)}Fs(e,n,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="LocalStore",m4=3e8;class p4{constructor(e,n,s,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new ut(Me),this.Os=new na(u=>Qp(u),Kp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new r4(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function g4(r,e,n,s){return new p4(r,e,n,s)}async function Yb(r,e){const n=Ce(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Ue();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:h,addedBatchIds:m}))})})}function y4(r,e){const n=Ce(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,_){const w=g.batch,A=w.keys();let O=se.resolve();return A.forEach(V=>{O=O.next(()=>_.getEntry(p,V)).next(G=>{const U=g.docVersions.get(V);$e(U!==null,48541),G.version.compareTo(U)<0&&(w.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),_.addEntry(G)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function Xb(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function v4(r,e){const n=Ce(r),s=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((_,w)=>{const A=o.get(w);if(!A)return;m.push(n.Ti.removeMatchingKeys(u,_.removedDocuments,w).next(()=>n.Ti.addMatchingKeys(u,_.addedDocuments,w)));let O=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?O=O.withResumeToken(Gt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):_.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(_.resumeToken,s)),o=o.insert(w,O),function(G,U,q){return G.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=m4?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(A,O,_)&&m.push(n.Ti.updateTargetData(u,O))});let p=ni(),g=Ue();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(_4(u,h,e.documentUpdates).next(_=>{p=_.qs,g=_.Qs})),!s.isEqual(Re.min())){const _=n.Ti.getLastRemoteSnapshotVersion(u).next(w=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(_)}return se.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function _4(r,e,n){let s=Ue(),o=Ue();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=ni();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):fe(ng,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:h,Qs:o}})}function E4(r,e){const n=Ce(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Fp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function T4(r,e){const n=Ce(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,e).next(u=>u?(o=u,se.resolve(o)):n.Ti.allocateTargetId(s).next(h=>(o=new Bi(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function fp(r,e,n){const s=Ce(r),o=s.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!No(h))throw h;fe(ng,`Failed to update sequence numbers for target ${e}: ${h}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function oE(r,e,n){const s=Ce(r);let o=Re.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,_){const w=Ce(p),A=w.Os.get(_);return A!==void 0?se.resolve(w.xs.get(A)):w.Ti.getTargetData(g,_)}(s,h,yr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(h,e,n?o:Re.min(),n?u:Ue())).next(m=>(b4(s,uN(e),m),{documents:m,$s:u})))}function b4(r,e,n){let s=r.Ns.get(e)||Re.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ns.set(e,s)}class lE{constructor(){this.activeTargetIds=pN()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w4{constructor(){this.xo=new lE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new lE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="ConnectivityMonitor";class cE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){fe(uE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){fe(uE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh=null;function dp(){return sh===null?sh=function(){return 268435456+Math.round(2147483648*Math.random())}():sh++,"0x"+sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="RestConnection",x4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class S4{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Nh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,n,s,o,u){const h=dp(),m=this.jo(e,n.toUriEncodedString());fe(km,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),_=vu(g);return this.Jo(e,m,p,s,_).then(w=>(fe(km,`Received RPC '${e}' ${h}: `,w),w),w=>{throw mo(km,`RPC '${e}' ${h} failed with error: `,w,"url: ",m,"request:",s),w})}Yo(e,n,s,o,u,h){return this.zo(e,n,s,o,u)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Co}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const s=x4[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class C4 extends S4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=dp();return new Promise((m,p)=>{const g=new WT;g.setWithCredentials(!0),g.listenOnce(ZT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case dh.NO_ERROR:const w=g.getResponseJson();fe(Yt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(w)),m(w);break;case dh.TIMEOUT:fe(Yt,`RPC '${e}' ${h} timed out`),p(new de(ie.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const A=g.getStatus();if(fe(Yt,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const V=O==null?void 0:O.error;if(V&&V.status&&V.message){const G=function(q){const W=q.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(W)>=0?W:ie.UNKNOWN}(V.status);p(new de(G,V.message))}else p(new de(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new de(ie.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe(Yt,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(o);fe(Yt,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",_,s,15)})}T_(e,n,s){const o=dp(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=tb(),m=eb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=u.join("");fe(Yt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const w=h.createWebChannel(_,p);let A=!1,O=!1;const V=new R4({Zo:U=>{O?fe(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(A||(fe(Yt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),fe(Yt,`RPC '${e}' stream ${o} sending:`,U),w.send(U))},Xo:()=>w.close()}),G=(U,q,W)=>{U.listen(q,$=>{try{W($)}catch(ae){setTimeout(()=>{throw ae},0)}})};return G(w,Ql.EventType.OPEN,()=>{O||(fe(Yt,`RPC '${e}' stream ${o} transport opened.`),V.__())}),G(w,Ql.EventType.CLOSE,()=>{O||(O=!0,fe(Yt,`RPC '${e}' stream ${o} transport closed`),V.u_())}),G(w,Ql.EventType.ERROR,U=>{O||(O=!0,mo(Yt,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),V.u_(new de(ie.UNAVAILABLE,"The operation could not be completed")))}),G(w,Ql.EventType.MESSAGE,U=>{var q;if(!O){const W=U.data[0];$e(!!W,16349);const $=W,ae=($==null?void 0:$.error)||((q=$[0])===null||q===void 0?void 0:q.error);if(ae){fe(Yt,`RPC '${e}' stream ${o} received error:`,ae);const oe=ae.status;let pe=function(R){const M=Tt[R];if(M!==void 0)return Lb(M)}(oe),I=ae.message;pe===void 0&&(pe=ie.INTERNAL,I="Unknown error status: "+oe+" with message "+ae.message),O=!0,V.u_(new de(pe,I)),w.close()}else fe(Yt,`RPC '${e}' stream ${o} received:`,W),V.c_(W)}}),G(m,JT.STAT_EVENT,U=>{U.stat===ep.PROXY?fe(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===ep.NOPROXY&&fe(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.a_()},0),V}}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(r){return new ON(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.I_=s,this.E_=o,this.d_=u,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="PersistentStream";class Zb{constructor(e,n,s,o,u,h,m,p){this.xi=e,this.y_=s,this.w_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Wb(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(ti(n.toString()),ti("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.S_===n&&this.K_(s,o)},s=>{e(()=>{const o=new de(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(o)})})}K_(e,n){const s=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.W_(o))}),this.stream.onMessage(o=>{s(()=>++this.v_==1?this.z_(o):this.onNext(o))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return fe(hE,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(fe(hE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class I4 extends Zb{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=VN(this.serializer,e),s=function(u){if(!("targetChange"in u))return Re.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?vr(h.readTime):Re.min()}(e);return this.listener.j_(n,s)}H_(e){const n={};n.database=hp(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=sp(p)?{documents:UN(u,p)}:{query:jN(u,p).gt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=zb(u,h.resumeToken);const g=lp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Re.min())>0){m.readTime=Mh(u,h.snapshotVersion.toTimestamp());const g=lp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=BN(this.serializer,e);s&&(n.labels=s),this.L_(n)}J_(e){const n={};n.database=hp(this.serializer),n.removeTarget=e,this.L_(n)}}class N4 extends Zb{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=LN(e.writeResults,e.commitTime),s=vr(e.commitTime);return this.listener.ea(s,n)}ta(){const e={};e.database=hp(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>PN(this.serializer,s))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{}class O4 extends D4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.na=!1}ra(){if(this.na)throw new de(ie.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.zo(e,up(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ie.UNKNOWN,u.toString())})}Yo(e,n,s,o,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Yo(e,up(n,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new de(ie.UNKNOWN,h.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class M4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(ti(n),this.oa=!1):fe("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="RemoteStore";class k4{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=u,this.Ea.No(h=>{s.enqueueAndForget(async()=>{ra(this)&&(fe(Js,"Restarting streams for network reachability change."),await async function(p){const g=Ce(p);g.Ta.add(4),await Ru(g),g.da.set("Unknown"),g.Ta.delete(4),await of(g)}(this))})}),this.da=new M4(s,o)}}async function of(r){if(ra(r))for(const e of r.Ia)await e(!0)}async function Ru(r){for(const e of r.Ia)await e(!1)}function Jb(r,e){const n=Ce(r);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),ag(n)?sg(n):Oo(n).M_()&&ig(n,e))}function rg(r,e){const n=Ce(r),s=Oo(n);n.Pa.delete(e),s.M_()&&e1(n,e),n.Pa.size===0&&(s.M_()?s.N_():ra(n)&&n.da.set("Unknown"))}function ig(r,e){if(r.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oo(r).H_(e)}function e1(r,e){r.Aa.Ke(e),Oo(r).J_(e)}function sg(r){r.Aa=new CN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Pa.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Oo(r).start(),r.da._a()}function ag(r){return ra(r)&&!Oo(r).F_()&&r.Pa.size>0}function ra(r){return Ce(r).Ta.size===0}function t1(r){r.Aa=void 0}async function V4(r){r.da.set("Online")}async function P4(r){r.Pa.forEach((e,n)=>{ig(r,e)})}async function L4(r,e){t1(r),ag(r)?(r.da.ca(e),sg(r)):r.da.set("Unknown")}async function U4(r,e,n){if(r.da.set("Online"),e instanceof jb&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Pa.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Pa.delete(m),o.Aa.removeTarget(m))}(r,e)}catch(s){fe(Js,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Vh(r,s)}else if(e instanceof yh?r.Aa.Xe(e):e instanceof Ub?r.Aa.ot(e):r.Aa.nt(e),!n.isEqual(Re.min()))try{const s=await Xb(r.localStore);n.compareTo(s)>=0&&await function(u,h){const m=u.Aa.It(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Pa.get(g);_&&u.Pa.set(g,_.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const _=u.Pa.get(p);if(!_)return;u.Pa.set(p,_.withResumeToken(Gt.EMPTY_BYTE_STRING,_.snapshotVersion)),e1(u,p);const w=new Bi(_.target,p,g,_.sequenceNumber);ig(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){fe(Js,"Failed to raise snapshot:",s),await Vh(r,s)}}async function Vh(r,e,n){if(!No(e))throw e;r.Ta.add(1),await Ru(r),r.da.set("Offline"),n||(n=()=>Xb(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{fe(Js,"Retrying IndexedDB access"),await n(),r.Ta.delete(1),await of(r)})}function n1(r,e){return e().catch(n=>Vh(r,n,e))}async function lf(r){const e=Ce(r),n=es(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:Fp;for(;j4(e);)try{const o=await E4(e.localStore,s);if(o===null){e.ha.length===0&&n.N_();break}s=o.batchId,z4(e,o)}catch(o){await Vh(e,o)}r1(e)&&i1(e)}function j4(r){return ra(r)&&r.ha.length<10}function z4(r,e){r.ha.push(e);const n=es(r);n.M_()&&n.Y_&&n.Z_(e.mutations)}function r1(r){return ra(r)&&!es(r).F_()&&r.ha.length>0}function i1(r){es(r).start()}async function B4(r){es(r).ta()}async function q4(r){const e=es(r);for(const n of r.ha)e.Z_(n.mutations)}async function H4(r,e,n){const s=r.ha.shift(),o=Xp.from(s,e,n);await n1(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await lf(r)}async function F4(r,e){e&&es(r).Y_&&await async function(s,o){if(function(h){return SN(h)&&h!==ie.ABORTED}(o.code)){const u=s.ha.shift();es(s).O_(),await n1(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await lf(s)}}(r,e),r1(r)&&i1(r)}async function fE(r,e){const n=Ce(r);n.asyncQueue.verifyOperationInProgress(),fe(Js,"RemoteStore received new credentials");const s=ra(n);n.Ta.add(3),await Ru(n),s&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await of(n)}async function G4(r,e){const n=Ce(r);e?(n.Ta.delete(2),await of(n)):e||(n.Ta.add(2),await Ru(n),n.da.set("Unknown"))}function Oo(r){return r.Ra||(r.Ra=function(n,s,o){const u=Ce(n);return u.ra(),new I4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:V4.bind(null,r),n_:P4.bind(null,r),i_:L4.bind(null,r),j_:U4.bind(null,r)}),r.Ia.push(async e=>{e?(r.Ra.O_(),ag(r)?sg(r):r.da.set("Unknown")):(await r.Ra.stop(),t1(r))})),r.Ra}function es(r){return r.Va||(r.Va=function(n,s,o){const u=Ce(n);return u.ra(),new N4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:B4.bind(null,r),i_:F4.bind(null,r),X_:q4.bind(null,r),ea:H4.bind(null,r)}),r.Ia.push(async e=>{e?(r.Va.O_(),await lf(r)):(await r.Va.stop(),r.ha.length>0&&(fe(Js,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new og(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(r,e){if(ti("AsyncQueue",`${e}: ${r}`),No(r))return new de(ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=Kl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.ma=new ut(ve.comparator)}track(e){const n=e.doc.key,s=this.ma.get(n);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(n,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(n):e.type===1&&s.type===2?this.ma=this.ma.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,s)=>{e.push(s)}),e}}class To{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new To(e,n,co.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class Q4{constructor(){this.queries=mE(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=mE(),u.forEach((h,m)=>{for(const p of m.ya)p.onError(s)})})(this,new de(ie.ABORTED,"Firestore shutting down"))}}function mE(){return new na(r=>wb(r),Jh)}async function s1(r,e){const n=Ce(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.wa()&&e.Sa()&&(s=2):(u=new $4,s=e.Sa()?0:1);try{switch(s){case 0:u.pa=await n.onListen(o,!0);break;case 1:u.pa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=lg(h,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ya.push(e),e.Da(n.onlineState),u.pa&&e.va(u.pa)&&ug(n)}async function a1(r,e){const n=Ce(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ya.indexOf(e);h>=0&&(u.ya.splice(h,1),u.ya.length===0?o=e.Sa()?0:1:!u.wa()&&e.Sa()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function K4(r,e){const n=Ce(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ya)m.va(o)&&(s=!0);h.pa=o}}s&&ug(n)}function Y4(r,e,n){const s=Ce(r),o=s.queries.get(e);if(o)for(const u of o.ya)u.onError(n);s.queries.delete(e)}function ug(r){r.ba.forEach(e=>{e.next()})}var mp,pE;(pE=mp||(mp={})).Ca="default",pE.Cache="cache";class o1{constructor(e,n,s){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new To(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const s=n!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.key=e}}class u1{constructor(e){this.key=e}}class X4{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ue(),this.mutatedKeys=Ue(),this.Ha=Ab(e),this.Ja=new co(this.Ha)}get Ya(){return this.Ga}Za(e,n){const s=n?n.Xa:new dE,o=n?n.Ja:this.Ja;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,w)=>{const A=o.get(_),O=ef(this.query,w)?w:null,V=!!A&&this.mutatedKeys.has(A.key),G=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let U=!1;A&&O?A.data.isEqual(O.data)?V!==G&&(s.track({type:3,doc:O}),U=!0):this.eu(A,O)||(s.track({type:2,doc:O}),U=!0,(p&&this.Ha(O,p)>0||g&&this.Ha(O,g)<0)&&(m=!0)):!A&&O?(s.track({type:0,doc:O}),U=!0):A&&!O&&(s.track({type:1,doc:A}),U=!0,(p||g)&&(m=!0)),U&&(O?(h=h.add(O),u=G?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{Ja:h,Xa:s,Cs:m,mutatedKeys:u}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const h=e.Xa.ga();h.sort((_,w)=>function(O,V){const G=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:U})}};return G(O)-G(V)}(_.type,w.type)||this.Ha(_.doc,w.doc)),this.tu(s),o=o!=null&&o;const m=n&&!o?this.nu():[],p=this.ja.size===0&&this.current&&!o?1:0,g=p!==this.za;return this.za=p,h.length!==0||g?{snapshot:new To(this.query,e.Ja,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:m}:{ru:m}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new dE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ue(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const n=[];return e.forEach(s=>{this.ja.has(s)||n.push(new u1(s))}),this.ja.forEach(s=>{e.has(s)||n.push(new l1(s))}),n}su(e){this.Ga=e.$s,this.ja=Ue();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return To.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const cg="SyncEngine";class W4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Z4{constructor(e){this.key=e,this._u=!1}}class J4{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.au={},this.uu=new na(m=>wb(m),Jh),this.cu=new Map,this.lu=new Set,this.hu=new ut(ve.comparator),this.Pu=new Map,this.Tu=new Jp,this.Iu={},this.Eu=new Map,this.du=Eo.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function eD(r,e,n=!0){const s=p1(r);let o;const u=s.uu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.ou()):o=await c1(s,e,n,!0),o}async function tD(r,e){const n=p1(r);await c1(n,e,!0,!1)}async function c1(r,e,n,s){const o=await T4(r.localStore,yr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await nD(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&Jb(r.remoteStore,o),m}async function nD(r,e,n,s,o){r.Ru=(w,A,O)=>async function(G,U,q,W){let $=U.view.Za(q);$.Cs&&($=await oE(G.localStore,U.query,!1).then(({documents:I})=>U.view.Za(I,$)));const ae=W&&W.targetChanges.get(U.targetId),oe=W&&W.targetMismatches.get(U.targetId)!=null,pe=U.view.applyChanges($,G.isPrimaryClient,ae,oe);return yE(G,U.targetId,pe.ru),pe.snapshot}(r,w,A,O);const u=await oE(r.localStore,e,!0),h=new X4(e,u.$s),m=h.Za(u.documents),p=Su.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);yE(r,n,g.ru);const _=new W4(e,n,h);return r.uu.set(e,_),r.cu.has(n)?r.cu.get(n).push(e):r.cu.set(n,[e]),g.snapshot}async function rD(r,e,n){const s=Ce(r),o=s.uu.get(e),u=s.cu.get(o.targetId);if(u.length>1)return s.cu.set(o.targetId,u.filter(h=>!Jh(h,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await fp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&rg(s.remoteStore,o.targetId),pp(s,o.targetId)}).catch(Io)):(pp(s,o.targetId),await fp(s.localStore,o.targetId,!0))}async function iD(r,e){const n=Ce(r),s=n.uu.get(e),o=n.cu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),rg(n.remoteStore,s.targetId))}async function sD(r,e,n){const s=fD(r);try{const o=await function(h,m){const p=Ce(h),g=It.now(),_=m.reduce((O,V)=>O.add(V.key),Ue());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let V=ni(),G=Ue();return p.Bs.getEntries(O,_).next(U=>{V=U,V.forEach((q,W)=>{W.isValidDocument()||(G=G.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,V)).next(U=>{w=U;const q=[];for(const W of m){const $=TN(W,w.get(W.key).overlayedDocument);$!=null&&q.push(new os(W.key,$,pb($.value.mapValue),Fn.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,q,m)}).next(U=>{A=U;const q=U.applyToLocalDocumentSet(w,G);return p.documentOverlayCache.saveOverlays(O,U.batchId,q)})}).then(()=>({batchId:A.batchId,changes:Sb(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Iu[h.currentUser.toKey()];g||(g=new ut(Me)),g=g.insert(m,p),h.Iu[h.currentUser.toKey()]=g}(s,o.batchId,n),await Cu(s,o.changes),await lf(s.remoteStore)}catch(o){const u=lg(o,"Failed to persist write");n.reject(u)}}async function h1(r,e){const n=Ce(r);try{const s=await v4(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Pu.get(u);h&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h._u=!0:o.modifiedDocuments.size>0?$e(h._u,14607):o.removedDocuments.size>0&&($e(h._u,42227),h._u=!1))}),await Cu(n,s,e)}catch(s){await Io(s)}}function gE(r,e,n){const s=Ce(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.uu.forEach((u,h)=>{const m=h.view.Da(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Ce(h);p.onlineState=m;let g=!1;p.queries.forEach((_,w)=>{for(const A of w.ya)A.Da(m)&&(g=!0)}),g&&ug(p)}(s.eventManager,e),o.length&&s.au.j_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function aD(r,e,n){const s=Ce(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Pu.get(e),u=o&&o.key;if(u){let h=new ut(ve.comparator);h=h.insert(u,Wt.newNoDocument(u,Re.min()));const m=Ue().add(u),p=new sf(Re.min(),new Map,new ut(Me),h,m);await h1(s,p),s.hu=s.hu.remove(u),s.Pu.delete(e),hg(s)}else await fp(s.localStore,e,!1).then(()=>pp(s,e,n)).catch(Io)}async function oD(r,e){const n=Ce(r),s=e.batch.batchId;try{const o=await y4(n.localStore,e);d1(n,s,null),f1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Cu(n,o)}catch(o){await Io(o)}}async function lD(r,e,n){const s=Ce(r);try{const o=await function(h,m){const p=Ce(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>($e(w!==null,37113),_=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(s.localStore,e);d1(s,e,n),f1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Cu(s,o)}catch(o){await Io(o)}}function f1(r,e){(r.Eu.get(e)||[]).forEach(n=>{n.resolve()}),r.Eu.delete(e)}function d1(r,e,n){const s=Ce(r);let o=s.Iu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Iu[s.currentUser.toKey()]=o}}function pp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.cu.get(e))r.uu.delete(s),n&&r.au.Vu(s,n);r.cu.delete(e),r.isPrimaryClient&&r.Tu.Hr(e).forEach(s=>{r.Tu.containsKey(s)||m1(r,s)})}function m1(r,e){r.lu.delete(e.path.canonicalString());const n=r.hu.get(e);n!==null&&(rg(r.remoteStore,n),r.hu=r.hu.remove(e),r.Pu.delete(n),hg(r))}function yE(r,e,n){for(const s of n)s instanceof l1?(r.Tu.addReference(s.key,e),uD(r,s)):s instanceof u1?(fe(cg,"Document no longer in limbo: "+s.key),r.Tu.removeReference(s.key,e),r.Tu.containsKey(s.key)||m1(r,s.key)):we(19791,{mu:s})}function uD(r,e){const n=e.key,s=n.path.canonicalString();r.hu.get(n)||r.lu.has(s)||(fe(cg,"New document in limbo: "+n),r.lu.add(s),hg(r))}function hg(r){for(;r.lu.size>0&&r.hu.size<r.maxConcurrentLimboResolutions;){const e=r.lu.values().next().value;r.lu.delete(e);const n=new ve(it.fromString(e)),s=r.du.next();r.Pu.set(s,new Z4(n)),r.hu=r.hu.insert(n,s),Jb(r.remoteStore,new Bi(yr(Zh(n.path)),s,"TargetPurposeLimboResolution",Yh.le))}}async function Cu(r,e,n){const s=Ce(r),o=[],u=[],h=[];s.uu.isEmpty()||(s.uu.forEach((m,p)=>{h.push(s.Ru(p,e,n).then(g=>{var _;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(_=n==null?void 0:n.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=tg.Rs(p.targetId,g);u.push(w)}}))}),await Promise.all(h),s.au.j_(o),await async function(p,g){const _=Ce(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>se.forEach(g,A=>se.forEach(A.ds,O=>_.persistence.referenceDelegate.addReference(w,A.targetId,O)).next(()=>se.forEach(A.As,O=>_.persistence.referenceDelegate.removeReference(w,A.targetId,O)))))}catch(w){if(!No(w))throw w;fe(ng,"Failed to update sequence numbers: "+w)}for(const w of g){const A=w.targetId;if(!w.fromCache){const O=_.xs.get(A),V=O.snapshotVersion,G=O.withLastLimboFreeSnapshotVersion(V);_.xs=_.xs.insert(A,G)}}}(s.localStore,u))}async function cD(r,e){const n=Ce(r);if(!n.currentUser.isEqual(e)){fe(cg,"User change. New user:",e.toKey());const s=await Yb(n.localStore,e);n.currentUser=e,function(u,h){u.Eu.forEach(m=>{m.forEach(p=>{p.reject(new de(ie.CANCELLED,h))})}),u.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Cu(n,s.ks)}}function hD(r,e){const n=Ce(r),s=n.Pu.get(e);if(s&&s._u)return Ue().add(s.key);{let o=Ue();const u=n.cu.get(e);if(!u)return o;for(const h of u){const m=n.uu.get(h);o=o.unionWith(m.view.Ya)}return o}}function p1(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=h1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aD.bind(null,e),e.au.j_=K4.bind(null,e.eventManager),e.au.Vu=Y4.bind(null,e.eventManager),e}function fD(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lD.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=af(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return g4(this.persistence,new d4,e.initialUser,this.serializer)}yu(e){return new Kb(eg.fi,this.serializer)}pu(e){return new w4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class dD extends Ph{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){$e(this.persistence.referenceDelegate instanceof kh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ZN(s,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new Kb(s=>kh.fi(s,n),this.serializer)}}class gp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>gE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=cD.bind(null,this.syncEngine),await G4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Q4}()}createDatastore(e){const n=af(e.databaseInfo.databaseId),s=function(u){return new C4(u)}(e.databaseInfo);return function(u,h,m,p){return new O4(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,h,m){return new k4(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>gE(this.syncEngine,n,0),function(){return cE.C()?new cE:new A4}())}createSyncEngine(e,n){return function(o,u,h,m,p,g,_){const w=new J4(o,u,h,m,p,g);return _&&(w.Au=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ce(o);fe(Js,"RemoteStore shutting down."),u.Ta.add(5),await Ru(u),u.Ea.shutdown(),u.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}gp.provider={build:()=>new gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):ti("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class mD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=sb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{fe(ts,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(fe(ts,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=lg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Pm(r,e){r.asyncQueue.verifyOperationInProgress(),fe(ts,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Yb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function vE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await pD(r);fe(ts,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>fE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>fE(e.remoteStore,o)),r._onlineComponents=e}async function pD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(ts,"Using user provided OfflineComponentProvider");try{await Pm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await Pm(r,new Ph)}}else fe(ts,"Using default OfflineComponentProvider"),await Pm(r,new dD(void 0));return r._offlineComponents}async function y1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(ts,"Using user provided OnlineComponentProvider"),await vE(r,r._uninitializedComponentsProvider._online)):(fe(ts,"Using default OnlineComponentProvider"),await vE(r,new gp))),r._onlineComponents}function gD(r){return y1(r).then(e=>e.syncEngine)}async function yp(r){const e=await y1(r),n=e.eventManager;return n.onListen=eD.bind(null,e.syncEngine),n.onUnlisten=rD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iD.bind(null,e.syncEngine),n}function yD(r,e,n={}){const s=new Ki;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const _=new g1({next:A=>{_.Cu(),h.enqueueAndForget(()=>a1(u,w));const O=A.docs.has(m);!O&&A.fromCache?g.reject(new de(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&p&&p.source==="server"?g.reject(new de(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),w=new o1(Zh(m.path),_,{includeMetadataChanges:!0,La:!0});return s1(u,w)}(await yp(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(r,e,n){if(!n)throw new de(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function vD(r,e,n,s){if(e===!0&&s===!0)throw new de(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function EE(r){if(!ve.isDocumentKey(r))throw new de(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function TE(r){if(ve.isDocumentKey(r))throw new de(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function uf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we(12329,{type:typeof r})}function Gn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uf(r);throw new de(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="firestore.googleapis.com",bE=!0;class wE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=E1,this.ssl=bE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:bE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Qb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XN)throw new de(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v1((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new CI;switch(s.type){case"firstParty":return new OI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Gh("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=_E.get(n);s&&(fe("ComponentProvider","Removing Datastore"),_E.delete(n),s.terminate())}(this),Promise.resolve()}}function _D(r,e,n,s={}){var o;r=Gn(r,cf);const u=vu(e),h=r._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;h.host!==E1&&h.host!==p&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!Zr(g,m)&&(r._setSettings(g),u&&(uT(`https://${p}`),Gh("Firestore",!0)),s.mockUserToken)){let _,w;if(typeof s.mockUserToken=="string")_=s.mockUserToken,w=Xt.MOCK_USER;else{_=PS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new de(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Xt(A)}r._authCredentials=new II(new rb(_,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ia(this.firestore,e,this._query)}}class Zt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}}class Yi extends ia{constructor(e,n,s){super(e,n,Zh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new ve(e))}withConverter(e){return new Yi(this.firestore,e,this._path)}}function io(r,e,...n){if(r=wt(r),_1("collection","path",e),r instanceof cf){const s=it.fromString(e,...n);return TE(s),new Yi(r,null,s)}{if(!(r instanceof Zt||r instanceof Yi))throw new de(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return TE(s),new Yi(r.firestore,null,s)}}function qi(r,e,...n){if(r=wt(r),arguments.length===1&&(e=sb.newId()),_1("doc","path",e),r instanceof cf){const s=it.fromString(e,...n);return EE(s),new Zt(r,null,new ve(s))}{if(!(r instanceof Zt||r instanceof Yi))throw new de(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return EE(s),new Zt(r.firestore,r instanceof Yi?r.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="AsyncQueue";class xE{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Wb(this,"async_queue_retry"),this.ec=()=>{const s=Vm();s&&fe(AE,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const n=Vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=Vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new Ki;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!No(e))throw e;fe(AE,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,ti("INTERNAL UNHANDLED ERROR: ",SE(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=n,n}enqueueAfterDelay(e,n,s){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const o=og.createAndSchedule(this,e,n,s,u=>this.oc(u));return this.Hu.push(o),o}nc(){this.Ju&&we(47125,{_c:SE(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function SE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class ea extends cf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new xE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xE(e),this._firestoreClient=void 0,await e}}}function ED(r,e){const n=typeof r=="object"?r:dT(),s=typeof r=="string"?r:Nh,o=Mp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=kS("firestore");u&&_D(o,...u)}return o}function fg(r){if(r._terminated)throw new de(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||TD(r),r._firestoreClient}function TD(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,g,_){return new QI(m,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,v1(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new mD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bo(Gt.fromBase64String(e))}catch(n){throw new de(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bo(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=/^__.*__$/;class wD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,n,this.fieldTransforms):new xu(e,this.data,n,this.fieldTransforms)}}class T1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function b1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{hc:r})}}class ff{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Pc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new ff(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tc({path:s,Ec:!1});return o.dc(e),o}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tc({path:s,Ec:!1});return o.Pc(),o}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Lh(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(b1(this.hc)&&bD.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class AD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||af(e)}gc(e,n,s,o=!1){return new ff({hc:e,methodName:n,fc:s,path:Ft.emptyPath(),Ec:!1,mc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function df(r){const e=r._freezeSettings(),n=af(r._databaseId);return new AD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function w1(r,e,n,s,o,u={}){const h=r.gc(u.merge||u.mergeFields?2:0,e,n,o);_g("Data must be an object, but it was:",h,s);const m=x1(s,h);let p,g;if(u.merge)p=new bn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const w of u.mergeFields){const A=vp(e,w,n);if(!h.contains(A))throw new de(ie.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);R1(_,A)||_.push(A)}p=new bn(_),g=h.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=h.fieldTransforms;return new wD(new hn(m),p,g)}class mf extends sa{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mf}}function A1(r,e,n){return new ff({hc:3,fc:e.settings.fc,methodName:r._methodName,Ec:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pg extends sa{_toFieldTransform(e){return new nf(e.path,new fu)}isEqual(e){return e instanceof pg}}class gg extends sa{constructor(e,n){super(e),this.yc=n}_toFieldTransform(e){const n=A1(this,e,!0),s=this.yc.map(u=>aa(u,n)),o=new vo(s);return new nf(e.path,o)}isEqual(e){return e instanceof gg&&Zr(this.yc,e.yc)}}class yg extends sa{constructor(e,n){super(e),this.yc=n}_toFieldTransform(e){const n=A1(this,e,!0),s=this.yc.map(u=>aa(u,n)),o=new _o(s);return new nf(e.path,o)}isEqual(e){return e instanceof yg&&Zr(this.yc,e.yc)}}class vg extends sa{constructor(e,n){super(e),this.wc=n}_toFieldTransform(e){const n=new du(e.serializer,Ib(e.serializer,this.wc));return new nf(e.path,n)}isEqual(e){return e instanceof vg&&this.wc===e.wc}}function xD(r,e,n,s){const o=r.gc(1,e,n);_g("Data must be an object, but it was:",o,s);const u=[],h=hn.empty();as(s,(p,g)=>{const _=Eg(e,p,n);g=wt(g);const w=o.Ac(_);if(g instanceof mf)u.push(_);else{const A=aa(g,w);A!=null&&(u.push(_),h.set(_,A))}});const m=new bn(u);return new T1(h,m,o.fieldTransforms)}function SD(r,e,n,s,o,u){const h=r.gc(1,e,n),m=[vp(e,s,n)],p=[o];if(u.length%2!=0)throw new de(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(vp(e,u[A])),p.push(u[A+1]);const g=[],_=hn.empty();for(let A=m.length-1;A>=0;--A)if(!R1(g,m[A])){const O=m[A];let V=p[A];V=wt(V);const G=h.Ac(O);if(V instanceof mf)g.push(O);else{const U=aa(V,G);U!=null&&(g.push(O),_.set(O,U))}}const w=new bn(g);return new T1(_,w,h.fieldTransforms)}function RD(r,e,n,s=!1){return aa(n,r.gc(s?4:3,e))}function aa(r,e){if(S1(r=wt(r)))return _g("Unsupported field value:",e,r),x1(r,e);if(r instanceof sa)return function(s,o){if(!b1(o.hc))throw o.Vc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Vc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=aa(m,o.Rc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=wt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Ib(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=It.fromDate(s);return{timestampValue:Mh(o.serializer,u)}}if(s instanceof It){const u=new It(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Mh(o.serializer,u)}}if(s instanceof dg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof bo)return{bytesValue:zb(o.serializer,s._byteString)};if(s instanceof Zt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Vc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof mg)return function(h,m){return{mapValue:{fields:{[db]:{stringValue:mb},[Dh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Vc("VectorValues must only contain numeric values.");return Yp(m.serializer,g)})}}}}}}(s,o);throw o.Vc(`Unsupported field value: ${uf(s)}`)}(r,e)}function x1(r,e){const n={};return ob(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):as(r,(s,o)=>{const u=aa(o,e.Ic(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function S1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof It||r instanceof dg||r instanceof bo||r instanceof Zt||r instanceof sa||r instanceof mg)}function _g(r,e,n){if(!S1(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=uf(n);throw s==="an object"?e.Vc(r+" a custom object"):e.Vc(r+" "+s)}}function vp(r,e,n){if((e=wt(e))instanceof hf)return e._internalPath;if(typeof e=="string")return Eg(r,e);throw Lh("Field path arguments must be of type string or ",r,!1,void 0,n)}const CD=new RegExp("[~\\*/\\[\\]]");function Eg(r,e,n){if(e.search(CD)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new hf(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Lh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new de(ie.INVALID_ARGUMENT,m+r+p)}function R1(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ID(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ID extends C1{data(){return super.data()}}function pf(r,e){return typeof e=="string"?Eg(r,e):e instanceof hf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tg{}class I1 extends Tg{}function _p(r,e,...n){let s=[];e instanceof Tg&&s.push(e),s=s.concat(n),function(u){const h=u.filter(p=>p instanceof bg).length,m=u.filter(p=>p instanceof gf).length;if(h>1||h>0&&m>0)throw new de(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class gf extends I1{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new gf(e,n,s)}_apply(e){const n=this._parse(e);return N1(e._query,n),new ia(e.firestore,e.converter,ap(e._query,n))}_parse(e){const n=df(e.firestore);return function(u,h,m,p,g,_,w){let A;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new de(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){NE(w,_);const V=[];for(const G of w)V.push(IE(p,u,G));A={arrayValue:{values:V}}}else A=IE(p,u,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||NE(w,_),A=RD(m,h,w,_==="in"||_==="not-in");return bt.create(g,_,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function CE(r,e,n){const s=e,o=pf("where",r);return gf._create(o,s,n)}class bg extends Tg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)N1(h,p),h=ap(h,p)}(e._query,n),new ia(e.firestore,e.converter,ap(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wg extends I1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new wg(e,n)}_apply(e){const n=function(o,u,h){if(o.startAt!==null)throw new de(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new de(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hu(u,h)}(e._query,this._field,this._direction);return new ia(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Do(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function Ep(r,e="asc"){const n=e,s=pf("orderBy",r);return wg._create(s,n)}function IE(r,e,n){if(typeof(n=wt(n))=="string"){if(n==="")throw new de(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bb(e)&&n.indexOf("/")!==-1)throw new de(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!ve.isDocumentKey(s))throw new de(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return q_(r,new ve(s))}if(n instanceof Zt)return q_(r,n._key);throw new de(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uf(n)}.`)}function NE(r,e){if(!Array.isArray(r)||r.length===0)throw new de(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function N1(r,e){const n=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class DD{convertValue(e,n="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return as(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Dh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>gt(h.doubleValue));return new mg(u)}convertGeoPoint(e){return new dg(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Wh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const n=Wi(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);$e($b(s),9688,{name:e});const o=new uu(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(n)||ti(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class O1 extends C1{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(pf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class vh extends O1{data(e={}){return super.data(e)}}class OD{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Xl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new vh(this._firestore,this._userDataWriter,s.key,s,new Xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),_=h.indexOf(m.doc.key)),{type:MD(m.type),doc:p,oldIndex:g,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function MD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(r){r=Gn(r,Zt);const e=Gn(r.firestore,ea);return yD(fg(e),r._key).then(n=>V1(e,r,n))}class k1 extends DD{constructor(e){super(),this.firestore=e}convertBytes(e){return new bo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function kD(r,e,n){r=Gn(r,Zt);const s=Gn(r.firestore,ea),o=D1(r.converter,e);return Ag(s,[w1(df(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Fn.none())])}function Pi(r,e,n,...s){r=Gn(r,Zt);const o=Gn(r.firestore,ea),u=df(o);let h;return h=typeof(e=wt(e))=="string"||e instanceof hf?SD(u,"updateDoc",r._key,e,n,s):xD(u,"updateDoc",r._key,e),Ag(o,[h.toMutation(r._key,Fn.exists(!0))])}function Tp(r,e){const n=Gn(r.firestore,ea),s=qi(r),o=D1(r.converter,e);return Ag(n,[w1(df(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Fn.exists(!1))]).then(()=>s)}function bp(r,...e){var n,s,o;r=wt(r);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||RE(e[h])||(u=e[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(RE(e[h])){const w=e[h];e[h]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[h+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[h+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,_;if(r instanceof Zt)g=Gn(r.firestore,ea),_=Zh(r._key.path),p={next:w=>{e[h]&&e[h](V1(g,r,w))},error:e[h+1],complete:e[h+2]};else{const w=Gn(r,ia);g=Gn(w.firestore,ea),_=w._query;const A=new k1(g);p={next:O=>{e[h]&&e[h](new OD(g,A,w,O))},error:e[h+1],complete:e[h+2]},ND(r._query)}return function(A,O,V,G){const U=new g1(G),q=new o1(O,U,V);return A.asyncQueue.enqueueAndForget(async()=>s1(await yp(A),q)),()=>{U.Cu(),A.asyncQueue.enqueueAndForget(async()=>a1(await yp(A),q))}}(fg(g),_,m,p)}function Ag(r,e){return function(s,o){const u=new Ki;return s.asyncQueue.enqueueAndForget(async()=>sD(await gD(s),o,u)),u.promise}(fg(r),e)}function V1(r,e,n){const s=n.docs.get(e._key),o=new k1(r);return new O1(r,o,e._key,s,new Xl(n.hasPendingWrites,n.fromCache),e.converter)}function _h(){return new pg("serverTimestamp")}function DE(...r){return new gg("arrayUnion",r)}function ah(...r){return new yg("arrayRemove",r)}function VD(r){return new vg("increment",r)}(function(e,n=!0){(function(o){Co=o})(So),ho(new Ys("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new ea(new NI(s.getProvider("auth-internal")),new MI(h,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(g.options.projectId,_)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),$i(N_,D_,e),$i(N_,D_,"esm2017")})();const PD={apiKey:"AIzaSyAUOPWkhgq2lZdNksIPBGhCjZHTg3lEbbI",authDomain:"cyberguard-8e85b.firebaseapp.com",projectId:"cyberguard-8e85b",storageBucket:"cyberguard-8e85b.firebasestorage.app",messagingSenderId:"50772002803",appId:"1:50772002803:web:6cad7e3a8e9eb96f937486",measurementId:"G-VPCZBGTB9B"},P1=fT(PD),ns=AI(P1),Tn=ED(P1);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function LD(r,e,n,s){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(_){try{g(s.next(_))}catch(w){h(w)}}function p(_){try{g(s.throw(_))}catch(w){h(w)}}function g(_){_.done?u(_.value):o(_.value).then(m,p)}g((s=s.apply(r,[])).next())})}function UD(r,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,h;return h={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(g){return function(_){return p([g,_])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(u=g[0]&2?o.return:g[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,g[1])).done)return u;switch(o=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){n.label=g[1];break}if(g[0]===6&&n.label<u[1]){n.label=u[1],u=g;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(g);break}u[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(r,n)}catch(_){g=[6,_],o=0}finally{s=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var so=function(){return so=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},so.apply(this,arguments)},L1=function(r){return{loading:r==null,value:r}},jD=function(){return function(r,e){switch(e.type){case"error":return so(so({},r),{error:e.error,loading:!1,value:void 0});case"reset":return L1(e.defaultValue);case"value":return so(so({},r),{error:void 0,loading:!1,value:e.value});default:return r}}},zD=function(r){var e=r?r():void 0,n=z.useReducer(jD(),L1(e)),s=n[0],o=n[1],u=z.useCallback(function(){var p=r?r():void 0;o({type:"reset",defaultValue:p})},[r]),h=z.useCallback(function(p){o({type:"error",error:p})},[]),m=z.useCallback(function(p){o({type:"value",value:p})},[]);return z.useMemo(function(){return{error:s.error,loading:s.loading,reset:u,setError:h,setValue:m,value:s.value}},[s.error,s.loading,u,h,m,s.value])},yf=function(r,e){var n=zD(function(){return r.currentUser}),s=n.error,o=n.loading,u=n.setError,h=n.setValue,m=n.value;return z.useEffect(function(){var p=fC(r,function(g){return LD(void 0,void 0,void 0,function(){var _;return UD(this,function(w){switch(w.label){case 0:return[3,4];case 1:return w.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return w.sent(),[3,4];case 3:return _=w.sent(),u(_),[3,4];case 4:return h(g),[2]}})})},u);return function(){p()}},[r]),[m,o,s]};function BD(){const r=is(),[e,n]=yf(ns),[s,o]=z.useState({email:"",password:""});z.useEffect(()=>{!n&&e&&r("/dashboard",{replace:!0})},[e,n,r]);const u=m=>{o({...s,[m.target.name]:m.target.value})},h=async m=>{m.preventDefault();try{await oC(ns,s.email,s.password),Se.success("Login realizado com sucesso!"),r("/dashboard",{replace:!0})}catch(p){p.code==="auth/user-not-found"?Se.error("Usurio no encontrado."):p.code==="auth/wrong-password"?Se.error("Senha incorreta."):Se.error("Erro ao fazer login: "+p.message)}};return n?T.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:T.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})}):T.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"max-w-4xl w-full grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-10 items-center",children:[T.jsxs("div",{className:"space-y-4 md:space-y-6 text-center md:text-left",children:[T.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold",children:"Bem-vindo de volta"}),T.jsx("p",{className:"text-gray-400 text-base sm:text-lg",children:"Entre na sua conta para acessar o Dashboard."})]}),T.jsxs("form",{onSubmit:h,className:"bg-[#0e0e0e] rounded-2xl p-6 sm:p-8 shadow-lg space-y-5 sm:space-y-6 w-full",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"E-mail"}),T.jsx("input",{type:"email",name:"email",value:s.email,onChange:u,className:"w-full bg-[#1a1a1a] text-white rounded-lg px-4 py-2.5 sm:py-3 focus:ring-2 focus:ring-cyan-500 text-sm sm:text-base",placeholder:"Seu e-mail",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Senha"}),T.jsx("input",{type:"password",name:"password",value:s.password,onChange:u,className:"w-full bg-[#1a1a1a] text-white rounded-lg px-4 py-2.5 sm:py-3 focus:ring-2 focus:ring-cyan-500 text-sm sm:text-base",placeholder:"Sua senha",required:!0})]}),T.jsx("button",{className:"w-full bg-gradient-to-r from-red-700 to-red-500 hover:from-red-600 hover:to-red-400 py-2.5 sm:py-3 rounded-lg text-white font-semibold hover:opacity-90 transition-opacity text-sm sm:text-base",children:"Entrar"}),T.jsxs("p",{className:"text-sm text-center text-gray-400",children:["No tem uma conta?"," ",T.jsx(Hi,{to:"/register",className:"text-cyan-400 hover:underline",children:"Criar conta"})]})]})]})})}function qD(){const r=is(),[e,n]=z.useState({name:"",email:"",password:""}),s=u=>{n({...e,[u.target.name]:u.target.value})},o=async u=>{u.preventDefault();try{const h=await aC(ns,e.email,e.password);await uC(h.user,{displayName:e.name}),Se.success("Conta criada com sucesso!"),r("/chat")}catch(h){Se.error("Erro ao criar conta: "+h.message)}};return T.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center px-4",children:T.jsxs("div",{className:"max-w-4xl w-full grid md:grid-cols-2 gap-10 items-center",children:[T.jsxs("div",{className:"space-y-6",children:[T.jsx("h1",{className:"text-4xl font-bold",children:"Crie sua conta"}),T.jsx("p",{className:"text-gray-400 text-lg",children:"Cadastre-se e tenha acesso  plataforma."})]}),T.jsxs("form",{onSubmit:o,className:"bg-[#0e0e0e] rounded-2xl p-8 shadow-lg space-y-6 w-full",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Nome Completo"}),T.jsx("input",{type:"text",name:"name",value:e.name,onChange:s,className:"w-full bg-[#1a1a1a] text-white rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500",placeholder:"Seu nome",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"E-mail"}),T.jsx("input",{type:"email",name:"email",value:e.email,onChange:s,className:"w-full bg-[#1a1a1a] text-white rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500",placeholder:"Seu e-mail",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Senha"}),T.jsx("input",{type:"password",name:"password",value:e.password,onChange:s,className:"w-full bg-[#1a1a1a] text-white rounded-lg px-4 py-2 focus:ring-2 focus:ring-cyan-500",placeholder:"Sua senha",required:!0})]}),T.jsx("button",{className:"w-full bg-gradient-to-r from-red-700 to-red-500 hover:from-red-600 hover:to-red-400 py-2 rounded-lg text-white font-semibold hover:opacity-90",children:"Criar conta"}),T.jsxs("p",{className:"text-sm text-center text-gray-400",children:["J tem uma conta?"," ",T.jsx(Hi,{to:"/",className:"text-cyan-400 hover:underline",children:"Entrar"})]})]})]})})}/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FD=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),OE=r=>{const e=FD(r);return e.charAt(0).toUpperCase()+e.slice(1)},U1=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),GD=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $D={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=z.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>z.createElement("svg",{ref:p,...$D,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:U1("lucide",o),...!u&&!GD(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,_])=>z.createElement(g,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=(r,e)=>{const n=z.forwardRef(({className:s,...o},u)=>z.createElement(QD,{ref:u,iconNode:e,className:U1(`lucide-${HD(OE(r))}`,`lucide-${r}`,s),...o}));return n.displayName=OE(r),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],xg=an("arrow-left",KD);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],XD=an("award",YD);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ZD=an("chevron-down",WD);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],eO=an("chevron-right",JD);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ao=an("circle-check-big",tO);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rO=an("circle-play",nO);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],sO=an("file-text",iO);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],oO=an("lock",aO);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],uO=an("menu",lO);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Uh=an("message-square",cO);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Lm=an("search",hO);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],dO=an("send",fO);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],ME=an("thumbs-down",mO);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Um=an("thumbs-up",pO);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yO=an("x",gO);function vO(){var C,De,Ie,j,te,ce,Ae,k,ee,le;const r=is(),[e,n]=yf(ns),[s,o]=z.useState("todos"),[u,h]=z.useState(""),[m,p]=z.useState({}),[g,_]=z.useState(0),[w,A]=z.useState(!1),[O,V]=z.useState({completedCourses:0,inProgress:0,timeSpent:"0h 0m",achievements:0,streak:0,level:"Iniciante"}),[G,U]=z.useState([]),[q,W]=z.useState(!0),[$,ae]=z.useState(!1),[oe,pe]=z.useState(!1);z.useEffect(()=>{!n&&!e&&r("/login")},[e,n,r]),z.useEffect(()=>{if(!e)return;(async()=>{try{const he=qi(Tn,"users",e.uid),Ee=await M1(he);if(Ee.exists()){const ge=Ee.data();p(ge.progress||{}),V(ge.stats||O),U(ge.achievements||[])}else await kD(he,{email:e.email,displayName:e.displayName||e.email.split("@")[0],progress:{},stats:O,achievements:[],createdAt:new Date().toISOString()})}catch(he){console.error("Erro ao carregar dados:",he),Se.error("Erro ao carregar seus dados")}finally{W(!1)}})()},[e]),z.useEffect(()=>{const K=setInterval(()=>{_(he=>(he+1)%R.length)},4e3);return()=>clearInterval(K)},[]),z.useEffect(()=>{if(Object.keys(m).length>0){const K=Object.values(m).filter(ge=>ge>=100).length,he=Object.values(m).filter(ge=>ge>0&&ge<100).length;let Ee="Iniciante";K>=5?Ee="Avanado":K>=2&&(Ee="Intermedirio"),V(ge=>({...ge,completedCourses:K,inProgress:he,level:Ee}))}},[m]);const I=async()=>{try{await dC(ns),Se.success("Logout realizado com sucesso!"),r("/login")}catch{Se.error("Erro ao fazer logout")}},S=[{id:"todos",name:"Todos",icon:"",count:8},{id:"iniciante",name:"Iniciante",icon:"",count:4},{id:"avancado",name:"Avanado",icon:"",count:2},{id:"empresarial",name:"Empresa",icon:"",count:2},{id:"certificacao",name:"Certificado",icon:"",count:6}],R=[{id:"destaque-1",title:"Novo: Segurana em IoT",description:"Proteja dispositivos conectados contra ameaas modernas",badge:"LANAMENTO",color:"from-purple-600 to-blue-600"},{id:"destaque-2",title:"Certificao Internacional",description:"Certificao reconhecida pelo mercado",badge:"CERTIFICAO",color:"from-green-600 to-emerald-600"},{id:"destaque-3",title:"Workshop Gratuito",description:"Participe do nosso workshop sobre cibersegurana",badge:"EVENTO",color:"from-orange-600 to-red-600"}],M=[{id:"privacidade-dados",title:"Privacidade de Dados",description:"Aprenda como proteger suas informaes pessoais na era digital.",button:"CONTINUAR",icon:"",category:"iniciante",featured:!0,duration:"4h",level:"Iniciante",rating:4.8,students:"1.2k",lessons:12,certified:!0,tags:["Popular","Essencial"]},{id:"seguranca-internet",title:"Segurana na Internet",description:"Dicas prticas para navegar com segurana e evitar armadilhas online.",button:"CONTINUAR",icon:"",category:"iniciante",featured:!1,duration:"3h",level:"Iniciante",rating:4.6,students:"892",lessons:8,certified:!0,tags:["Bsico"]},{id:"phishing",title:"Ataques de Phishing",description:"Identifique e evite fraudes digitais e e-mails maliciosos.",button:"CONTINUAR",icon:"",category:"avancado",featured:!0,duration:"2.5h",level:"Intermedirio",rating:4.9,students:"567",lessons:6,certified:!1,tags:["Avanado","Hot"]},{id:"criptografia",title:"Criptografia Avanada",description:"Domine tcnicas avanadas de proteo de dados atravs da criptografia.",button:"COMEAR",icon:"",category:"avancado",featured:!1,duration:"6h",level:"Avanado",rating:4.7,students:"234",lessons:10,certified:!0,tags:["Complexo"]},{id:"seguranca-empresas",title:"Segurana Corporativa",description:"Proteja sua empresa contra ameaas cibernticas com estratgias corporativas.",button:"ACESSAR",icon:"",category:"empresarial",featured:!0,duration:"8h",level:"Avanado",rating:4.8,students:"456",lessons:14,certified:!0,tags:["Empresa","Premium"]},{id:"backup-seguro",title:"Backup e Recuperao",description:"Aprenda a fazer backups seguros e recuperar dados em caso de incidentes.",button:"CONTINUAR",icon:"",category:"iniciante",featured:!1,duration:"3h",level:"Iniciante",rating:4.5,students:"678",lessons:7,certified:!0,tags:["Prtico"]},{id:"lgpd",title:"LGPD e Conformidade",description:"Entenda a Lei Geral de Proteo de Dados e requirements de conformidade.",button:"VER CERTIFICADO",icon:"",category:"empresarial",featured:!0,duration:"5h",level:"Intermedirio",rating:4.9,students:"789",lessons:9,certified:!0,tags:["Legal","Obrigatrio"]},{id:"redes-seguras",title:"Segurana em Redes",description:"Proteja redes corporativas e domsticas contra invases.",button:"COMEAR",icon:"",category:"avancado",featured:!1,duration:"7h",level:"Avanado",rating:4.8,students:"345",lessons:11,certified:!0,tags:["Tcnico"]}],D=(s==="todos"?M:s==="certificacao"?M.filter(K=>K.certified):M.filter(K=>K.category===s)).filter(K=>K.title.toLowerCase().includes(u.toLowerCase())||K.description.toLowerCase().includes(u.toLowerCase())||K.tags.some(he=>he.toLowerCase().includes(u.toLowerCase())));return n||q?T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black text-white flex items-center justify-center",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-4"}),T.jsx("p",{className:"text-gray-400",children:"Carregando seus dados..."})]})}):T.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black text-white",children:[w&&T.jsx("div",{className:"fixed top-4 right-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white px-4 sm:px-6 py-3 sm:py-4 rounded-lg shadow-lg z-50 animate-bounce max-w-xs sm:max-w-sm",children:T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx("span",{className:"text-xl sm:text-2xl",children:""}),T.jsxs("div",{className:"text-sm sm:text-base",children:[T.jsx("div",{className:"font-bold",children:"Conquista Desbloqueada!"}),T.jsx("div",{className:"opacity-90",children:"Curso Concludo!"})]})]})}),T.jsx("header",{className:"border-b border-gray-800 bg-gray-900/50 backdrop-blur-sm sticky top-0 z-40",children:T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3 sm:py-4",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 w-10 h-10 sm:w-12 sm:h-12 rounded-xl flex items-center justify-center shadow-lg",children:T.jsx("span",{className:"font-bold text-white text-base sm:text-lg",children:"CG"})}),T.jsxs("div",{className:"hidden sm:block",children:[T.jsx("h1",{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Cyberguard"}),T.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Security Academy"})]})]}),T.jsxs("div",{className:"hidden lg:block relative flex-1 max-w-md mx-6",children:[T.jsx("input",{type:"text",placeholder:"Buscar cursos...",className:"w-full bg-gray-800 border border-gray-700 rounded-xl px-4 py-2.5 text-sm focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all",value:u,onChange:K=>h(K.target.value)}),T.jsx(Lm,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400"})]}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("button",{onClick:()=>pe(!oe),className:"lg:hidden p-2 bg-gray-800 rounded-lg border border-gray-700",children:T.jsx(Lm,{className:"w-5 h-5"})}),T.jsxs("div",{className:"hidden md:flex items-center space-x-3 bg-gray-800 rounded-xl px-3 py-2 border border-gray-700",children:[T.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:T.jsx("span",{className:"font-bold text-white text-sm sm:text-base",children:((De=(C=e==null?void 0:e.displayName)==null?void 0:C[0])==null?void 0:De.toUpperCase())||((j=(Ie=e==null?void 0:e.email)==null?void 0:Ie[0])==null?void 0:j.toUpperCase())||"U"})}),T.jsxs("div",{className:"text-xs sm:text-sm",children:[T.jsx("div",{className:"font-medium truncate max-w-[100px]",children:(e==null?void 0:e.displayName)||((te=e==null?void 0:e.email)==null?void 0:te.split("@")[0])}),T.jsx("div",{className:"text-gray-400",children:O.level})]}),T.jsx("button",{onClick:I,className:"text-gray-400 hover:text-red-400 transition-colors",title:"Sair",children:""})]}),T.jsx("button",{onClick:()=>ae(!$),className:"md:hidden p-2 bg-gray-800 rounded-lg border border-gray-700",children:$?T.jsx(yO,{className:"w-5 h-5"}):T.jsx(uO,{className:"w-5 h-5"})})]})]}),oe&&T.jsxs("div",{className:"lg:hidden mt-3 relative",children:[T.jsx("input",{type:"text",placeholder:"Buscar cursos...",className:"w-full bg-gray-800 border border-gray-700 rounded-xl px-4 py-2.5 text-sm focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-500/20",value:u,onChange:K=>h(K.target.value)}),T.jsx(Lm,{className:"absolute right-3 top-3 w-4 h-4 text-gray-400"})]}),$&&T.jsxs("div",{className:"md:hidden mt-3 bg-gray-800 rounded-xl p-4 border border-gray-700",children:[T.jsxs("div",{className:"flex items-center space-x-3 mb-4 pb-4 border-b border-gray-700",children:[T.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:T.jsx("span",{className:"font-bold text-white",children:((Ae=(ce=e==null?void 0:e.displayName)==null?void 0:ce[0])==null?void 0:Ae.toUpperCase())||((ee=(k=e==null?void 0:e.email)==null?void 0:k[0])==null?void 0:ee.toUpperCase())||"U"})}),T.jsxs("div",{children:[T.jsx("div",{className:"font-medium",children:(e==null?void 0:e.displayName)||((le=e==null?void 0:e.email)==null?void 0:le.split("@")[0])}),T.jsxs("div",{className:"text-gray-400 text-sm",children:["Nvel ",O.level]})]})]}),T.jsx("button",{onClick:I,className:"w-full bg-red-600 hover:bg-red-500 py-2 rounded-lg font-semibold transition-colors",children:"Sair"})]})]})}),T.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6 sm:py-8",children:[T.jsxs("div",{className:"relative bg-gradient-to-r from-gray-800 to-gray-900 rounded-2xl p-6 sm:p-8 mb-6 sm:mb-8 border border-gray-700 overflow-hidden",children:[T.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${g*100}%)`},children:R.map(K=>T.jsx("div",{className:"flex-shrink-0 w-full",children:T.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[T.jsxs("div",{className:"flex-1 text-center md:text-left",children:[T.jsx("span",{className:`bg-gradient-to-r ${K.color} text-white text-xs sm:text-sm px-3 sm:px-4 py-1.5 sm:py-2 rounded-full mb-3 sm:mb-4 inline-block shadow-lg`,children:K.badge}),T.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-3 sm:mb-4",children:K.title}),T.jsx("p",{className:"text-gray-300 text-base sm:text-lg mb-4 sm:mb-6",children:K.description}),T.jsx("button",{className:"bg-white text-gray-900 hover:bg-gray-100 py-2.5 sm:py-3 px-6 sm:px-8 rounded-xl font-bold transition-all duration-200 shadow-lg hover:shadow-xl text-sm sm:text-base",children:"Explorar Agora "})]}),T.jsx("div",{className:"flex-1 flex justify-center md:justify-end",children:T.jsx("div",{className:"w-48 h-36 sm:w-64 sm:h-48 bg-gradient-to-br from-red-900/20 to-red-600/10 rounded-2xl border border-red-800/30 flex items-center justify-center shadow-2xl",children:T.jsx("span",{className:"text-5xl sm:text-6xl",children:""})})})]})},K.id))}),T.jsx("div",{className:"flex justify-center space-x-2 sm:space-x-3 mt-4 sm:mt-6",children:R.map((K,he)=>T.jsx("button",{onClick:()=>_(he),className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full transition-all duration-300 ${he===g?"bg-white w-6 sm:w-8":"bg-gray-600"}`},he))})]}),T.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[T.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-3 sm:p-4 text-center backdrop-blur-sm",children:[T.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-400",children:O.completedCourses}),T.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:"Concludos"})]}),T.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-3 sm:p-4 text-center backdrop-blur-sm",children:[T.jsx("div",{className:"text-xl sm:text-2xl font-bold text-yellow-400",children:O.inProgress}),T.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:"Em Progresso"})]}),T.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-3 sm:p-4 text-center backdrop-blur-sm",children:[T.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-400",children:O.timeSpent}),T.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:"Tempo"})]}),T.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-3 sm:p-4 text-center backdrop-blur-sm",children:[T.jsx("div",{className:"text-xl sm:text-2xl font-bold text-purple-400",children:O.achievements}),T.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:"Conquistas"})]}),T.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-3 sm:p-4 text-center backdrop-blur-sm",children:[T.jsx("div",{className:"text-xl sm:text-2xl font-bold text-red-400",children:O.streak}),T.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:"Dias Seguidos"})]}),T.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-3 sm:p-4 text-center backdrop-blur-sm",children:[T.jsx("div",{className:"text-xl sm:text-2xl font-bold text-cyan-400",children:O.level}),T.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:"Nvel"})]})]}),T.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 sm:gap-8",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3 mb-6 sm:mb-8",children:S.map(K=>T.jsxs("button",{onClick:()=>o(K.id),className:`flex items-center space-x-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-xl text-xs sm:text-sm font-semibold transition-all duration-200 ${s===K.id?"bg-gradient-to-r from-red-600 to-red-700 text-white shadow-lg":"bg-gray-800 text-gray-300 hover:bg-gray-700 border border-gray-700"}`,children:[T.jsx("span",{className:"text-base sm:text-lg",children:K.icon}),T.jsx("span",{className:"hidden sm:inline",children:K.name}),T.jsx("span",{className:"sm:hidden",children:K.name.split(" ")[0]}),T.jsx("span",{className:"bg-gray-700 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full text-xs",children:K.count})]},K.id))}),D.length===0?T.jsx("div",{className:"text-center py-12",children:T.jsx("p",{className:"text-gray-400 text-base sm:text-lg",children:"Nenhum curso encontrado"})}):T.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:D.map(K=>T.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-2xl p-4 sm:p-6 hover:border-red-500/30 transition-all duration-300 group backdrop-blur-sm",children:[T.jsxs("div",{className:"flex items-start justify-between mb-4",children:[T.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 flex-1 min-w-0",children:[T.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-gray-700 to-gray-800 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300 border border-gray-600 text-2xl sm:text-3xl flex-shrink-0",children:K.icon}),T.jsxs("div",{className:"min-w-0 flex-1",children:[T.jsx("h3",{className:"text-base sm:text-xl font-bold mb-2 line-clamp-2",children:K.title}),T.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:K.tags.map((he,Ee)=>T.jsx("span",{className:"text-xs bg-red-500/20 text-red-400 px-2 py-0.5 sm:py-1 rounded-full border border-red-500/30",children:he},Ee))})]})]}),K.featured&&T.jsx("span",{className:"bg-gradient-to-r from-yellow-600 to-orange-600 text-white text-xs px-2 sm:px-3 py-1 rounded-full font-bold flex-shrink-0 ml-2",children:"TOP"})]}),T.jsx("p",{className:"text-gray-300 text-sm sm:text-base mb-4 sm:mb-6 leading-relaxed line-clamp-2",children:K.description}),T.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 text-xs sm:text-sm text-gray-400 mb-4",children:[T.jsx("div",{className:"flex items-center space-x-2",children:T.jsxs("span",{children:[" ",K.duration]})}),T.jsx("div",{className:"flex items-center space-x-2",children:T.jsxs("span",{children:[" ",K.lessons," aulas"]})}),T.jsx("div",{className:"flex items-center space-x-2",children:T.jsxs("span",{children:[" ",K.rating]})}),T.jsx("div",{className:"flex items-center space-x-2",children:T.jsxs("span",{children:[" ",K.students]})})]}),m[K.id]>0&&T.jsxs("div",{className:"mb-4",children:[T.jsxs("div",{className:"flex justify-between text-xs sm:text-sm text-gray-400 mb-2",children:[T.jsx("span",{children:"Progresso"}),T.jsxs("span",{children:[m[K.id],"%"]})]}),T.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:T.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-500 h-2 rounded-full transition-all duration-1000",style:{width:`${m[K.id]}%`}})})]}),T.jsxs("div",{className:"flex flex-col gap-2 sm:gap-3",children:[T.jsxs("div",{className:"flex justify-between items-center gap-2",children:[T.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 text-xs sm:text-sm",children:[T.jsx("span",{className:"text-gray-400 capitalize",children:K.level}),K.certified&&T.jsxs("span",{className:"text-green-400 flex items-center space-x-1",children:[T.jsx("span",{children:""}),T.jsx("span",{className:"hidden sm:inline",children:"Certificado"})]})]}),T.jsx(Hi,{to:`/conteudo/${K.id}`,className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-500 hover:to-red-600 text-white py-2 sm:py-3 px-4 sm:px-6 rounded-xl font-bold transition-all duration-200 shadow-lg hover:shadow-red-500/25 group-hover:scale-105 text-xs sm:text-sm",children:m[K.id]===100?"CERTIFICADO":m[K.id]>0?"CONTINUAR":"COMEAR"})]}),T.jsxs(Hi,{to:`/forum/${K.id}`,className:"w-full flex items-center justify-center gap-2 bg-gray-700/50 hover:bg-gray-700 text-gray-300 hover:text-white py-2 px-4 rounded-xl font-medium transition-all duration-200 border border-gray-600 hover:border-gray-500 text-xs sm:text-sm",children:[T.jsx(Uh,{className:"w-3 h-3 sm:w-4 sm:h-4"}),T.jsx("span",{children:"Frum"})]})]})]},K.id))})]}),T.jsxs("div",{className:"hidden lg:block w-80 space-y-6",children:[T.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-2xl p-6 backdrop-blur-sm",children:[T.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center space-x-2",children:[T.jsx("span",{children:""}),T.jsx("span",{children:"Conquistas Recentes"})]}),T.jsx("div",{className:"space-y-4",children:G.length>0?G.map(K=>T.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-700/50 rounded-lg",children:[T.jsx("span",{className:"text-2xl",children:K.icon}),T.jsxs("div",{className:"flex-1",children:[T.jsx("div",{className:"font-medium text-sm",children:K.name}),T.jsx("div",{className:"text-xs text-gray-400",children:K.date})]})]},K.id)):T.jsx("p",{className:"text-gray-400 text-sm text-center py-4",children:"Complete cursos para desbloquear conquistas!"})})]}),T.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-2xl p-6 backdrop-blur-sm",children:[T.jsx("h3",{className:"font-bold text-lg mb-4",children:"Seu Progresso"}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[T.jsx("span",{children:"Cursos Concludos"}),T.jsxs("span",{children:[O.completedCourses,"/",M.length]})]}),T.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:T.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${O.completedCourses/M.length*100}%`}})})]}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[T.jsx("span",{children:"Em Progresso"}),T.jsx("span",{children:O.inProgress})]}),T.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:T.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${O.inProgress/M.length*100}%`}})})]})]})]})]})]})]}),T.jsxs(Hi,{to:"/chat",className:"fixed bottom-4 sm:bottom-6 right-4 sm:right-6 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-500 hover:to-red-600 w-12 h-12 sm:w-14 sm:h-14 rounded-2xl flex items-center justify-center shadow-2xl transition-all duration-200 group hover:scale-110 z-40",children:[T.jsx(Uh,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"}),T.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 sm:w-5 sm:h-5 bg-green-500 rounded-full flex items-center justify-center shadow-lg",children:T.jsx("span",{className:"text-xs text-white font-bold",children:""})})]})]})}function _O(){const r=is(),[e,n]=z.useState(void 0),[s,o]=z.useState([]),[u,h]=z.useState(""),m=z.useRef(null);z.useEffect(()=>ns.onAuthStateChanged(A=>{n(A)}),[]),z.useEffect(()=>{e===null&&r("/login")},[e,r]),z.useEffect(()=>{const w=io(Tn,"messages"),A=_p(w,Ep("createdAt","asc"));return bp(A,V=>{var U;const G=V.docs.map(q=>({id:q.id,...q.data()}));o(G),(U=m.current)==null||U.scrollIntoView({behavior:"smooth"})})},[]);const p=async w=>{if(w.preventDefault(),!(!u.trim()||!e))try{await Tp(io(Tn,"messages"),{text:u,uid:e.uid,name:e.displayName||e.email.split("@")[0],createdAt:_h()}),h("")}catch(A){console.error("Erro ao enviar mensagem:",A)}},g=()=>{r("/dashboard")},_=w=>w!=null&&w.toDate?w.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return e===void 0?T.jsx("div",{className:"min-h-screen flex items-center justify-center text-white bg-gray-900",children:"Carregando..."}):e===null?null:T.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col",children:[T.jsxs("header",{className:"bg-gray-800 p-4 flex justify-between items-center",children:[T.jsx("h1",{className:"text-xl font-bold",children:"Chat"}),T.jsxs("button",{onClick:g,className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 px-3 py-2 rounded",children:[T.jsx(xg,{className:"w-5 h-5"}),T.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]})]}),T.jsx("main",{className:"flex-1 p-4 overflow-y-auto",children:T.jsxs("div",{className:"space-y-3",children:[s.map(w=>T.jsx("div",{className:`flex ${w.uid===e.uid?"justify-end":"justify-start"}`,children:T.jsxs("div",{className:`max-w-xs px-4 py-2 rounded-lg ${w.uid===e.uid?"bg-blue-600 text-white rounded-br-none":"bg-gray-700 text-white rounded-bl-none"}`,children:[w.uid!==e.uid&&T.jsx("div",{className:"font-semibold text-sm",children:w.name}),T.jsx("div",{className:"text-sm",children:w.text}),T.jsx("div",{className:"text-xs opacity-70 text-right mt-1",children:_(w.createdAt)})]})},w.id)),T.jsx("div",{ref:m})]})}),T.jsxs("form",{onSubmit:p,className:"p-4 bg-gray-800 flex gap-2",children:[T.jsx("input",{type:"text",value:u,onChange:w=>h(w.target.value),placeholder:"Digite sua mensagem...",className:"flex-1 px-3 py-2 bg-gray-700 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),T.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-500 px-4 py-2 rounded",children:"Enviar"})]})]})}function EO(){const{id:r}=qE(),e=is(),[n,s]=yf(ns),[o,u]=z.useState(0),[h,m]=z.useState(0),[p,g]=z.useState([]),[_,w]=z.useState([0]),[A,O]=z.useState(!0),[V,G]=z.useState(!1),q={"privacidade-dados":{title:"Privacidade de Dados",description:"Aprenda como proteger suas informaes pessoais na era digital",modules:[{id:0,title:"Introduo  Privacidade",lessons:[{id:0,title:"O que  Privacidade de Dados?",videoUrl:"https://www.youtube.com/embed/f_dzv0rG2NY",duration:"15:30",description:"Entenda os conceitos bsicos de privacidade de dados",article:"https://seusite.com/artigo-privacidade"},{id:1,title:"Por que a Privacidade  Importante?",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"12:45",description:"Descubra a importncia da proteo de dados pessoais"},{id:2,title:"Tipos de Dados Pessoais",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"18:20",description:"Conhea os diferentes tipos de dados que voc gera"}]},{id:1,title:"Ameaas  Privacidade",lessons:[{id:3,title:"Rastreamento Online",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"20:15",description:"Como empresas rastreiam voc na internet"},{id:4,title:"Vazamento de Dados",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"16:30",description:"Entenda como vazamentos acontecem"},{id:5,title:"Engenharia Social",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"14:50",description:"Tcnicas usadas para obter informaes pessoais"}]},{id:2,title:"Protegendo sua Privacidade",lessons:[{id:6,title:"Senhas Fortes",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"10:20",description:"Como criar senhas seguras"},{id:7,title:"Autenticao em Dois Fatores",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"13:15",description:"Adicione uma camada extra de segurana"},{id:8,title:"VPN e Navegao Annima",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"17:40",description:"Proteja sua navegao online"},{id:9,title:"Configuraes de Privacidade",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"19:25",description:"Ajuste suas configuraes nas redes sociais"}]},{id:3,title:"Projeto Final",lessons:[{id:10,title:"Auditoria de Privacidade Pessoal",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"25:00",description:"Realize uma auditoria completa da sua privacidade online"},{id:11,title:"Plano de Ao de Privacidade",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"15:30",description:"Crie seu plano pessoal de proteo de dados"}]}]},"seguranca-internet":{title:"Segurana na Internet",description:"Navegue com segurana e evite armadilhas online",modules:[{id:0,title:"Fundamentos de Segurana",lessons:[{id:0,title:"Introduo  Segurana Online",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"12:00"},{id:1,title:"Principais Ameaas da Internet",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"18:30"}]},{id:1,title:"Navegao Segura",lessons:[{id:2,title:"Identificando Sites Seguros",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"15:20"},{id:3,title:"Extenses de Segurana",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"20:15"}]}]},phishing:{title:"Ataques de Phishing",description:"Identifique e evite fraudes digitais",modules:[{id:0,title:"O que  Phishing",lessons:[{id:0,title:"Introduo ao Phishing",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"14:00"},{id:1,title:"Tipos de Phishing",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"16:30"}]}]}}[r];z.useEffect(()=>{if(!n||!r)return;(async()=>{var C;try{const De=qi(Tn,"users",n.uid),Ie=await M1(De);if(Ie.exists()){const te=((C=Ie.data().courseProgress)==null?void 0:C[r])||{};g(te.completedLessons||[]),te.lastLesson&&(u(te.lastModule||0),m(te.lastLesson||0))}}catch(De){console.error("Erro ao carregar progresso:",De)}finally{O(!1)}})()},[n,r]),z.useEffect(()=>{if(!q)return;const D=q.modules.reduce((C,De)=>C+De.lessons.length,0);p.length===D&&G(!0)},[p,q]);const W=async D=>{if(!n||p.includes(D))return;const C=[...p,D];g(C);try{const De=qi(Tn,"users",n.uid),Ie=q.modules.reduce((te,ce)=>te+ce.lessons.length,0),j=Math.round(C.length/Ie*100);await Pi(De,{[`courseProgress.${r}`]:{completedLessons:C,lastModule:o,lastLesson:D,progress:j,lastUpdated:new Date().toISOString()},[`progress.${r}`]:j}),Se.success("Aula concluda!"),C.length===Ie&&(Se.success(" Parabns! Voc completou o curso!"),G(!0))}catch(De){console.error("Erro ao atualizar progresso:",De),Se.error("Erro ao salvar progresso")}},$=D=>{w(C=>C.includes(D)?C.filter(De=>De!==D):[...C,D])},ae=(D,C)=>{u(D),m(C)},oe=D=>D===0?!1:!p.includes(D-1),pe=()=>{var D;return q?(D=q.modules[o])==null?void 0:D.lessons[h]:null},I=()=>{if(!q)return null;const D=q.modules[o].lessons;return h<D.length-1?{moduleId:o,lessonId:h+1}:o<q.modules.length-1?{moduleId:o+1,lessonId:0}:null},S=()=>{const D=I();D&&(ae(D.moduleId,D.lessonId),_.includes(D.moduleId)||$(D.moduleId))};if(s||A)return T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black text-white flex items-center justify-center",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-4"}),T.jsx("p",{className:"text-gray-400",children:"Carregando curso..."})]})});if(!q)return T.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black text-white flex flex-col items-center justify-center p-6",children:[T.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Contedo no encontrado."}),T.jsx(Hi,{to:"/dashboard",className:"text-cyan-400 hover:underline",children:"Voltar para o Dashboard"})]});const R=pe(),M=q.modules.reduce((D,C)=>D+C.lessons.length,0),P=Math.round(p.length/M*100);return T.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black text-white",children:[T.jsx("header",{className:"bg-gray-800/50 backdrop-blur-sm border-b border-gray-700 sticky top-0 z-40",children:T.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3 sm:py-4",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[T.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 px-3 py-2 rounded-lg transition-colors",children:[T.jsx(xg,{className:"w-4 h-4 sm:w-5 sm:h-5"}),T.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]}),T.jsxs("div",{children:[T.jsx("h1",{className:"text-lg sm:text-2xl font-bold",children:q.title}),T.jsx("p",{className:"text-xs sm:text-sm text-gray-400",children:q.description})]})]}),T.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[T.jsxs("div",{className:"text-right",children:[T.jsx("div",{className:"text-sm text-gray-400",children:"Seu Progresso"}),T.jsxs("div",{className:"font-bold text-lg",children:[P,"%"]})]}),T.jsx("div",{className:"w-32 bg-gray-700 rounded-full h-2",children:T.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-500 h-2 rounded-full transition-all duration-500",style:{width:`${P}%`}})})]})]})})}),T.jsxs("div",{className:"flex flex-col lg:flex-row max-w-7xl mx-auto",children:[T.jsx("aside",{className:"lg:w-96 bg-gray-800/30 border-r border-gray-700 overflow-y-auto lg:h-[calc(100vh-80px)] lg:sticky lg:top-20",children:T.jsxs("div",{className:"p-4 sm:p-6",children:[T.jsxs("div",{className:"flex items-center justify-between mb-6",children:[T.jsx("h2",{className:"font-bold text-lg sm:text-xl",children:"Contedo do Curso"}),T.jsxs("span",{className:"text-sm text-gray-400",children:[p.length,"/",M]})]}),T.jsxs("div",{className:"md:hidden mb-6",children:[T.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[T.jsx("span",{className:"text-gray-400",children:"Progresso"}),T.jsxs("span",{className:"font-bold",children:[P,"%"]})]}),T.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:T.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-500 h-2 rounded-full transition-all duration-500",style:{width:`${P}%`}})})]}),T.jsx("div",{className:"space-y-3",children:q.modules.map(D=>T.jsxs("div",{className:"bg-gray-700/30 rounded-lg overflow-hidden",children:[T.jsxs("button",{onClick:()=>$(D.id),className:"w-full flex items-center justify-between p-4 hover:bg-gray-700/50 transition-colors",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[_.includes(D.id)?T.jsx(ZD,{className:"w-5 h-5 text-gray-400"}):T.jsx(eO,{className:"w-5 h-5 text-gray-400"}),T.jsxs("div",{className:"text-left",children:[T.jsxs("div",{className:"font-semibold text-sm sm:text-base",children:["Mdulo ",D.id+1]}),T.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:D.title})]})]}),T.jsxs("span",{className:"text-xs text-gray-500",children:[D.lessons.filter(C=>p.includes(C.id)).length,"/",D.lessons.length]})]}),_.includes(D.id)&&T.jsx("div",{className:"border-t border-gray-600",children:D.lessons.map(C=>{const De=p.includes(C.id),Ie=oe(C.id),j=o===D.id&&h===C.id;return T.jsxs("button",{onClick:()=>!Ie&&ae(D.id,C.id),disabled:Ie,className:`w-full flex items-center gap-3 p-3 sm:p-4 hover:bg-gray-700/30 transition-colors text-left ${j?"bg-red-600/20 border-l-4 border-red-500":""} ${Ie?"opacity-50 cursor-not-allowed":""}`,children:[T.jsx("div",{className:"flex-shrink-0",children:De?T.jsx(ao,{className:"w-5 h-5 text-green-400"}):Ie?T.jsx(oO,{className:"w-5 h-5 text-gray-500"}):T.jsx(rO,{className:"w-5 h-5 text-gray-400"})}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsx("div",{className:"text-sm font-medium truncate",children:C.title}),C.duration&&T.jsx("div",{className:"text-xs text-gray-400",children:C.duration})]})]},C.id)})})]},D.id))}),V&&T.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-yellow-600/20 to-orange-600/20 border border-yellow-600/50 rounded-lg",children:[T.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[T.jsx(XD,{className:"w-6 h-6 text-yellow-400"}),T.jsxs("div",{children:[T.jsx("div",{className:"font-bold",children:"Parabns!"}),T.jsx("div",{className:"text-sm text-gray-300",children:"Curso concludo"})]})]}),T.jsx("button",{className:"w-full bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-500 hover:to-orange-500 py-2 rounded-lg font-semibold transition-all",children:"Baixar Certificado"})]})]})}),T.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-8",children:R&&T.jsxs("div",{className:"space-y-6",children:[T.jsx("div",{className:"bg-black rounded-xl overflow-hidden shadow-2xl",children:T.jsx("div",{className:"aspect-video",children:T.jsx("iframe",{className:"w-full h-full",src:R.videoUrl,title:R.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})}),T.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-4 sm:p-6",children:[T.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-3",children:R.title}),R.description&&T.jsx("p",{className:"text-gray-300 mb-4",children:R.description}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[T.jsxs("button",{onClick:()=>W(R.id),disabled:p.includes(R.id),className:`flex-1 flex items-center justify-center gap-2 py-3 px-6 rounded-lg font-semibold transition-all ${p.includes(R.id)?"bg-green-600/50 cursor-not-allowed":"bg-green-600 hover:bg-green-500"}`,children:[T.jsx(ao,{className:"w-5 h-5"}),p.includes(R.id)?"Aula Concluda":"Marcar como Concluda"]}),I()&&T.jsx("button",{onClick:S,className:"flex-1 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-500 hover:to-red-600 py-3 px-6 rounded-lg font-semibold transition-all",children:"Prxima Aula "})]}),R.article&&T.jsx("div",{className:"mt-6 pt-6 border-t border-gray-700",children:T.jsxs("a",{href:R.article,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-cyan-400 hover:text-cyan-300 transition-colors",children:[T.jsx(sO,{className:"w-5 h-5"}),T.jsx("span",{children:"Ler Artigo Complementar"})]})})]})]})})]})]})}function TO(){var D,C,De,Ie;const{courseId:r}=qE(),e=is(),[n,s]=yf(ns),[o,u]=z.useState([]),[h,m]=z.useState(null),[p,g]=z.useState([]),[_,w]=z.useState(!1),[A,O]=z.useState(!0),[V,G]=z.useState(!1),[U,q]=z.useState({title:"",content:""}),[W,$]=z.useState(""),oe={"privacidade-dados":"Privacidade de Dados","seguranca-internet":"Segurana na Internet",phishing:"Ataques de Phishing",criptografia:"Criptografia Avanada","seguranca-empresas":"Segurana Corporativa","backup-seguro":"Backup e Recuperao",lgpd:"LGPD e Conformidade","redes-seguras":"Segurana em Redes"}[r]||"Frum Geral";z.useEffect(()=>{!s&&!n&&e("/login")},[n,s,e]),z.useEffect(()=>{if(!r)return;const j=io(Tn,"forum_threads"),te=_p(j,CE("courseId","==",r),Ep("createdAt","desc"));return bp(te,Ae=>{const k=Ae.docs.map(ee=>({id:ee.id,...ee.data()}));u(k),O(!1)})},[r]),z.useEffect(()=>{if(!h)return;G(!0);const j=io(Tn,"forum_replies"),te=_p(j,CE("threadId","==",h.id),Ep("createdAt","asc"));return bp(te,Ae=>{const k=Ae.docs.map(ee=>({id:ee.id,...ee.data()}));g(k),G(!1)})},[h]);const pe=async j=>{if(j.preventDefault(),!(!U.title.trim()||!U.content.trim()||!n))try{await Tp(io(Tn,"forum_threads"),{courseId:r,title:U.title,content:U.content,authorId:n.uid,authorName:n.displayName||n.email.split("@")[0],createdAt:_h(),repliesCount:0,upvotes:[],downvotes:[],solved:!1}),q({title:"",content:""}),w(!1),Se.success("Tpico criado com sucesso!")}catch(te){console.error("Erro ao criar tpico:",te),Se.error("Erro ao criar tpico")}},I=async j=>{if(j.preventDefault(),!(!W.trim()||!n||!h))try{await Tp(io(Tn,"forum_replies"),{threadId:h.id,content:W,authorId:n.uid,authorName:n.displayName||n.email.split("@")[0],createdAt:_h(),upvotes:[],downvotes:[],isSolution:!1});const te=qi(Tn,"forum_threads",h.id);await Pi(te,{repliesCount:VD(1)}),$(""),Se.success("Resposta enviada!")}catch(te){console.error("Erro ao enviar resposta:",te),Se.error("Erro ao enviar resposta")}},S=async(j,te,ce)=>{var Ae,k;if(n)try{const le=qi(Tn,j==="thread"?"forum_threads":"forum_replies",te),K=j==="thread"?o.find(ge=>ge.id===te):p.find(ge=>ge.id===te),he=(Ae=K==null?void 0:K.upvotes)==null?void 0:Ae.includes(n.uid),Ee=(k=K==null?void 0:K.downvotes)==null?void 0:k.includes(n.uid);ce==="up"?he?await Pi(le,{upvotes:ah(n.uid)}):await Pi(le,{upvotes:DE(n.uid),...Ee&&{downvotes:ah(n.uid)}}):Ee?await Pi(le,{downvotes:ah(n.uid)}):await Pi(le,{downvotes:DE(n.uid),...he&&{upvotes:ah(n.uid)}})}catch(ee){console.error("Erro ao votar:",ee),Se.error("Erro ao votar")}},R=async j=>{if(!n||!h||h.authorId!==n.uid){Se.error("Apenas o autor pode marcar a soluo");return}try{const te=qi(Tn,"forum_replies",j);await Pi(te,{isSolution:!0});const ce=qi(Tn,"forum_threads",h.id);await Pi(ce,{solved:!0,solvedAt:_h()}),Se.success("Resposta marcada como soluo!")}catch(te){console.error("Erro ao marcar soluo:",te),Se.error("Erro ao marcar como soluo")}},M=j=>{if(!(j!=null&&j.toDate))return"";const te=j.toDate(),Ae=new Date-te,k=Math.floor(Ae/6e4),ee=Math.floor(Ae/36e5),le=Math.floor(Ae/864e5);return k<60?`${k}m atrs`:ee<24?`${ee}h atrs`:le<7?`${le}d atrs`:te.toLocaleDateString()},P=(j=[],te=[])=>j.length-te.length;return s||A?T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black text-white flex items-center justify-center",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-4"}),T.jsx("p",{className:"text-gray-400",children:"Carregando frum..."})]})}):T.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black text-white",children:[T.jsx("header",{className:"bg-gray-800/50 backdrop-blur-sm border-b border-gray-700 sticky top-0 z-40",children:T.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 px-3 py-2 rounded-lg transition-colors",children:[T.jsx(xg,{className:"w-5 h-5"}),T.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]}),T.jsxs("div",{children:[T.jsx("h1",{className:"text-2xl font-bold",children:oe}),T.jsx("p",{className:"text-gray-400 text-sm",children:"Frum de Discusso"})]})]}),T.jsx("button",{onClick:()=>w(!_),className:"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-500 hover:to-red-600 px-4 py-2 rounded-lg font-semibold transition-all",children:"+ Novo Tpico"})]})})}),T.jsx("main",{className:"max-w-7xl mx-auto px-6 py-8",children:T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[T.jsx("div",{className:"lg:col-span-1 space-y-4",children:T.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-4",children:[T.jsx("h2",{className:"font-bold text-lg mb-4",children:"Tpicos"}),_&&T.jsxs("form",{onSubmit:pe,className:"mb-6 p-4 bg-gray-700/50 rounded-lg border border-gray-600",children:[T.jsx("input",{type:"text",placeholder:"Ttulo do tpico...",value:U.title,onChange:j=>q({...U,title:j.target.value}),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 mb-3 focus:outline-none focus:ring-2 focus:ring-red-500",required:!0}),T.jsx("textarea",{placeholder:"Descreva sua dvida ou discusso...",value:U.content,onChange:j=>q({...U,content:j.target.value}),className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 mb-3 h-24 resize-none focus:outline-none focus:ring-2 focus:ring-red-500",required:!0}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{type:"submit",className:"flex-1 bg-red-600 hover:bg-red-500 py-2 rounded-lg font-semibold",children:"Criar"}),T.jsx("button",{type:"button",onClick:()=>w(!1),className:"flex-1 bg-gray-600 hover:bg-gray-500 py-2 rounded-lg font-semibold",children:"Cancelar"})]})]}),T.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:o.length===0?T.jsx("p",{className:"text-gray-400 text-center py-8",children:"Nenhum tpico ainda. Seja o primeiro!"}):o.map(j=>T.jsxs("div",{onClick:()=>m(j),className:`p-3 rounded-lg cursor-pointer transition-all ${(h==null?void 0:h.id)===j.id?"bg-red-600/20 border border-red-500":"bg-gray-700/30 hover:bg-gray-700/50 border border-transparent"}`,children:[T.jsxs("div",{className:"flex items-start justify-between mb-2",children:[T.jsx("h3",{className:"font-semibold text-sm line-clamp-2",children:j.title}),j.solved&&T.jsx(ao,{className:"w-5 h-5 text-green-400 flex-shrink-0 ml-2"})]}),T.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[T.jsx("span",{children:j.authorName}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsxs("span",{className:"flex items-center gap-1",children:[T.jsx(Uh,{className:"w-3 h-3"}),j.repliesCount||0]}),T.jsxs("span",{className:"flex items-center gap-1",children:[T.jsx(Um,{className:"w-3 h-3"}),P(j.upvotes,j.downvotes)]})]})]}),T.jsx("div",{className:"text-xs text-gray-500 mt-1",children:M(j.createdAt)})]},j.id))})]})}),T.jsx("div",{className:"lg:col-span-2",children:h?T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[T.jsx("div",{className:"flex items-start justify-between mb-4",children:T.jsxs("div",{className:"flex-1",children:[T.jsx("h2",{className:"text-2xl font-bold mb-2",children:h.title}),T.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[T.jsx("span",{children:h.authorName}),T.jsx("span",{children:M(h.createdAt)}),h.solved&&T.jsxs("span",{className:"flex items-center gap-1 text-green-400",children:[T.jsx(ao,{className:"w-4 h-4"}),"Resolvido"]})]})]})}),T.jsx("p",{className:"text-gray-300 mb-4 whitespace-pre-wrap",children:h.content}),T.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t border-gray-700",children:[T.jsxs("button",{onClick:()=>S("thread",h.id,"up"),className:`flex items-center gap-2 px-3 py-1 rounded-lg transition-colors ${(D=h.upvotes)!=null&&D.includes(n==null?void 0:n.uid)?"bg-green-600 text-white":"bg-gray-700 hover:bg-gray-600"}`,children:[T.jsx(Um,{className:"w-4 h-4"}),T.jsx("span",{children:((C=h.upvotes)==null?void 0:C.length)||0})]}),T.jsxs("button",{onClick:()=>S("thread",h.id,"down"),className:`flex items-center gap-2 px-3 py-1 rounded-lg transition-colors ${(De=h.downvotes)!=null&&De.includes(n==null?void 0:n.uid)?"bg-red-600 text-white":"bg-gray-700 hover:bg-gray-600"}`,children:[T.jsx(ME,{className:"w-4 h-4"}),T.jsx("span",{children:((Ie=h.downvotes)==null?void 0:Ie.length)||0})]}),T.jsxs("span",{className:"text-gray-400",children:["Score: ",P(h.upvotes,h.downvotes)]})]})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("h3",{className:"font-bold text-lg",children:["Respostas (",p.length,")"]}),V?T.jsx("div",{className:"text-center py-8",children:T.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-red-500 mx-auto"})}):p.length===0?T.jsx("p",{className:"text-gray-400 text-center py-8",children:"Nenhuma resposta ainda. Seja o primeiro a responder!"}):p.map(j=>{var te,ce,Ae,k;return T.jsxs("div",{className:`bg-gray-800/50 border rounded-xl p-4 ${j.isSolution?"border-green-500 bg-green-900/10":"border-gray-700"}`,children:[T.jsxs("div",{className:"flex items-start justify-between mb-3",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:T.jsx("span",{className:"font-bold text-sm",children:j.authorName[0].toUpperCase()})}),T.jsxs("div",{children:[T.jsx("div",{className:"font-semibold",children:j.authorName}),T.jsx("div",{className:"text-xs text-gray-400",children:M(j.createdAt)})]})]}),j.isSolution&&T.jsxs("span",{className:"flex items-center gap-1 text-green-400 text-sm",children:[T.jsx(ao,{className:"w-4 h-4"}),"Soluo"]})]}),T.jsx("p",{className:"text-gray-300 mb-4 whitespace-pre-wrap",children:j.content}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("button",{onClick:()=>S("reply",j.id,"up"),className:`flex items-center gap-2 px-3 py-1 rounded-lg transition-colors text-sm ${(te=j.upvotes)!=null&&te.includes(n==null?void 0:n.uid)?"bg-green-600 text-white":"bg-gray-700 hover:bg-gray-600"}`,children:[T.jsx(Um,{className:"w-4 h-4"}),T.jsx("span",{children:((ce=j.upvotes)==null?void 0:ce.length)||0})]}),T.jsxs("button",{onClick:()=>S("reply",j.id,"down"),className:`flex items-center gap-2 px-3 py-1 rounded-lg transition-colors text-sm ${(Ae=j.downvotes)!=null&&Ae.includes(n==null?void 0:n.uid)?"bg-red-600 text-white":"bg-gray-700 hover:bg-gray-600"}`,children:[T.jsx(ME,{className:"w-4 h-4"}),T.jsx("span",{children:((k=j.downvotes)==null?void 0:k.length)||0})]}),T.jsxs("span",{className:"text-gray-400 text-sm",children:["Score: ",P(j.upvotes,j.downvotes)]}),!h.solved&&h.authorId===(n==null?void 0:n.uid)&&!j.isSolution&&T.jsxs("button",{onClick:()=>R(j.id),className:"ml-auto flex items-center gap-2 bg-green-600 hover:bg-green-500 px-3 py-1 rounded-lg text-sm transition-colors",children:[T.jsx(ao,{className:"w-4 h-4"}),"Marcar como Soluo"]})]})]},j.id)})]}),T.jsxs("form",{onSubmit:I,className:"bg-gray-800/50 border border-gray-700 rounded-xl p-4",children:[T.jsx("textarea",{placeholder:"Escreva sua resposta...",value:W,onChange:j=>$(j.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 mb-3 h-32 resize-none focus:outline-none focus:ring-2 focus:ring-red-500",required:!0}),T.jsxs("button",{type:"submit",className:"flex items-center gap-2 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-500 hover:to-red-600 px-6 py-2 rounded-lg font-semibold transition-all",children:[T.jsx(dO,{className:"w-4 h-4"}),"Enviar Resposta"]})]})]}):T.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-12 text-center",children:[T.jsx(Uh,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),T.jsx("p",{className:"text-gray-400 text-lg",children:"Selecione um tpico para ver a discusso"})]})})]})})]})}function bO(){return T.jsxs(Vx,{children:[T.jsx(xS,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"}),T.jsxs(hx,{children:[T.jsx(Vi,{path:"/",element:T.jsx(ux,{to:"/login",replace:!0})}),T.jsx(Vi,{path:"/login",element:T.jsx(BD,{})}),T.jsx(Vi,{path:"/register",element:T.jsx(qD,{})}),T.jsx(Vi,{path:"/dashboard",element:T.jsx(vO,{})}),T.jsx(Vi,{path:"/chat",element:T.jsx(_O,{})}),T.jsx(Vi,{path:"/conteudo/:id",element:T.jsx(EO,{})}),T.jsx(Vi,{path:"/forum/:courseId",element:T.jsx(TO,{})})]})]})}_A.createRoot(document.getElementById("root")).render(T.jsx(rt.StrictMode,{children:T.jsx(bO,{})}));
